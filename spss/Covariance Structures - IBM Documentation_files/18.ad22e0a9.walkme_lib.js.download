window,window._walkmeWebpackJP&&(window._walkmeWebpackJP=window._walkmeWebpackJP||[]).push([[18],{1165:function(r,t,e){!function(t){var n=e(1254),i={init:function(){t.register("ComponentAPI").dependencies("RichTextEditorConverter").asCtor(function(t){this.getRichTextElement=t.getRichTextElement})},services:["RichTextEditorConverter","MentionElement"],types:[]};e(2451),e(2452),e(2461),e(2462),e(2463),e(2464),e(2465),e(10).registerApi(i,n),r.exports=i}.call(this,e(2))},1254:function(t,n,i){t.exports=i(10).create()},1266:function(t,n,i){"use strict";var r,e,u,o,c;Object.defineProperty(n,"__esModule",{value:!0}),n.NewLine="\n",(r=e=e||{}).Ordered="ordered",r.Bullet="bullet",r.Checked="checked",r.Unchecked="unchecked",n.ListType=e,(e=r={}).Sub="sub",e.Super="super",n.ScriptType=r,(u=u||{}).Rtl="rtl",n.DirectionType=u,(u=o=o||{}).Left="left",u.Center="center",u.Right="right",u.Justify="justify",n.AlignType=o,(o=c=c||{}).Image="image",o.Video="video",o.Formula="formula",o.Text="text",n.DataType=c,(c=o={}).Block="block",c.InlineGroup="inline-group",c.List="list",c.Video="video",n.GroupType=o},1334:function(t,n,i){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=i(2453);n.QuillDeltaToHtmlConverter=r.QuillDeltaToHtmlConverter,r=i(1544),n.OpToHtmlConverter=r.OpToHtmlConverter,r=i(1336),n.InlineGroup=r.InlineGroup,n.VideoItem=r.VideoItem,n.BlockGroup=r.BlockGroup,n.ListGroup=r.ListGroup,n.ListItem=r.ListItem,n.BlotBlock=r.BlotBlock,r=i(1420),n.DeltaInsertOp=r.DeltaInsertOp,r=i(1421),n.InsertDataQuill=r.InsertDataQuill,n.InsertDataCustom=r.InsertDataCustom,i=i(1266),n.NewLine=i.NewLine,n.ListType=i.ListType,n.ScriptType=i.ScriptType,n.DirectionType=i.DirectionType,n.AlignType=i.AlignType,n.DataType=i.DataType,n.GroupType=i.GroupType},1335:function(t,i,n){"use strict";!function(n){Object.defineProperty(i,"__esModule",{value:!0}),i.preferSecond=function(t){return 0===t.length?null:2<=t.length?t[1]:t[0]},i.flatten=function i(t){return n.reduce(t,function(t,n){return t.concat(Array.isArray(n)?i(n):n)},[])},i.find=function(t,n){if(Array.prototype.find)return Array.prototype.find.call(t,n);for(var i=0;i<t.length;i++)if(n(t[i]))return t[i]},i.groupConsecutiveElementsWhile=function(t,n){for(var i,r=[],e=0;e<t.length;e++)i=t[e],0<e&&n(i,t[e-1])?r[r.length-1].push(i):r.push([i]);return r.map(function(t){return 1===t.length?t[0]:t})},i.sliceFromReverseWhile=function(t,n,i){for(var r={elements:[],sliceStartsAt:-1},e=n;0<=e&&i(t[e]);e--)r.sliceStartsAt=e,r.elements.unshift(t[e]);return r},i.intersperse=function(r,e){return r.reduce(function(t,n,i){return t.push(n),i<r.length-1&&t.push(e),t},[])}}.call(this,n(25))},1336:function(t,n,i){"use strict";var r,e=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)n.hasOwnProperty(i)&&(t[i]=n[i])},function(t,n){function i(){this.constructor=t}r(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)});Object.defineProperty(n,"__esModule",{value:!0}),n.InlineGroup=function(t){this.ops=t};var u,o=(e(c,u=f=function(t){this.op=t}),c);function c(){return null!==u&&u.apply(this,arguments)||this}n.VideoItem=o;var s,f=(e(a,s=f),a);function a(){return null!==s&&s.apply(this,arguments)||this}n.BlotBlock=f,n.BlockGroup=function(t,n){this.op=t,this.ops=n},n.ListGroup=function(t){this.items=t},f=function(t,n){void 0===n&&(n=null),this.item=t,this.innerList=n},n.ListItem=f},1420:function(t,n,i){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=i(1266),e=i(1421),i=(u.createNewLineOp=function(){return new u(r.NewLine)},u.prototype.isContainerBlock=function(){var t=this.attributes;return!!(t.blockquote||t.list||t["code-block"]||t.header||t.align||t.direction||t.indent)},u.prototype.isBlockquote=function(){return!!this.attributes.blockquote},u.prototype.isHeader=function(){return!!this.attributes.header},u.prototype.isSameHeaderAs=function(t){return t.attributes.header===this.attributes.header&&this.isHeader()},u.prototype.hasSameAdiAs=function(t){return this.attributes.align===t.attributes.align&&this.attributes.direction===t.attributes.direction&&this.attributes.indent===t.attributes.indent},u.prototype.hasSameIndentationAs=function(t){return this.attributes.indent===t.attributes.indent},u.prototype.hasHigherIndentThan=function(t){return(Number(this.attributes.indent)||0)>(Number(t.attributes.indent)||0)},u.prototype.isInline=function(){return!(this.isContainerBlock()||this.isVideo()||this.isCustomBlock())},u.prototype.isCodeBlock=function(){return!!this.attributes["code-block"]},u.prototype.isJustNewline=function(){return this.insert.value===r.NewLine},u.prototype.isList=function(){return this.isOrderedList()||this.isBulletList()||this.isCheckedList()||this.isUncheckedList()},u.prototype.isOrderedList=function(){return this.attributes.list===r.ListType.Ordered},u.prototype.isBulletList=function(){return this.attributes.list===r.ListType.Bullet},u.prototype.isCheckedList=function(){return this.attributes.list===r.ListType.Checked},u.prototype.isUncheckedList=function(){return this.attributes.list===r.ListType.Unchecked},u.prototype.isACheckList=function(){return this.attributes.list==r.ListType.Unchecked||this.attributes.list===r.ListType.Checked},u.prototype.isSameListAs=function(t){return!!t.attributes.list&&(this.attributes.list===t.attributes.list||t.isACheckList()&&this.isACheckList())},u.prototype.isText=function(){return this.insert.type===r.DataType.Text},u.prototype.isImage=function(){return this.insert.type===r.DataType.Image},u.prototype.isFormula=function(){return this.insert.type===r.DataType.Formula},u.prototype.isVideo=function(){return this.insert.type===r.DataType.Video},u.prototype.isLink=function(){return this.isText()&&!!this.attributes.link},u.prototype.isCustom=function(){return this.insert instanceof e.InsertDataCustom},u.prototype.isCustomBlock=function(){return this.isCustom()&&!!this.attributes.renderAsBlock},u.prototype.isMentions=function(){return this.isText()&&!!this.attributes.mentions},u);function u(t,n){"string"==typeof t&&(t=new e.InsertDataQuill(r.DataType.Text,t+"")),this.insert=t,this.attributes=n||{}}n.DeltaInsertOp=i},1421:function(t,n,i){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.InsertDataQuill=function(t,n){this.type=t,this.value=n},n.InsertDataCustom=function(t,n){this.type=t,this.value=n}},1422:function(t,n,i){"use strict";!function(y){Object.defineProperty(n,"__esModule",{value:!0});var _=i(1266),j=i(2455),r=i(2456),e=i(1423),k=i(1335),t=(M.sanitize=function(i,t){var r={};if(!i||"object"!=typeof i)return r;var n=["bold","italic","underline","strike","code","blockquote","code-block","renderAsBlock"],e=["background","color"],u=i.font,o=i.size,c=i.link,s=i.script,f=i.list,a=i.header,l=i.align,h=i.direction,v=i.indent,d=i.mentions,m=i.mention,g=i.width,b=i.target,p=i.rel,w=n.concat(e,["font","size","link","script","list","header","align","direction","indent","mentions","mention","width","target","rel"]);return n.forEach(function(t){var n=i[t];n&&(r[t]=!!n)}),e.forEach(function(t){var n=i[t];n&&(M.IsValidHexColor(n+"")||M.IsValidColorLiteral(n+"")||M.IsValidRGBColor(n+""))&&(r[t]=n)}),u&&M.IsValidFontName(u+"")&&(r.font=u),o&&M.IsValidSize(o+"")&&(r.size=o),g&&M.IsValidWidth(g+"")&&(r.width=g),c&&(r.link=M.sanitizeLinkUsingOptions(c+"",t)),b&&M.isValidTarget(b)&&(r.target=b),p&&M.IsValidRel(p)&&(r.rel=p),s!==_.ScriptType.Sub&&_.ScriptType.Super!==s||(r.script=s),f!==_.ListType.Bullet&&f!==_.ListType.Ordered&&f!==_.ListType.Checked&&f!==_.ListType.Unchecked||(r.list=f),Number(a)&&(r.header=Math.min(Number(a),6)),k.find([_.AlignType.Center,_.AlignType.Right,_.AlignType.Justify,_.AlignType.Left],function(t){return t===l})&&(r.align=l),h===_.DirectionType.Rtl&&(r.direction=h),v&&Number(v)&&(r.indent=Math.min(Number(v),30)),d&&m&&(t=j.MentionSanitizer.sanitize(m,t),0<Object.keys(t).length&&(r.mentions=!!d,r.mention=m)),y.reduce(Object.keys(i),function(t,n){return-1===w.indexOf(n)&&(t[n]=i[n]),t},r)},M.sanitizeLinkUsingOptions=function(t,n){var i=function(){};return"string"==typeof(i=(i=n&&"function"==typeof n.urlSanitizer?n.urlSanitizer:i)(t))?i:e.encodeLink(r.sanitize(t))},M.IsValidHexColor=function(t){return!!t.match(/^#([0-9A-F]{6}|[0-9A-F]{3})$/i)},M.IsValidColorLiteral=function(t){return!!t.match(/^[a-z]{1,50}$/i)},M.IsValidRGBColor=function(t){return!!t.match(/^rgb\(((0|25[0-5]|2[0-4]\d|1\d\d|0?\d?\d),\s*){2}(0|25[0-5]|2[0-4]\d|1\d\d|0?\d?\d)\)$/i)},M.IsValidFontName=function(t){return!!t.match(/^[a-z\s0-9\- ]{1,30}$/i)},M.IsValidSize=function(t){return!!t.match(/^[a-z0-9\-]{1,20}$/i)},M.IsValidWidth=function(t){return!!t.match(/^[0-9]*(px|em|%)?$/)},M.isValidTarget=function(t){return!!t.match(/^[_a-zA-Z0-9\-]{1,50}$/)},M.IsValidRel=function(t){return!!t.match(/^[a-zA-Z\s\-]{1,250}$/i)},M);function M(){}n.OpAttributeSanitizer=t}.call(this,i(25))},1423:function(t,n,i){"use strict";var r,e;function u(t){return o(r.Html).reduce(s,t)}function o(t){var n=[["&","&amp;"],["<","&lt;"],[">","&gt;"],['"',"&quot;"],["'","&#x27;"],["\\/","&#x2F;"],["\\(","&#40;"],["\\)","&#41;"]];return t===r.Html?n.filter(function(t){var n=t[0];return t[1],-1===n.indexOf("(")&&-1===n.indexOf(")")}):n.filter(function(t){var n=t[0];return t[1],-1===n.indexOf("/")})}function c(t,n){return t.replace(new RegExp(n[0],"g"),n[1])}function s(t,n){return t.replace(new RegExp(n[1],"g"),n[0].replace("\\",""))}Object.defineProperty(n,"__esModule",{value:!0}),(e=r=r||{})[e.Html=0]="Html",e[e.Url=1]="Url",n.makeStartTag=function(t,n){if(!t)return"";var i="",r="img"!==t&&"br"!==t?">":"/>";return(i=(n=void 0===n?void 0:n)?[].concat(n).map(function(t){return t.key+(t.value?'="'+t.value+'"':"")}).join(" "):i)?"<"+t+" "+i+r:"<"+t+r},n.makeEndTag=function(t){return(t=void 0===t?"":t)&&"</"+t+">"||""},n.decodeHtml=u,n.encodeHtml=function(t,n){return(n=void 0===n||n)&&(t=u(t)),o(r.Html).reduce(c,t)},n.encodeLink=function(t){var n=o(r.Url),t=n.reduce(s,t);return n.reduce(c,t)}},1424:function(t,n,i){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.assign=function(t){for(var n=[],i=1;i<arguments.length;i++)n[i-1]=arguments[i];if(null==t)throw new TypeError("Cannot convert undefined or null to object");for(var r=Object(t),e=0;e<n.length;e++){var u=n[e];if(null!=u)for(var o in u)Object.prototype.hasOwnProperty.call(u,o)&&(r[o]=u[o])}return r}},1544:function(t,u,n){"use strict";Object.defineProperty(u,"__esModule",{value:!0});var a=n(1423),l=n(1266),i=n(1424),o=n(1335),r=n(1422),e={serif:"font-family: Georgia, Times New Roman, serif",monospace:"font-family: Monaco, Courier New, monospace"};function c(t,n){this.op=t,this.options=i.assign({},{classPrefix:"ql",inlineStyles:void 0,encodeHtml:!0,listItemTag:"li",paragraphTag:"p"},n)}u.DEFAULT_INLINE_STYLES={font:function(t){return e[t]||"font-family:"+t},size:{small:"font-size: 0.75em",large:"font-size: 1.5em",huge:"font-size: 2.5em"},indent:function(t,n){return t=3*parseInt(t,10),"padding-"+("rtl"===n.attributes.direction?"right":"left")+":"+t+"em"},direction:function(t,n){if("rtl"===t)return"direction:rtl"+(n.attributes.align?"":"; text-align:inherit")}},c.prototype.prefixClass=function(t){return this.options.classPrefix?this.options.classPrefix+"-"+t:t+""},c.prototype.getHtml=function(){var t=this.getHtmlParts();return t.openingTag+t.content+t.closingTag},c.prototype.getHtmlParts=function(){var n=this;if(this.op.isJustNewline()&&!this.op.isContainerBlock())return{openingTag:"",closingTag:"",content:l.NewLine};var t=this.getTags(),i=this.getTagAttributes();!t.length&&i.length&&t.push("span");for(var r=[],e=[],u="img",o=function(t){return t===u&&!!n.op.attributes.link},c=0,s=t;c<s.length;c++){var f=s[c];o(f)&&r.push(a.makeStartTag("a",this.getLinkAttrs())),r.push(a.makeStartTag(f,i)),e.push("img"===f?"":a.makeEndTag(f)),o(f)&&e.push(a.makeEndTag("a")),i=[]}return e.reverse(),{openingTag:r.join(""),content:this.getContent(),closingTag:e.join("")}},c.prototype.getContent=function(){if(this.op.isContainerBlock())return"";if(this.op.isMentions())return this.op.insert.value;var t=this.op.isFormula()||this.op.isText()?this.op.insert.value:"";return this.options.encodeHtml&&a.encodeHtml(t)||t},c.prototype.getCssClasses=function(){var n=this.op.attributes;if(this.options.inlineStyles)return[];var t=["indent","align","direction","font","size"];return this.options.allowBackgroundClasses&&t.push("background"),t.filter(function(t){return!!n[t]}).filter(function(t){return"background"!==t||r.OpAttributeSanitizer.IsValidColorLiteral(n[t])}).map(function(t){return t+"-"+n[t]}).concat(this.op.isFormula()?"formula":[]).concat(this.op.isVideo()?"video":[]).concat(this.op.isImage()?"image":[]).map(this.prefixClass.bind(this))},c.prototype.getCssStyles=function(){var r=this,e=this.op.attributes,t=[["color"]];return!this.options.inlineStyles&&this.options.allowBackgroundClasses||t.push(["background","background-color"]),(t=this.options.inlineStyles?t.concat([["indent"],["align","text-align"],["direction"],["font","font-family"],["size"]]):t).filter(function(t){return!!e[t[0]]}).map(function(t){var n=t[0],i=e[n];return"object"==typeof(n=r.options.inlineStyles&&r.options.inlineStyles[n]||u.DEFAULT_INLINE_STYLES[n])?n[i]:"function"!=typeof n?o.preferSecond(t)+":"+i:n(i,r.op)}).filter(function(t){return void 0!==t})},c.prototype.getTagAttributes=function(){if(this.op.attributes.code&&!this.op.isLink())return[];var t=this.makeAttr.bind(this),n=(n=this.getCssClasses()).length?[t("class",n.join(" "))]:[];if(this.op.isImage())return(n=this.op.attributes.width?n.concat(t("width",this.op.attributes.width)):n).concat(t("src",this.op.insert.value));if(this.op.isACheckList())return n.concat(t("data-checked",this.op.isCheckedList()?"true":"false"));if(this.op.isFormula())return n;if(this.op.isVideo())return n.concat(t("frameborder","0"),t("allowfullscreen","true"),t("src",this.op.insert.value));if(this.op.isMentions()){var i=this.op.attributes.mention;return i.class&&(n=n.concat(t("class",i.class))),n=i["end-point"]&&i.slug?n.concat(t("href",i["end-point"]+"/"+i.slug)):n.concat(t("href","about:blank")),i.target?n.concat(t("target",i.target)):n}return(i=this.getCssStyles()).length&&n.push(t("style",i.join(";"))),!this.op.isContainerBlock()&&this.op.isLink()?n.concat(this.getLinkAttrs()):n},c.prototype.makeAttr=function(t,n){return{key:t,value:n}},c.prototype.getLinkAttrs=function(){var t=r.OpAttributeSanitizer.isValidTarget(this.options.linkTarget||"")?this.options.linkTarget:void 0,n=r.OpAttributeSanitizer.IsValidRel(this.options.linkRel||"")?this.options.linkRel:void 0,t=this.op.attributes.target||t,n=this.op.attributes.rel||n;return[].concat(this.makeAttr("href",this.op.attributes.link)).concat(t?this.makeAttr("target",t):[]).concat(n?this.makeAttr("rel",n):[])},c.prototype.getTags=function(){var n=this.op.attributes;if(!this.op.isText())return[this.op.isVideo()?"iframe":this.op.isImage()?"img":"span"];for(var t=this.options.paragraphTag||"p",i=0,r=[["blockquote"],["code-block","pre"],["list",this.options.listItemTag],["header"],["align",t],["direction",t],["indent",t]];i<r.length;i++){var e=r[i],u=e[0];if(n[u])return"header"===u?["h"+n[u]]:[o.preferSecond(e)]}return[["link","a"],["mentions","a"],["script"],["bold","strong"],["italic","em"],["strike","s"],["underline","u"],["code"]].filter(function(t){return!!n[t[0]]}).map(function(t){return"script"===t[0]?n[t[0]]===l.ScriptType.Sub?"sub":"sup":o.preferSecond(t)})},u.OpToHtmlConverter=n=c},2451:function(t,n,i){i(1254).register("RichTextEditorDefaults").dependencies("FontStyleTranslator,FeaturesManager").asCtor(function(i,r){this.getConfig=function(t){var n=r.isFeatureEnabled("rteOverrideGlobalCss")&&t?" !important":"";return{encodeHtml:!1,classPrefix:"wm-vd-rte",inlineStyles:{size:function(t){return"font-size:"+t+n},font:function(t){return"font-family:"+i.getFontFamilyWithFallback(t)+n},color:function(t){return"color:"+t+n}}}}})},2452:function(t,n,i){var r=i(1254),f=(i=i(1334)).OpToHtmlConverter,a=i.DeltaInsertOp;r.register("ActionElement").asCtor(function(e,u,o,c,s){this.getHtml=function(t,n,i){var r,i=new f(new a(t.insert.value.text,(r=t.attributes,s.extend({underline:!0},r))),o.getConfig(i));return(i=e.parseElement(i.getHtml())).setAttribute("href",""),i.setAttribute(u.RICH_TEXT_EDITOR.ACTION_LINK_ATTR,c.toJSON(t.insert.value)),i.outerHTML}}).dependencies("DomManager, Consts, RichTextEditorDefaults, JsonUtils, wmjQuery")},2453:function(t,n,i){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=i(2454),e=i(1544),u=i(2459),o=i(1336),c=i(2460),s=i(1423),f=i(1424),a=i(1266),l="<br/>",i=(h.prototype._getListTag=function(t){return t.isOrderedList()?this.options.orderedListTag+"":t.isBulletList()||t.isCheckedList()||t.isUncheckedList()?this.options.bulletListTag+"":""},h.prototype.getGroupedOps=function(){var t=r.InsertOpsConverter.convert(this.rawDeltaOps,this.options),t=u.Grouper.pairOpsWithTheirBlock(t),t=u.Grouper.groupConsecutiveSameStyleBlocks(t,{blockquotes:!!this.options.multiLineBlockquote,header:!!this.options.multiLineHeader,codeBlocks:!!this.options.multiLineCodeblock}),t=u.Grouper.reduceConsecutiveSameStyleBlocksToOne(t);return(new c.ListNester).nest(t)},h.prototype.convert=function(){var i=this;return this.getGroupedOps().map(function(t){if(t instanceof o.ListGroup)return i._renderWithCallbacks(a.GroupType.List,t,function(){return i._renderList(t)});if(t instanceof o.BlockGroup){var n=t;return i._renderWithCallbacks(a.GroupType.Block,t,function(){return i._renderBlock(n.op,n.ops)})}return t instanceof o.BlotBlock?i._renderCustom(t.op,null):t instanceof o.VideoItem?i._renderWithCallbacks(a.GroupType.Video,t,function(){return new e.OpToHtmlConverter(t.op,i.converterOptions).getHtml()}):i._renderWithCallbacks(a.GroupType.InlineGroup,t,function(){return i._renderInlines(t.ops,!0)})}).join("")},h.prototype._renderWithCallbacks=function(t,n,i){var r="",e=this.callbacks.beforeRender_cb,r=(r="function"==typeof e?e.apply(null,[t,n]):"")||i();return"function"==typeof(i=this.callbacks.afterRender_cb)?i.apply(null,[t,r]):r},h.prototype._renderList=function(t){var n=this,i=t.items[0];return s.makeStartTag(this._getListTag(i.item.op))+t.items.map(function(t){return n._renderListItem(t)}).join("")+s.makeEndTag(this._getListTag(i.item.op))},h.prototype._renderListItem=function(t){t.item.op.attributes.indent=0;var n=new e.OpToHtmlConverter(t.item.op,this.converterOptions).getHtmlParts(),i=this._renderInlines(t.item.ops,!1);return n.openingTag+i+(t.innerList?this._renderList(t.innerList):"")+n.closingTag},h.prototype._renderBlock=function(n,t){var i=this,r=new e.OpToHtmlConverter(n,this.converterOptions).getHtmlParts();return n.isCodeBlock()?r.openingTag+s.encodeHtml(t.map(function(t){return t.isCustom()?i._renderCustom(t,n):t.insert.value}).join(""))+r.closingTag:(t=t.map(function(t){return i._renderInline(t,n)}).join(""),r.openingTag+(t||l)+r.closingTag)},h.prototype._renderInlines=function(t,n){var i=this;void 0===n&&(n=!0);var r=t.length-1,e=t.map(function(t,n){return 0<n&&n===r&&t.isJustNewline()?"":i._renderInline(t,null)}).join("");return n?(t=s.makeStartTag(this.options.paragraphTag),n=s.makeEndTag(this.options.paragraphTag),e===l||this.options.multiLineParagraph?t+e+n:t+e.split(l).map(function(t){return""===t?l:t}).join(n+t)+n):e},h.prototype._renderInline=function(t,n){return t.isCustom()?this._renderCustom(t,n):new e.OpToHtmlConverter(t,this.converterOptions).getHtml().replace(/\n/g,l)},h.prototype._renderCustom=function(t,n){var i=this.callbacks.renderCustomOp_cb;return"function"==typeof i?i.apply(null,[t,n]):""},h.prototype.beforeRender=function(t){"function"==typeof t&&(this.callbacks.beforeRender_cb=t)},h.prototype.afterRender=function(t){"function"==typeof t&&(this.callbacks.afterRender_cb=t)},h.prototype.renderCustomWith=function(t){this.callbacks.renderCustomOp_cb=t},h);function h(t,n){this.rawDeltaOps=[],this.callbacks={},this.options=f.assign({paragraphTag:"p",encodeHtml:!0,classPrefix:"ql",inlineStyles:!1,multiLineBlockquote:!0,multiLineHeader:!0,multiLineCodeblock:!0,multiLineParagraph:!0,allowBackgroundClasses:!1,linkTarget:"_blank"},n,{orderedListTag:"ol",bulletListTag:"ul",listItemTag:"li"}),n=this.options.inlineStyles?"object"==typeof this.options.inlineStyles?this.options.inlineStyles:{}:void 0,this.converterOptions={encodeHtml:this.options.encodeHtml,classPrefix:this.options.classPrefix,inlineStyles:n,listItemTag:this.options.listItemTag,paragraphTag:this.options.paragraphTag,linkRel:this.options.linkRel,linkTarget:this.options.linkTarget,allowBackgroundClasses:this.options.allowBackgroundClasses},this.rawDeltaOps=t}n.QuillDeltaToHtmlConverter=i},2454:function(t,n,i){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var c=i(1420),r=i(1266),e=i(1421),s=i(1422),f=i(2457),i=(a.convert=function(t,n){if(!Array.isArray(t))return[];for(var i,r=[],e=0,u=[].concat.apply([],t.map(f.InsertOpDenormalizer.denormalize));e<u.length;e++){var o=u[e];o.insert&&(i=a.convertInsertVal(o.insert,n))&&(o=s.OpAttributeSanitizer.sanitize(o.attributes,n),r.push(new c.DeltaInsertOp(i,o)))}return r},a.convertInsertVal=function(t,n){if("string"==typeof t)return new e.InsertDataQuill(r.DataType.Text,t);if(!t||"object"!=typeof t)return null;var i=Object.keys(t);return i.length?r.DataType.Image in t?new e.InsertDataQuill(r.DataType.Image,s.OpAttributeSanitizer.sanitizeLinkUsingOptions(t[r.DataType.Image]+"",n)):r.DataType.Video in t?new e.InsertDataQuill(r.DataType.Video,s.OpAttributeSanitizer.sanitizeLinkUsingOptions(t[r.DataType.Video]+"",n)):r.DataType.Formula in t?new e.InsertDataQuill(r.DataType.Formula,t[r.DataType.Formula]):new e.InsertDataCustom(i[0],t[i[0]]):null},a);function a(){}n.InsertOpsConverter=i},2455:function(t,n,i){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=i(1422),i=(e.sanitize=function(t,n){var i={};return t&&"object"==typeof t&&(t.class&&e.IsValidClass(t.class)&&(i.class=t.class),t.id&&e.IsValidId(t.id)&&(i.id=t.id),e.IsValidTarget(t.target+"")&&(i.target=t.target),t.avatar&&(i.avatar=r.OpAttributeSanitizer.sanitizeLinkUsingOptions(t.avatar+"",n)),t["end-point"]&&(i["end-point"]=r.OpAttributeSanitizer.sanitizeLinkUsingOptions(t["end-point"]+"",n)),t.slug&&(i.slug=t.slug+"")),i},e.IsValidClass=function(t){return!!t.match(/^[a-zA-Z0-9_\-]{1,500}$/i)},e.IsValidId=function(t){return!!t.match(/^[a-zA-Z0-9_\-\:\.]{1,500}$/i)},e.IsValidTarget=function(t){return-1<["_self","_blank","_parent","_top"].indexOf(t)},e);function e(){}n.MentionSanitizer=i},2456:function(t,n,i){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.sanitize=function(t){return t=t.replace(/^\s*/gm,""),/^((https?|s?ftp|file|blob|mailto|tel):|#|\/|data:image\/)/.test(t)?t:"unsafe:"+t}},2457:function(t,n,i){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=i(1266),e=i(2458),u=i(1424),i=(o.denormalize=function(n){if(!n||"object"!=typeof n)return[];if("object"==typeof n.insert||n.insert===r.NewLine)return[n];var t=e.tokenizeWithNewLines(n.insert+"");if(1===t.length)return[n];var i=u.assign({},n,{insert:r.NewLine});return t.map(function(t){return t===r.NewLine?i:u.assign({},n,{insert:t})})},o);function o(){}n.InsertOpDenormalizer=i},2458:function(t,n,i){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.tokenizeWithNewLines=function(t){if("\n"===t)return[t];if(1===(t=t.split("\n")).length)return t;var r=t.length-1;return t.reduce(function(t,n,i){return i!==r?""!==n?t=t.concat(n,"\n"):t.push("\n"):""!==n&&t.push(n),t},[])}},2459:function(t,n,i){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var e=i(1420),c=i(1335),s=i(1336),i=(r.pairOpsWithTheirBlock=function(t){for(var n,i=[],r=function(t){return!(t.isJustNewline()||t.isCustomBlock()||t.isVideo()||t.isContainerBlock())},e=function(t){return t.isInline()},u=t.length-1;0<=u;u--){var o=t[u];o.isVideo()?i.push(new s.VideoItem(o)):o.isCustomBlock()?i.push(new s.BlotBlock(o)):(o.isContainerBlock()?(n=c.sliceFromReverseWhile(t,u-1,r),i.push(new s.BlockGroup(o,n.elements))):(n=c.sliceFromReverseWhile(t,u-1,e),i.push(new s.InlineGroup(n.elements.concat(o)))),u=-1<n.sliceStartsAt?n.sliceStartsAt:u)}return i.reverse(),i},r.groupConsecutiveSameStyleBlocks=function(t,i){return void 0===i&&(i={header:!0,codeBlocks:!0,blockquotes:!0}),c.groupConsecutiveElementsWhile(t,function(t,n){return t instanceof s.BlockGroup&&n instanceof s.BlockGroup&&(i.codeBlocks&&r.areBothCodeblocks(t,n)||i.blockquotes&&r.areBothBlockquotesWithSameAdi(t,n)||i.header&&r.areBothSameHeadersWithSameAdi(t,n))})},r.reduceConsecutiveSameStyleBlocksToOne=function(t){var r=e.DeltaInsertOp.createNewLineOp();return t.map(function(t){if(!Array.isArray(t))return t instanceof s.BlockGroup&&!t.ops.length&&t.ops.push(r),t;var i=t.length-1;return t[0].ops=c.flatten(t.map(function(t,n){return t.ops.length?t.ops.concat(n<i?[r]:[]):[r]})),t[0]})},r.areBothCodeblocks=function(t,n){return t.op.isCodeBlock()&&n.op.isCodeBlock()},r.areBothSameHeadersWithSameAdi=function(t,n){return t.op.isSameHeaderAs(n.op)&&t.op.hasSameAdiAs(n.op)},r.areBothBlockquotesWithSameAdi=function(t,n){return t.op.isBlockquote()&&n.op.isBlockquote()&&t.op.hasSameAdiAs(n.op)},r);function r(){}n.Grouper=i},2460:function(t,n,i){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=i(1336),e=i(1335),i=(u.prototype.nest=function(t){var n=this,t=this.convertListBlocksToListGroups(t),t=this.groupConsecutiveListGroups(t),t=e.flatten(t.map(function(t){return Array.isArray(t)?n.nestListSection(t):t}));return e.groupConsecutiveElementsWhile(t,function(t,n){return t instanceof r.ListGroup&&n instanceof r.ListGroup&&t.items[0].item.op.isSameListAs(n.items[0].item.op)}).map(function(t){return Array.isArray(t)?(t=t.map(function(t){return t.items}),new r.ListGroup(e.flatten(t))):t})},u.prototype.convertListBlocksToListGroups=function(t){return e.groupConsecutiveElementsWhile(t,function(t,n){return t instanceof r.BlockGroup&&n instanceof r.BlockGroup&&t.op.isList()&&n.op.isList()&&t.op.isSameListAs(n.op)&&t.op.hasSameIndentationAs(n.op)}).map(function(t){return Array.isArray(t)?new r.ListGroup(t.map(function(t){return new r.ListItem(t)})):t instanceof r.BlockGroup&&t.op.isList()?new r.ListGroup([new r.ListItem(t)]):t})},u.prototype.groupConsecutiveListGroups=function(t){return e.groupConsecutiveElementsWhile(t,function(t,n){return t instanceof r.ListGroup&&n instanceof r.ListGroup})},u.prototype.nestListSection=function(i){var r=this,n=this.groupByIndent(i);return Object.keys(n).map(Number).sort().reverse().forEach(function(t){n[t].forEach(function(t){var n=i.indexOf(t);r.placeUnderParent(t,i.slice(0,n))&&i.splice(n,1)})}),i},u.prototype.groupByIndent=function(t){return t.reduce(function(t,n){var i=n.items[0].item.op.attributes.indent;return i&&(t[i]=t[i]||[],t[i].push(n)),t},{})},u.prototype.placeUnderParent=function(t,n){for(var i=n.length-1;0<=i;i--){var r=n[i];if(t.items[0].item.op.hasHigherIndentThan(r.items[0].item.op))return(r=r.items[r.items.length-1]).innerList?r.innerList.items=r.innerList.items.concat(t.items):r.innerList=t,!0}return!1},u);function u(){}n.ListNester=i},2461:function(t,n,i){var r=i(1254),s=(i=i(1334)).OpToHtmlConverter,f=i.DeltaInsertOp;r.register("LinkElement").asCtor(function(t,u,o,c){this.getHtml=function(t,n,i){var r=t.insert.value,e=c.encodeText(r.text||"")||r.value,r=(t=t.attributes,o.extend({underline:!0},t,{link:r.value,target:r.target}));return new s(new f(e,r),u.getConfig(i)).getHtml()}}).dependencies("Consts, RichTextEditorDefaults, wmjQuery, CommonUtils")},2462:function(t,n,i){var r=i(1254),c=(i=i(1334)).OpToHtmlConverter,s=i.DeltaInsertOp;r.register("MentionElement").asCtor(function(t,e,u,o){this.getHtml=function(t,n,i){var r,r=(r=t.insert.value.id,r=u.getByName(r),o.evaluate(r.Type,r.Value));return new c(new s(r,t.attributes),e.getConfig(i)).getHtml()}}).dependencies("Consts, RichTextEditorDefaults, UserAttributes, EndUserDataEvaluator")},2463:function(t,n,i){i(1254).register("CustomElementsRenderer").asCtor(function(r,e,u){this.renderCustomWith=function(t,n,i){switch(t.insert.type){case"action":return r.getHtml(t,n,i);case"url":return e.getHtml(t,n,i);case"mention":return u.getHtml(t,n,i);default:return}},this.prepareCustomElements=function(t){for(var n=0;n<t.length;n++){var i,r=t[n];r.attributes&&r.attributes.link&&"string"==typeof r.insert&&(i=r.attributes.link,r.insert={action:{text:r.insert,data:i}})}}}).dependencies("ActionElement, LinkElement, MentionElement")},2464:function(t,n,i){var r=i(1254),f=i(1334).QuillDeltaToHtmlConverter;r.register("RichTextEditorConverter").asCtor(function(e,u,o,c,s){this.getRichTextElement=function(t,n){var i,r=document.createElement("div"),n=(i=n,function(t){for(var n=0;n<t.length;n++){var i=t[n];i.attributes&&i.attributes.font&&(i.attributes.font=s.load(i.attributes.font))}}(t=t),u.prepareCustomElements(t),(t=new f(t,o.getConfig(i.rteStylesPriority))).afterRender(function(t,n){return e.manipulateHtml(t,n,i.rteStylesPriority)}),t.renderCustomWith(function(t,n){return u.renderCustomWith(t,n,i.rteStylesPriority)}),t.convert());return c.setInnerHTML(r,n),r}}).dependencies("AfterRenderHtmlManipulator, CustomElementsRenderer, RichTextEditorDefaults, DomManager, FontsLoader")},2465:function(t,n,i){i(1254).register("AfterRenderHtmlManipulator").asCtor(function(l,h,v,t){var u=t.isFeatureEnabled("revertToBrowserStyle"),d=t.isFeatureEnabled("rteOverrideGlobalCss"),t=t.isFeatureEnabled("defaultRteULFontSize"),m={P:{margin:"0",padding:"0"},LI:{margin:"0",padding:"0"},STRONG:{"font-weight":"bold","font-style":"inherit"},EM:{"font-style":"italic","font-weight":"inherit"},OL:{"list-style-type":"decimal"},UL:{"list-style-type":"disc"},LIST:{"list-style-position":"inside"}};function g(t,n,i){return n((t=t.tagName?t:h.parseElement(t)).tagName.toLowerCase())&&i(t),t.outerHTML}u&&(m.LIST["margin-block-start"]="1em",m.LIST["margin-block-end"]="1em",m.LIST["padding-inline-start"]="40px"),t||(m.UL["font-size"]="0"),this.manipulateHtml=function(t,n,i){var r,e={P:{},STRONG:{},EM:{},U:{}};switch((i=i&&d)&&(e.P["line-height"]="inherit",e.STRONG.color="inherit",e.STRONG["font-size"]="inherit",e.EM.color="inherit",e.EM["font-size"]="inherit",e.U={"text-decoration":"underline",color:"inherit","font-size":"inherit","font-weight":"inherit","font-style":"inherit"}),u&&(n=function(t,n,i){for(var r=(t=h.parseElement(t)).getElementsByTagName("strong"),e=0;e<r.length;e++)!function(t,i){g(t,function(t){return"strong"===t},function(t){var n=v.extend({},m.STRONG,i.STRONG);l.update(t,n,!0)})}(r[e],n);for(var u=t.getElementsByTagName("em"),o=0;o<u.length;o++)!function(t,i){g(t,function(t){return"em"===t},function(t){var n=v.extend({},m.EM,i.EM);l.update(t,n,!0)})}(u[o],n);var c=t.getElementsByTagName("li");if(0<c.length)for(var s=0;s<c.length;s++)g(c[s],function(t){return"li"===t},function(t){l.update(t,m.LI,!0)});if(d&&i){var f=t.getElementsByTagName("u");if(0<f.length)for(var a=0;a<f.length;a++)!function(t,n){g(t,function(t){return"u"===t},function(t){l.update(t,n.U,!0)})}(f[a],n)}return t.outerHTML}(n,e,i)),t){case"list":return g(n,function(t){return"ol"===t||"ul"===t},function(t){var n=t.tagName.toUpperCase(),n=v.extend({},m.LIST,m[n]);l.update(t,n,!0)});case"block":case"inline-group":return r=e,g(n,function(t){return"p"===t},function(t){var n=v.extend({},m.P,r.P);l.update(t,n,!0)});default:return n}}}).dependencies("CssAttributeSetter, DomManager, wmjQuery, FeaturesManager")}}]);