/* Copyright (c) 2017 WalkMe v2.12.5 */
;(function () { var __wmPrelibConfig = {"buildDate":"2022-01-20T23:56:22.366Z","plugins":[{"name":"wm-plugin-accessibility@2.2.21@prelib","url":"prelib"},{"name":"wm-plugin-user-behavior@5.0.67@prelib","url":"prelib"},{"name":"wm-plugin-visions-recorder@2.0.12@prelib","url":"prelib"}]};
!function(t){function e(r){if(n[r])return n[r].exports;var o=n[r]={exports:{},id:r,loaded:!1};return t[r].call(o.exports,o,o.exports,e),o.loaded=!0,o.exports}var n={};e.m=t,e.c=n,e.p="",e(0)}([function(t,e,n){function r(){return y}var o=n(1),i=n(6),a=n(7),u=n(8).promiseManager,c=n(10).PluginsManager,s=n(11).EventsTrigger,f=n(11).EventsListener,l=n(14).LegoDI,p=n(15);window._walkmeInternals=window._walkmeInternals||{};var d=o["default"],h=new d({Promise:u.Promise,document:document});window._walkmeInternals.wmloader=h;var v=o.ActivationManager,g=new v({wmLoader:h});window._walkmeInternals.plugins=g;var y;i(window._walkmeInternals);var m=window._walkmeInternals.ctx;m.register("PromiseManager").asInstance(u),m.register("Promise").asCtor(u.Promise).asProto(),y=new l(window._walkmeInternals,c,u);var w=wmjQuery({}),_=new s(w,u),b=new f(w);window._walkmeInternals.events={listener:b,trigger:_,_eventsBase:w},y.ctx.register("EventsTrigger").asInstance(_),y.ctx.register("EventsListener").asInstance(b),y.ctx.register("PrelibLogger").asInstance(a);var E=function(){var t,e=window.wmSnippet||window.wmPlaySnippet||window.wmPreviewSnippet;return e&&(t=e.getSettingsFile()),t||(t={}),t}();u.resolve().then(function(){return p(__wmPrelibConfig,r,h)})["catch"](function(t){a.write("cannot load plugins"),a.write(t)}).then(function(){return a.write("starting plugins"),y.start(E)}).then(function(){a.write("plugins started")})["catch"](function(t){a.write("cannot start plugins"),a.write(t)})},function(t,e,n){"use strict";function r(t){function e(t,e,n){if(s.pluginsStateWrapper.shouldLoad(t)){var o=T[t]=T[t]||{name:t};if(o.factory||(o.factory=n,o.build=e),o.resolve)try{g(o,r(o))}catch(i){v(o,a(i,t))}}}function n(t,e){if(!t)throw new Error("cannot load module without a name");if(!e)throw new Error("cannot load module without an URL");if(!s.pluginsStateWrapper.shouldLoad(t))return A.push(t),_.resolve(function(e){(0,f.dummyPlugin)(e,t)});var n=T[t]=T[t]||{name:t};if(!n.promise)if(n.factory)n.promise=_.resolve(r(n));else{h(n);var o=l(t,e);"loaded"===o.status?v(n,u(t,e)):"error"===o.status&&v(n,c(t,e))}return n.promise}function r(t){return t.factory(t.build)}function l(t,e){var n=j[e];if(n)n.packages[t]=!0;else{var r;n=j[e]={url:e,status:"loading",start:new Date,packages:(r={},r[t]=!0,r)};var o=d(e);p(o,e),k.appendChild(o)}return n}function p(t,e){if(t.addEventListener)t.addEventListener("load",M(e),!1),t.addEventListener("error",P(e),!1);else{if(!t.attachEvent)throw new Error("neither addEventListener nor attachEvent is supported");t.attachEvent("onreadystatechange",M(e))}}function d(t){var e=b.createElement("script");return e.type="text/javascript",e.charset="utf-8",e.async=!0,e.src=t,e}function h(t){t.promise=new _(function(e,n){t.resolve=e,t.reject=n})}function v(t,e){w(e),t.reject(e),y(t)}function g(t,e){t.resolve(e),y(t)}function y(t){delete t.resolve,delete t.reject}function m(t){t.parentNode.removeChild(t)}function w(t){t.date=new Date,x.push(t)}var _=t.Promise,b=t.document,E=this;E.load=n,E.define=e;var k=b.getElementsByTagName("head")[0],j={},T={},x=[],A=[];E.bundles=j,E.packages=T,E.errors=x,E.inactive=A;var M=function(t){return function(e){if(o(e)){var n=j[t];n.status="loaded",n.loadMs||(n.loadMs=(new Date).getTime()-n.start);for(var r in n.packages)if(n.packages.hasOwnProperty(r)){var a=T[r];a.reject&&v(a,u(r,t))}m(i(e))}}},P=function(t){return function(e){var n=j[t];n.status="error",n.loadMs||(n.loadMs=(new Date).getTime()-n.start);for(var r in n.packages)if(n.packages.hasOwnProperty(r)){var o=T[r];o.reject&&v(o,c(r,t))}m(i(e))}}}function o(t){if("load"===t.type)return!0;var e=i(t),n=e.readyState;return"complete"===n||"loaded"===n}function i(t){return t.currentTarget||t.srcElement}function a(t,e){var n=new Error("error thrown in factory. package: "+e+"\ncaused by:\n"+t.stack);return n.name="FactoryError",n.cause=t,n["package"]=e,n}function u(t,e){var n=new Error("package not found in the specified bundle. package: "+t+", bundle: "+e);return n.name="PackageNotFound",n["package"]=t,n.bundle=e,n}function c(t,e){var n=new Error("cannot load bundle. package: "+t+", bundle: "+e);return n.name="BundleLoadError",n["package"]=t,n.bundle=e,n}e.__esModule=!0,e["default"]=r;var s=n(2),f=n(4),l=n(5);e.ActivationManager=l.ActivationManager},function(t,e,n){"use strict";function r(){function t(t){return!(0===i[t])}function e(t){o.cookieManager.setCookie(a,JSON.stringify(t),86400)}function n(){return JSON.parse(o.cookieManager.getCookie(a)||"{}")}var r=this;r.shouldLoad=t,r.saveState=e,r.getState=n;var i=void 0,a="walkme_prelib_activ_state";!function(){i=JSON.parse(o.cookieManager.getCookie(a)||"{}")}()}e.__esModule=!0,e.pluginsStateWrapper=undefined;var o=n(3);e.pluginsStateWrapper=new r},function(t,e){"use strict";function n(){function t(){return"https:"===window.location.protocol}function e(t,e,n,r){"string"!=typeof e&&(e=e.toString()),e=encodeURIComponent(e);var a="";r&&r.length>0&&(a="; domain="+r);var u=new Date;u.setTime(u.getTime()+1e3*n);var c="; expires="+u.toUTCString(),s=i?o:"",f=e+c+"; path=/"+a;document.cookie=t+"="+f+s}function n(t){for(var e=document.cookie.split(";"),n=0;n<e.length;n++){var r=e[n].substr(0,e[n].indexOf("=")),o=e[n].substr(e[n].indexOf("=")+1);if((r=r.replace(/^\s+|\s+$/g,""))===t)return decodeURIComponent(o)}}var r=this;r.setCookie=e,r.getCookie=n;var o=";secure",i=void 0;!function(){i=t()}()}e.__esModule=!0;e.cookieManager=new n},function(t,e){"use strict";function n(t,e){t().ctx.get("PrelibLogger").write("[wm-loader] "+e+" is disabled and therefore not loaded")}e.__esModule=!0,e.dummyPlugin=n},function(t,e,n){"use strict";function r(t){function e(){var t=[];for(var e in s.packages)s.packages.hasOwnProperty(e)&&t.push({name:e,isActive:!0});for(var n=0;n<s.inactive.length;n++)t.push({name:s.inactive[n],isActive:!1});return t}function n(t){u(t,l.inactive)}function r(t){u(t,l.active)}function i(){c(l.active)}function a(){c(l.inactive)}function u(t,e){var n=o.pluginsStateWrapper.getState();n[t]=e,o.pluginsStateWrapper.saveState(n)}function c(t){var e={};for(var n in s.packages)s.packages.hasOwnProperty(n)&&(e[n]=t);for(var r=0;r<s.inactive.length;r++)e[s.inactive[r]]=t;o.pluginsStateWrapper.saveState(e)}var s=t.wmLoader,f=this;f.list=e,f.deactivateAll=a,f.activateAll=i,f.activate=r,f.deactivate=n;var l={active:1,inactive:0}}e.__esModule=!0,e.ActivationManager=r;var o=n(2)},function(t,e){!function(){function e(t,e){this._object=undefined,this._name=t,this._ctx=e,this.properties={strategy:i.defaults.strategy,factory:i.defaults.factory,injector:i.defaults.injector,load:i.defaults.load,wasReady:!1,initialize:!0}}e.prototype.name=function(){return this._name},e.prototype.asFactory=function(t,e){return e!=undefined&&this.type(e),this.factory(t),this},e.prototype.loadDependencies=function(t,e){return e!=undefined&&this.dependencies(e),this.load(t),this},e.prototype.asFunction=function(t){return this.asFactory(i.factory.func,t)},e.prototype.asInstance=function(t){return this.asFactory(i.factory.instance,t)},e.prototype.asCtor=function(t){return this.asFactory(i.factory.constructor,t)},e.prototype.asSingleton=function(){return this.strategy(i.strategy.singleton)},e.prototype.asProto=function(){return this.strategy(i.strategy.proto)},e.prototype.injectToCtor=function(){return this.injector(i.injector.ctor)},e.prototype.injectToReady=function(){return this.injector(i.injector.ready)},e.prototype.injectToProperty=function(){return this.injector(i.injector.property)},e.prototype.flatDependencies=function(t){return this.loadDependencies(i.load.flat,t)},e.prototype.recursiveDependencies=function(t){return this.loadDependencies(i.load.recursive,t)},e.prototype.useOnce=function(){var t=this.getObject;return this.getObject=function(){return this._ctx.map[this.name()]=null,t.apply(this,arguments)},this},e.prototype.depsDictionary=function(t){return arguments.length?(this.properties.depsDictionary=t,this):(this.properties.depsDictionary||this.depsDictionary(this._ctx.resolve(this)),this.properties.depsDictionary)},e.prototype.create=function(t,e,n){n=n||i.load.recursive;var r=this.properties.strategy.test(this._object,n);if(e)return r;r&&(t=this.properties.injector.create(t||this.properties.args,this,this._ctx,n));var o=this.properties.strategy.create(this._object,this.properties.factory,this.properties.type,t,this._ctx,this,n);return this._ctx.ready(o,this)},e.prototype.getObject=function(t){return this.create(undefined,undefined,t)},e.prototype.object=function(t){return arguments.length?(this._object=t,this):this.create()};for(var n=["load","wasReady","strategy","injector","type","dependencies","args","factory","initialize"],r=0;r<n.length;r++){var o=n[r];!function(t){e.prototype[t]=function(e){return arguments.length?(this.properties[t]=e,this):this.properties[t]}}(o)}/**
	 * @license
	 *  Copyright 2013 the original author or authors.
	 *  Licensed under the Apache License, Version 2.0 (the "License");
	 *  You may obtain a copy of the License at
	 *
	 *		http://www.apache.org/licenses/LICENSE-2.0
	    *
	    *  Unless required by applicable law or agreed to in writing, software
	    *  distributed under the License is distributed on an "AS IS" BASIS,
	    *  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
	    *  See the License for the specific language governing permissions and
	    *  limitations under the License.
	    */
var i=function(t){function n(t,e,n,r,o){var i=t(e,n,o),a=r.decorators[o.name()];if(a)for(var u=0;u<a.length;u++)i=a[u](i);return i}t=t||{},t.version="0.3.3";return t.logger=function(t,e){},t.log=function(e,n,r){n&&(e="[class="+n.name()+"] "+e),t.logger("DI - "+e,r||4)},t.error=function(e,n,r){t.log(e,n,r)},t.createContext=function(){function e(t){for(;t.indexOf(" ")>=0;)t=t.replace(" ","");return t}var n={map:{},decorators:{}};return n.decorate=function(t,e){n.decorators[t]||(n.decorators[t]=[]),n.decorators[t].push(e)},n.entry=function(t){return n.map[t]},n.register=function(e,r,o){var i=t.entry(e,n).type(r).args(o);return n.map[e]=i,i},n.has=function(t){return null!=n.entry(t)},n.remove=function(t){return!!n.has(t)&&(n.map[t]=null,!0)},n.isEntryRemoved=function(t){return null===n.entry(t)},n.get=function(e,r){return n.isEntryRemoved(e)&&t.error("Object["+e+"] was removed"),n.has(e)||t.error("Object["+e+"] is not registered"),n.entry(e).getObject(r)},n.create=function(e,r){if(n.entry(e).strategy()==t.strategy.singleton&&t.error("Attempt to create singleton object ["+e+"]"),n.has(e))return n.entry(e).create(r);t.error("Object["+e+"] is not registered")},n.initialize=function(){function e(e){var r=n.entry(e);r?r.initialize()&&r.strategy().initialize()&&n.get(e):t.error("Object["+e+"] is not registered")}return function(t){if(t)e(t);else for(var t in n.map)e(t)}}(),n.clear=function(){this.map={},this.decorators={}},n.resolve=function(e){var r=e.load(),o={};return n.eachDependency(e.dependencies(),function(i,a){var u=n.get(i,r);n.ready(u,n.entry(i)),null==u&&t.error("Dependency ["+e.name()+"."+a+"]->["+i+"] can not be satisfied",e),o[a]=u}),o},n.eachDependency=function(n,r){if(n)for(var o=e(n).split(","),i=0;i<o.length;i++){var a=o[i];if(a){var u=t.dependencyExpression(a);try{r(u.name,u.property,i)}catch(c){t.error("An exception was thrown while the DI tried to resolve class '"+u.name+"'. Check the class name, or if it was registred correctly. \r\n inner exception: \r\n"+c.message)}}}},n.ready=function(t,e){if(null===e&&t)return t;var r=e.wasReady();if(e.wasReady(!0),!r){var o=n.createCallback();o&&o(e.name(),t),t&&"function"==typeof t.ready&&t!=window&&t!=window.document&&t!=window.document.body&&(e.wasReady(!0),t.ready.apply(t,e.injector().ready(t,e)||[]))}return t},n.createCallback=function(){var t;return function(e){return 0==arguments.length?t:(t=e,n)}}(),n},t.dependencyExpression=function(t){var e={},n=t,r=t;if(t.indexOf("=")>0){var o=t.split("=");n=o[0],r=o[1]}return e.name=r,e.property=n,e},t.entry=function(t,n){return new e(t,n)},t.strategy={proto:{test:function(t,e){return!e||e()},initialize:function(){return!1},create:function(t,e,r,o,i,a,u){return t=n(e,r,o,i,a),u()&&a.injector().ready(t,a),a.depsDictionary(undefined),a.wasReady(!1),t}},singleton:{test:function(t,e){return!t&&(!e||e())},initialize:function(){return!0},create:function(t,e,r,o,i,a,u){return t||(t=n(e,r,o,i,a),a.object(t),a.wasReady(!0),u()&&a.injector().ready(t,a),a.wasReady(!1)),t}}},t.factory={constructor:function(e,n,r){return n instanceof Array?n.length<=10?new e(n[0],n[1],n[2],n[3],n[4],n[5],n[6],n[7],n[8],n[9]):n.length<=30?new e(n[0],n[1],n[2],n[3],n[4],n[5],n[6],n[7],n[8],n[9],n[10],n[11],n[12],n[13],n[14],n[15],n[16],n[17],n[18],n[19],n[20],n[21],n[22],n[23],n[24],n[25],n[26],n[27],n[28],n[29]):void t.error("trying to create a class with too many args!",r):new e(n)},func:function(t,e,n){return e instanceof Array?t.apply(t,e):t(e)},instance:function(t,e,n){return t}},t.injector={property:{create:function(t,e,n){return t},ready:function(t,e){var n=e.depsDictionary();for(var r in n)t[r]=n[r];var o=e.args();o==undefined||n.hasOwnProperty("args")||(t.args=o)}},ready:{create:function(t,e,n){return t},ready:function(t,e){var n=e.args(),r=[],o=e.depsDictionary();if(a.eachDependency(e.dependencies(),function(t,e,n){r[n]=o[e]}),n){n=n instanceof Array?n:[n];for(var i=0;i<n.length;i++)r.push(n[i])}return r}},ctor:{create:function(t,e,n){var r=[],o=e.depsDictionary();if(n.eachDependency(e.dependencies(),function(t,e,n){r[n]=o[e]}),t){t=t instanceof Array?t:[t];for(var i=0;i<t.length;i++)r.push(t[i])}return r},ready:function(t,e){}}},t.load={flat:function(t,e,n){return!1},recursive:function(t,e,n){return!0}},t.defaults={strategy:t.strategy.singleton,factory:t.factory.constructor,injector:t.injector.ctor,load:t.load.recursive},t}(),a=i.createContext();t.exports=function(t){t.di=i,t.ctx=a}}()},function(t,e){"use strict";function n(){if(s()){var t=arguments;try{t.stack=(new Error).stack}catch(n){}r(t);var e=Array().slice.call(t);console.log.apply(console,e)}}function r(t){var e=new Date;t.timeElapsed=e-(h||e),h=e,y.unshift(t),y=y.splice(0,g)}function o(){return y}function i(t){v=t}function a(){return v}function u(){d=!0,p(v,!0)}function c(){d=!1,p(v,"",-1)}function s(){return void 0!==d?d:(f(),d)}function f(){var t=window.console&&(l(v)||!1);d=t&&"true"==t.toString().toLowerCase()}function l(t){var e=document.cookie.match("(^|;)\\s*"+t+"\\s*=\\s*([^;]+)");return e?e.pop():undefined}function p(t,e,n){var r,o="";n&&(r=new Date,r.setTime(r.getTime()+864e5*n),o="; expires="+r.toUTCString()),document.cookie=t+"="+e+o+"; path=/"}var d,h,v="walkme_prelib_log_enabled",g=1e4,y=[],m={write:n,getCookieName:a,setCookieName:i,enableLog:u,disableLog:c,isLogEnabled:s,readCookie:l,writeCookie:p,getLogHistoryRecords:o};t.exports=m},function(t,e,n){(function(t,r){/*!
	 * @overview RSVP - a tiny implementation of Promises/A+.
	 * @copyright Copyright (c) 2014 Yehuda Katz, Tom Dale, Stefan Penner and contributors
	 * @license   Licensed under MIT license
	 *            See https://raw.githubusercontent.com/tildeio/rsvp.js/master/LICENSE
	 * @version   3.1.0
	 */
e.promiseManager=function(){"use strict";function e(t){return"function"==typeof t||"object"==typeof t&&null!==t}function o(t){return"function"==typeof t}function i(t){return"object"==typeof t&&null!==t}function a(){}function u(t,e){for(var n=0,r=t.length;n<r;n++)if(t[n]===e)return n;return-1}function c(t){var e=t._promiseCallbacks;return e||(e=t._promiseCallbacks={}),e}function s(t,e){return"onerror"===t?void _t.on("error",e):2!==arguments.length?_t[t]:void(_t[t]=e)}function f(){setTimeout(function(){for(var t,e=0;e<bt.length;e++){t=bt[e];var n=t.payload;n.guid=n.key+n.id,n.childGuid=n.key+n.childId,n.error&&(n.stack=n.error.stack),_t.trigger(t.name,t.payload)}bt.length=0},50)}function l(t,e,n){1===bt.push({name:t,payload:{key:e._guidKey,id:e._id,eventName:t,detail:e._result,childId:n&&n._id,label:e._label,timeStamp:yt(),error:_t["instrument-with-stack"]?new Error(e._label):null}})&&f()}function p(){return new TypeError("A promises callback cannot return that same promise.")}function d(){}function h(t){try{return t.then}catch(e){return xt.error=e,xt}}function v(t,e,n,r){try{t.call(e,n,r)}catch(o){return o}}function g(t,e,n){_t.async(function(t){var r=!1,o=v(n,e,function(n){r||(r=!0,e!==n?w(t,n):b(t,n))},function(e){r||(r=!0,E(t,e))},"Settle: "+(t._label||" unknown promise"));!r&&o&&(r=!0,E(t,o))},t)}function y(t,e){e._state===jt?b(t,e._result):e._state===Tt?(e._onError=null,E(t,e._result)):k(e,undefined,function(n){e!==n?w(t,n):b(t,n)},function(e){E(t,e)})}function m(t,e){if(e.constructor===t.constructor)y(t,e);else{var n=h(e);n===xt?E(t,xt.error):n===undefined?b(t,e):o(n)?g(t,e,n):b(t,e)}}function w(t,n){t===n?b(t,n):e(n)?m(t,n):b(t,n)}function _(t){t._onError&&t._onError(t._result),j(t)}function b(t,e){t._state===kt&&(t._result=e,t._state=jt,0===t._subscribers.length?_t.instrument&&Et("fulfilled",t):_t.async(j,t))}function E(t,e){t._state===kt&&(t._state=Tt,t._result=e,_t.async(_,t))}function k(t,e,n,r){var o=t._subscribers,i=o.length;t._onError=null,o[i]=e,o[i+jt]=n,o[i+Tt]=r,0===i&&t._state&&_t.async(j,t)}function j(t){var e=t._subscribers,n=t._state;if(_t.instrument&&Et(n===jt?"fulfilled":"rejected",t),0!==e.length){for(var r,o,i=t._result,a=0;a<e.length;a+=3)r=e[a],o=e[a+n],r?A(n,r,o,i):o(i);t._subscribers.length=0}}function T(){this.error=null}function x(t,e){try{return t(e)}catch(n){return At.error=n,At}}function A(t,e,n,r){var i,a,u,c,s=o(n);if(s){if(i=x(n,r),i===At?(c=!0,a=i.error,i=null):u=!0,e===i)return void E(e,p())}else i=r,u=!0;e._state!==kt||(s&&u?w(e,i):c?E(e,a):t===jt?b(e,i):t===Tt&&E(e,i))}function M(t,e){var n=!1;try{e(function(e){n||(n=!0,w(t,e))},function(e){n||(n=!0,E(t,e))})}catch(r){E(t,r)}}function P(t,e,n){return t===jt?{state:"fulfilled",value:n}:{state:"rejected",reason:n}}function C(t,e,n,r){var o=this;o._instanceConstructor=t,o.promise=new t(d,r),o._abortOnReject=n,o._validateInput(e)?(o._input=e,o.length=e.length,o._remaining=e.length,o._init(),0===o.length?b(o.promise,o._result):(o.length=o.length||0,o._enumerate(),0===o._remaining&&b(o.promise,o._result))):E(o.promise,o._validationError())}function S(t,e){return new Mt(this,t,!0,e).promise}function O(t,e){function n(t){w(i,t)}function r(t){E(i,t)}var o=this,i=new o(d,e);if(!gt(t))return E(i,new TypeError("You must pass an array to race.")),i;for(var a=t.length,u=0;i._state===kt&&u<a;u++)k(o.resolve(t[u]),undefined,n,r);return i}function L(t,e){var n=this;if(t&&"object"==typeof t&&t.constructor===n)return t;var r=new n(d,e);return w(r,t),r}function D(t,e){var n=this,r=new n(d,e);return E(r,t),r}function I(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}function R(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}function N(t,e){var n=this;n._id=Dt++,n._label=e,n._state=undefined,n._result=undefined,n._subscribers=[],_t.instrument&&Et("created",n),d!==t&&(o(t)||I(),n instanceof N||R(),M(n,t))}function W(t,e,n){this._superConstructor(t,e,!1,n)}function B(t,e){return new W(It,t,e).promise}function F(t,e){return It.all(t,e)}function U(t,e){$t[Ft]=t,$t[Ft+1]=e,2===(Ft+=2)&&Nt()}function z(){return function(){Rt(H)}}function Y(){return function(){setTimeout(H,1)}}function H(){for(var t=0;t<Ft;t+=2){(0,$t[t])($t[t+1]),$t[t]=undefined,$t[t+1]=undefined}Ft=0}function J(t){var e={};return e.promise=new It(function(t,n){e.resolve=t,e.reject=n},t),e}function K(t,e,n){return It.all(t,n).then(function(t){if(!o(e))throw new TypeError("You must pass a function as filter's second argument.");for(var r=t.length,i=new Array(r),a=0;a<r;a++)i[a]=e(t[a]);return It.all(i,n).then(function(e){for(var n=new Array(r),o=0,i=0;i<r;i++)e[i]&&(n[o]=t[i],o++);return n.length=o,n})})}function $(t,e,n){this._superConstructor(t,e,!0,n)}function G(t,e,n){this._superConstructor(t,e,!1,n)}function Q(t,e){return new G(It,t,e).promise}function q(t,e){return new qt(It,t,e).promise}function V(t,e,n){return It.all(t,n).then(function(t){if(!o(e))throw new TypeError("You must pass a function as map's second argument.");for(var r=t.length,i=new Array(r),a=0;a<r;a++)i[a]=e(t[a]);return It.all(i,n)})}function X(){this.value=undefined}function Z(t){try{return t.then}catch(e){return te.value=e,te}}function tt(t,e,n){try{t.apply(e,n)}catch(r){return te.value=r,te}}function et(t,e){for(var n,r,o={},i=t.length,a=new Array(i),u=0;u<i;u++)a[u]=t[u];for(r=0;r<e.length;r++)n=e[r],o[n]=a[r+1];return o}function nt(t){for(var e=t.length,n=new Array(e-1),r=1;r<e;r++)n[r-1]=t[r];return n}function rt(t,e){return{then:function(n,r){return t.call(e,n,r)}}}function ot(t,e){var n=function(){for(var n,r=this,o=arguments.length,i=new Array(o+1),a=!1,u=0;u<o;++u){if(n=arguments[u],!a){if((a=ut(n))===ee){var c=new It(d);return E(c,ee.value),c}a&&!0!==a&&(n=rt(a,n))}i[u]=n}var s=new It(d);return i[o]=function(t,n){t?E(s,t):e===undefined?w(s,n):!0===e?w(s,nt(arguments)):gt(e)?w(s,et(arguments,e)):w(s,n)},a?at(s,i,t,r):it(s,i,t,r)};return n.__proto__=t,n}function it(t,e,n,r){var o=tt(n,r,e);return o===te&&E(t,o.value),t}function at(t,e,n,r){return It.all(e).then(function(e){var o=tt(n,r,e);return o===te&&E(t,o.value),t})}function ut(t){return!(!t||"object"!=typeof t)&&(t.constructor===It||Z(t))}function ct(t,e){return It.race(t,e)}function st(t,e){return It.reject(t,e)}function ft(t,e){return It.resolve(t,e)}function lt(t){throw setTimeout(function(){throw t}),t}function pt(t,e){_t.async(t,e)}function dt(){_t.on.apply(_t,arguments)}function ht(){_t.off.apply(_t,arguments)}var vt;vt=Array.isArray?Array.isArray:function(t){return"[object Array]"===Object.prototype.toString.call(t)};var gt=vt,yt=Date.now||function(){return(new Date).getTime()},mt=Object.create||function(t){if(arguments.length>1)throw new Error("Second argument not supported");if("object"!=typeof t)throw new TypeError("Argument must be an object");return a.prototype=t,new a},wt={mixin:function(t){return t.on=this.on,t.off=this.off,t.trigger=this.trigger,t._promiseCallbacks=undefined,t},on:function(t,e){if("function"!=typeof e)throw new TypeError("Callback must be a function");var n,r=c(this);n=r[t],n||(n=r[t]=[]),-1===u(n,e)&&n.push(e)},off:function(t,e){var n,r,o=c(this);if(!e)return void(o[t]=[]);n=o[t],-1!==(r=u(n,e))&&n.splice(r,1)},trigger:function(t,e,n){var r,o=c(this);if(r=o[t])for(var i=0;i<r.length;i++)(0,r[i])(e,n)}},_t={instrument:!1};wt.mixin(_t);var bt=[],Et=l,kt=void 0,jt=1,Tt=2,xt=new T,At=new T,Mt=C;C.prototype._validateInput=function(t){return gt(t)},C.prototype._validationError=function(){return new Error("Array Methods must be provided an Array")},C.prototype._init=function(){this._result=new Array(this.length)},C.prototype._enumerate=function(){for(var t=this,e=t.length,n=t.promise,r=t._input,o=0;n._state===kt&&o<e;o++)t._eachEntry(r[o],o)},C.prototype._eachEntry=function(t,e){var n=this,r=n._instanceConstructor;i(t)?t.constructor===r&&t._state!==kt?(t._onError=null,n._settledAt(t._state,e,t._result)):n._willSettleAt(r.resolve(t),e):(n._remaining--,n._result[e]=n._makeResult(jt,e,t))},C.prototype._settledAt=function(t,e,n){var r=this,o=r.promise;o._state===kt&&(r._remaining--,r._abortOnReject&&t===Tt?E(o,n):r._result[e]=r._makeResult(t,e,n)),0===r._remaining&&b(o,r._result)},C.prototype._makeResult=function(t,e,n){return n},C.prototype._willSettleAt=function(t,e){var n=this;k(t,undefined,function(t){n._settledAt(jt,e,t)},function(t){n._settledAt(Tt,e,t)})};var Pt=S,Ct=O,St=L,Ot=D,Lt="rsvp_"+yt()+"-",Dt=0,It=N;N.cast=St,N.all=Pt,N.race=Ct,N.resolve=St,N.reject=Ot,N.prototype={constructor:N,_guidKey:Lt,_onError:function(t){var e=this;_t.after(function(){e._onError&&_t.trigger("error",t,e._label)})},then:function(t,e,n){var r=this,o=r._state;if(o===jt&&!t||o===Tt&&!e)return _t.instrument&&Et("chained",r,r),r;r._onError=null;var i=new r.constructor(d,n),a=r._result;if(_t.instrument&&Et("chained",r,i),o){var u=arguments[o-1];_t.async(function(){A(o,i,u,a)})}else k(r,i,t,e);return i},"catch":function(t,e){return this.then(undefined,t,e)},"finally":function(t,e){var n=this,r=n.constructor;return n.then(function(e){return r.resolve(t()).then(function(){return e})},function(e){return r.resolve(t()).then(function(){throw e})},e)}},W.prototype=mt(Mt.prototype),W.prototype._superConstructor=Mt,W.prototype._makeResult=P,W.prototype._validationError=function(){return new Error("allSettled must be called with an array")};var Rt,Nt,Wt=B,Bt=F,Ft=0,Ut=U,zt="undefined"!=typeof window?window:undefined,Yt=zt||{},Ht=Yt.MutationObserver||Yt.WebKitMutationObserver,Jt="undefined"==typeof self&&void 0!==t&&"[object process]"==={}.toString.call(t),Kt="undefined"!=typeof Uint8ClampedArray&&"undefined"!=typeof importScripts&&"undefined"!=typeof MessageChannel,$t=new Array(1e3);Nt=Jt?function(){var e=t.nextTick,n=t.versions.node.match(/^(?:(\d+)\.)?(?:(\d+)\.)?(\*|\d+)$/);return Array.isArray(n)&&"0"===n[1]&&"10"===n[2]&&(e=setImmediate),function(){e(H)}}():Ht?function(){var t=0,e=new Ht(H),n=document.createTextNode("");return e.observe(n,{characterData:!0}),function(){n.data=t=++t%2}}():Kt?function(){var t=new MessageChannel;return t.port1.onmessage=H,function(){t.port2.postMessage(0)}}():zt===undefined?function(){try{var t=n(!function(){var t=new Error('Cannot find module "vertx"');throw t.code="MODULE_NOT_FOUND",t}());return Rt=t.runOnLoop||t.runOnContext,z()}catch(e){return Y()}}():Y();var Gt=J,Qt=K,qt=$;$.prototype=mt(Mt.prototype),$.prototype._superConstructor=Mt,$.prototype._init=function(){this._result={}},$.prototype._validateInput=function(t){return t&&"object"==typeof t},$.prototype._validationError=function(){return new Error("Promise.hash must be called with an object")},$.prototype._enumerate=function(){var t=this,e=t.promise,n=t._input,r=[];for(var o in n)e._state===kt&&Object.prototype.hasOwnProperty.call(n,o)&&r.push({position:o,entry:n[o]});var i=r.length;t._remaining=i;for(var a,u=0;e._state===kt&&u<i;u++)a=r[u],t._eachEntry(a.entry,a.position)},G.prototype=mt(qt.prototype),G.prototype._superConstructor=Mt,G.prototype._makeResult=P,G.prototype._validationError=function(){return new Error("hashSettled must be called with an object")};var Vt=Q,Xt=q,Zt=V,te=new X,ee=new X,ne=ot;if("object"==typeof self)self;else{if("object"!=typeof r)throw new Error("no global: `self` or `global` found");r}var re=ct,oe=st,ie=ft,ae=lt;_t.async=Ut,_t.after=function(t){setTimeout(t,0)};if("undefined"!=typeof window&&"object"==typeof window.__PROMISE_INSTRUMENTATION__){var ue=window.__PROMISE_INSTRUMENTATION__;s("instrument",!0);for(var ce in ue)ue.hasOwnProperty(ce)&&dt(ce,ue[ce])}return{race:re,Promise:It,allSettled:Wt,hash:Xt,hashSettled:Vt,denodeify:ne,on:dt,off:ht,map:Zt,filter:Qt,resolve:ie,reject:oe,all:Bt,rethrow:ae,defer:Gt,EventTarget:wt,configure:s,async:pt}}()}).call(e,n(9),function(){return this}())},function(t,e){function n(){throw new Error("setTimeout has not been defined")}function r(){throw new Error("clearTimeout has not been defined")}function o(t){if(f===setTimeout)return setTimeout(t,0);if((f===n||!f)&&setTimeout)return f=setTimeout,setTimeout(t,0);try{return f(t,0)}catch(e){try{return f.call(null,t,0)}catch(e){return f.call(this,t,0)}}}function i(t){if(l===clearTimeout)return clearTimeout(t);if((l===r||!l)&&clearTimeout)return l=clearTimeout,clearTimeout(t);try{return l(t)}catch(e){try{return l.call(null,t)}catch(e){return l.call(this,t)}}}function a(){v&&d&&(v=!1,d.length?h=d.concat(h):g=-1,h.length&&u())}function u(){if(!v){var t=o(a);v=!0;for(var e=h.length;e;){for(d=h,h=[];++g<e;)d&&d[g].run();g=-1,e=h.length}d=null,v=!1,i(t)}}function c(t,e){this.fun=t,this.array=e}function s(){}var f,l,p=t.exports={};!function(){try{f="function"==typeof setTimeout?setTimeout:n}catch(t){f=n}try{l="function"==typeof clearTimeout?clearTimeout:r}catch(t){l=r}}();var d,h=[],v=!1,g=-1;p.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];h.push(new c(t,e)),1!==h.length||v||o(u)},c.prototype.run=function(){this.fun.apply(null,this.array)},p.title="browser",p.browser=!0,p.env={},p.argv=[],p.version="",p.versions={},p.on=s,p.addListener=s,p.once=s,p.off=s,p.removeListener=s,p.removeAllListeners=s,p.emit=s,p.prependListener=s,p.prependOnceListener=s,p.listeners=function(t){return[]},p.binding=function(t){throw new Error("process.binding is not supported")},p.cwd=function(){return"/"},p.chdir=function(t){throw new Error("process.chdir is not supported")},p.umask=function(){return 0}},function(t,e){"use strict";var n=function(){function t(t){this.promiseManager=t,this._plugins=[]}return t.prototype.register=function(t){this._plugins.push(t)},t.prototype.run=function(t){for(var e,n=this._plugins,r=[],o=0;o<n.length;o++)(e=n[o].run(t))&&r.push(e);return this.promiseManager.all(r)},t}();e.PluginsManager=n},function(t,e,n){"use strict";e.__esModule=!0;var r=n(12);e.EventsListener=r.EventsListener;var o=n(13);e.EventsTrigger=o.EventsTrigger},function(t,e){"use strict";function n(t){return t.__wmEventWrapped||(t.__wmEventWrapped=r(t)),t.__wmEventWrapped}function r(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=t.apply(this,e),o=(e[0],e[1]);return o&&o.__asyncResults&&o.__asyncResults.push(r),r}}function o(t){return t&&t.__wmEventWrapped||t}e.__esModule=!0;var i=function(){function t(t){this._eventsBase=t}return t.prototype.on=function(t,e){var r=n(e);this._eventsBase.on(t,r)},t.prototype.once=function(t,e){var r=n(e);this._eventsBase.one(t,r)},t.prototype.off=function(t,e){var n=o(e);this._eventsBase.off(t,n)},t}();e.EventsListener=i},function(t,e){"use strict";e.__esModule=!0;var n=function(){function t(t,e){this._eventsBase=t,this._promiseManager=e}return t.prototype.async=function(t,e,n,r){var o;try{o=this._eventsBase.triggerHandler(t,e)}catch(i){r&&r()}this._promiseManager.Promise.resolve(o).then(n,r)},t.prototype.sync=function(t,e,n){var r=e&&e.asyncCallback;r&&(e.__asyncResults=[]);var o=this._eventsBase.triggerHandler(t,e);return r&&(o=this._promiseManager.all(e.__asyncResults).then(function(t){return t[t.length-1]})),o==undefined?n:o},t}();e.EventsTrigger=n},function(t,e){"use strict";var n=function(){function t(t,e,n){this.PluginsManager=e,this._configs=new this.PluginsManager(n),this._plugins=new this.PluginsManager(n),this.ctx=t.ctx,this.di=t.di}return t.prototype.config=function(t){this._configs.register(t)},t.prototype.plugin=function(t){this._plugins.register(t)},t.prototype.start=function(t){var e=this,n=this._configs,r=this._plugins;return n.run(t).then(function(){return r.run(t)}).then(function(){return e.callWalkmePreLibLoaded()})["catch"](function(t){e.logError(t)})},t.prototype.callWalkmePreLibLoaded=function(){window.walkme_pre_lib_loaded&&window.walkme_pre_lib_loaded()},t.prototype.logError=function(t){throw this.ctx.has("PrelibLogger")&&this.ctx.get("PrelibLogger").write("Prelib encountered an error while loading: "+t+"\nDetails:\n"+t.stack),t},t}();e.LegoDI=n},function(t,e){function n(t,e,n){function r(){for(var t=["[prelib-loader]"],e=0;e<arguments.length;e++)t.push(arguments[e]);c.write.apply(c,t)}function o(){return undefined}var i=e(),a=i.ctx,u=a.get("PromiseManager").Promise,c=a.get("PrelibLogger");r("loading plugins",t);for(var s=[],f=0;f<t.plugins.length;f++){var l=function(t){return r("loading",t.name,"from",t.url),n.load(t.name,t.url).then(function(n){r("loaded",t.name),n(e)})["catch"](function(e){r("cannot load",t.name),c.write(e),n.errors.push(e)})}(t.plugins[f]);s.push(l)}return u.all(s).then(o)}t.exports=n}]);
})();

"undefined"!=typeof _walkmeInternals&&_walkmeInternals.wmloader&&_walkmeInternals.wmloader.define("wm-plugin-accessibility@2.2.21@prelib",{name:"wm-plugin-accessibility",version:"2.2.21",toolbelt:"1.2.9",packageDate:"2021-05-19T10:03:26.237Z",entry:"prelib"},function(e){return function(e){var t={};function n(i){if(t[i])return t[i].exports;var r=t[i]={exports:{},id:i,loaded:!1};return e[i].call(r.exports,r,r.exports,n),r.loaded=!0,r.exports}return n.m=e,n.c=t,n.p="",n(0)}([function(e,t,n){e.exports=n(1)},function(e,t,n){var i=n(2).createPluginEntry;e.exports=i(function(e){n(3),n(4),n(5),n(6),n(7),n(8),n(9),n(10),n(11),n(12),n(13),n(14),n(15),n(16),n(17),n(18),n(19),n(20),n(21),n(22),n(23),n(24),n(25),n(26),n(27),n(28),n(30),n(31),n(32),n(33),n(34),n(35),n(36),n(37),n(38),n(39),n(40),n(41),n(42),n(43),n(44),n(45),n(46),n(47),n(48),n(49),n(50),n(51),n(52);var t=n(53).Accessibility;e(new t)})},function(e,t){var n,i={createPluginEntry:r,getCtx:a};function r(e){return function(t){n=t(),e(o)}}function a(){return n.ctx}function o(e){n.plugin(e)}t.__esModule=!0,t["default"]=i,t.createPluginEntry=i.createPluginEntry,t.getCtx=i.getCtx},function(e,t){/*! jQuery UI - v1.12.1 - 2018-02-25
	* http://jqueryui.com
	* Includes: focusable.js, jquery-1-7.js, tabbable.js
	* Copyright jQuery Foundation and other contributors; Licensed MIT */
!function(e){e.ui=e.ui||{};e.ui.version="1.12.1";/*!
	     * jQuery UI Focusable 1.12.1
	     * http://jqueryui.com
	     *
	     * Copyright jQuery Foundation and other contributors
	     * Released under the MIT license.
	     * http://jquery.org/license
	     */
e.ui.focusable=function(n,i){var r,a,o,s,l,u=n.nodeName.toLowerCase();if("area"===u){if(r=n.parentNode,a=r.name,!n.href||!a||"map"!==r.nodeName.toLowerCase())return!1;return o=e("img[usemap='#"+a+"']"),o.length>0&&o.is(":visible")}return/^(input|select|textarea|button|object)$/.test(u)?(s=!n.disabled,s&&(l=e(n).closest("fieldset")[0],l&&(s=!l.disabled))):s="a"===u?n.href||i:i,s&&e(n).is(":visible")&&t(e(n))};function t(e){for(var t=e.css("visibility");"inherit"===t;)e=e.parent(),t=e.css("visibility");return"hidden"!==t}e.extend(e.expr[":"],{focusable:function(t){return e.ui.focusable(t,null!=e.attr(t,"tabindex"))}});e.ui.focusable;/*!
	     * jQuery UI Support for jQuery core 1.7.x 1.12.1
	     * http://jqueryui.com
	     *
	     * Copyright jQuery Foundation and other contributors
	     * Released under the MIT license.
	     * http://jquery.org/license
	     *
	     */
"1.7"===e.fn.jquery.substring(0,3)&&(e.each(["Width","Height"],function(t,n){var i="Width"===n?["Left","Right"]:["Top","Bottom"],r=n.toLowerCase(),a={innerWidth:e.fn.innerWidth,innerHeight:e.fn.innerHeight,outerWidth:e.fn.outerWidth,outerHeight:e.fn.outerHeight};function o(t,n,r,a){return e.each(i,function(){n-=parseFloat(e.css(t,"padding"+this))||0,r&&(n-=parseFloat(e.css(t,"border"+this+"Width"))||0),a&&(n-=parseFloat(e.css(t,"margin"+this))||0)}),n}e.fn["inner"+n]=function(t){if(void 0===t)return a["inner"+n].call(this);return this.each(function(){e(this).css(r,o(this,t)+"px")})},e.fn["outer"+n]=function(t,i){if("number"!=typeof t)return a["outer"+n].call(this,t);return this.each(function(){e(this).css(r,o(this,t,!0,i)+"px")})}}),e.fn.addBack=function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))});/*!
	     * jQuery UI Tabbable 1.12.1
	     * http://jqueryui.com
	     *
	     * Copyright jQuery Foundation and other contributors
	     * Released under the MIT license.
	     * http://jquery.org/license
	     */
e.extend(e.expr[":"],{tabbable:function(t){var n=e.attr(t,"tabindex"),i=null!=n;return(!i||n>=0)&&e.ui.focusable(t,i)}})}(wmjQuery)},function(e,t,n){var i=n(2).getCtx;i().register("DummyTabOrganizer").asCtor(r).dependencies("DefaultTextGetter, Positions, EventHandlerBindingManager, AccessibilityUtils, AccessibilityConsts, HostData, wmjQuery,ElementEmbedderFactory, Consts, DomManager");function r(e,t,n,i,r,a,o,s,l,u){var c=this;c.createDummyElement=v,c.showDummy=y,c.hideDummy=S,c.removeDummy=w,c.focusNearDummy=I,c.isDummyTabOrganizer=A;var d,f=r.DUMMY_ELEMENT_ID_PREFIX;function m(){d=a.isIEBrowser()}function v(e,t,i,r,a){var u=T(e,t),c=o("#"+u);c.length||(c=p(u)),c.css("display",a?a:"block");var f=s.get(r,!0,!0);return f.embed(c,l.POSITION_PERIMETER_TYPE.Inside,i,void 0,{isInvisible:!0}).then(function(){var e=f.getElement();return c=e.getOriginElement(),n.bind("focus",b,c),d&&n.bind("focusout",g,c),c})}function p(e){return u.parseElementAsJquery('<div id="'+e+'" class="walkme-to-destroy" tabindex="0" style="width: 1px;position: absolute;left: -10000px;"></div>')}function T(e,t){return f+e+"-"+t}function E(e,t){return"#"+T(e,t)}function b(e){var t=o(this);if(d&&n.unbindSpecificByElement(t,"focus",b),e.useOriginalFocus)return;var i=t.attr("id"),r=i.substring(f.length);if(!r)return;var a=r.split("-"),s=a[0],l=a[1],u=o("."+h(s)+l),c=u.is(":focusable")?u:o(u.find(":tabbable")[0]);if(!c.length)return;c.focus(),e.preventDefault(),e.stopPropagation()}function h(e){return r.ELEMENT_TYPES_PREFIX[e]}function g(){n.bind("focus",b,o(this))}function y(e,t){C(e,t,"show")}function S(e,t){C(e,t,"hide")}function w(e,t){var i=E(e,t);n.unbindSpecificByElementSelector(i,"focus",b),d&&n.unbindSpecificByElementSelector(i,"focusout",g),C(e,t,"remove")}function C(e,t,n){var i=o(E(e,t));i[n]()}function I(t,n,a,s){var l=o(E(t,n)),u=s.index(l),c=u+a,d=c===-1||c===s.length;d&&(c=u,i.announce(e.getValue(0===c?r.DEFAULT_TEXT_KEY.BeginningOfPage:r.DEFAULT_TEXT_KEY.EndOfPage)));var f=s[c],m=o.Event("focus",{useOriginalFocus:d});o(f).trigger(m)}function A(e,t,n){return e.is(E(t,n))}m()}},function(e,t,n){var i=n(2).getCtx;i().register("FocusEventDispatcher").asCtor(r).dependencies("FeaturesManager, AccessibilityConsts");function r(e,t){var n=this;n.dispatch=i;function i(n){if(e.isFeatureEnabled(t.FEATURES.RaiseFocusEvent)&&FocusEvent)try{var i=new FocusEvent("focus",{relatedElement:n});n.dispatchEvent(i)}catch(r){}}}},function(e,t,n){var i=n(2).getCtx;i().register("MessageHandler").asCtor(r).dependencies("AriaAttributesSetter, Consts, AccessibilityConsts, DomManager");function r(e,t,n,i){var r=this;r.handleMessages=o;var a=n.PARTIAL_SELECTORS.SURVEY;function o(e){var n=i.parseElementAsJquery(e.surveyObj.Questions),r=l(n);n.each(function(n,i){if(i.QuestionType==t.QUESTION_TYPES.Message){var o=e.surveyBalloon.find("#"+a.QUESTION+"-"+i.Id);if(0!=o.length){var l=o.find("."+a.QUESTION_TITLE),d=o.find("."+a.QUESTION_SUB_TITLE);r||s(e.surveyBalloon)?c(e.surveyBalloon,l,d,i.Id):(u(l,2),u(d,3))}}})}function s(e){return 1===e.find(".walkme-survey-questions ."+a.QUESTION).length}function l(e){var n=e.filter(function(){return this.QuestionType===t.QUESTION_TYPES.Message});return e.length===n.length}function u(t,n){t.attr("role","heading"),e.setAriaLevel(t,n)}function c(t,n,i,r){var o=a.QUESTION_TITLE+"-"+r,s=a.QUESTION_SUB_TITLE+"-"+r;n.attr("id",o),i.attr("id",s);var l=t.attr("aria-describedby")||"",u=l+" "+o+" "+s;e.setAriaDescribedBy(t,u)}}},function(e,t,n){var i=n(2).getCtx;i().register("RequiredQuestionsHandler").asCtor(r).dependencies("Consts, AccessibilityConsts, DomManager");function r(e,t,n){var i=this;i.handleRquiredQuestions=r;function r(t){n.parseElementAsJquery(t.surveyObj.Questions).each(function(t,n){if(n.QuestionType==e.QUESTION_TYPES.RadioButton||n.QuestionType==e.QUESTION_TYPES.NPS){var i=wmjQuery("#walkme-survey-question-"+n.Id);a(i),o(i,n)}})}function a(e){var t=wmjQuery("legend",e),n=t.text()+" Required";t.text(n)}function o(e,i){var r=wmjQuery("."+t.PARTIAL_SELECTORS.SURVEY.QUESTION_TITLE,e),a=n.parseElementAsJquery("<span id='wm-required-question-"+i.Id+"' style='color:red;'> *</span>");r.append(a)}}},function(e,t,n){var i=n(2).getCtx;i().register("SurveyContainerHandler").asCtor(r).dependencies("WmAccessibilityCommonUtils, CommonUtils, AriaAttributesSetter, AccessibilityConsts,ElementsHidingManager, wmjQuery, FeaturesManager");function r(e,t,n,i,r,a,o){var s=this;s.handleContainer=m;var l,u=i.FOCUSABLE_SELECTORS.SURVEY,c=i.PARTIAL_SELECTORS.SURVEY,d=i.DEPLOYABLE_TYPES.survey;function f(){var e=t.getCustomConfiguration()||{};l=e.surveyAccessibilitySettings&&e.surveyAccessibilitySettings.headingsRanking||{}}function m(s,l,f,m){p(s);var E=T(s,l);e.addTabIndex(a(E));var b=e.shouldDisableFocusLock(d,l.Id),h="1"==l.Settings.fadeBackground;e.handleFocusElements(s,E,u.CLOSE_LINK,h||!b),o.isFeatureEnabled("surveyDelayFocus")?setTimeout(function(){E[0].focus()},20):E[0].focus(),t.setRole(s,f||"dialog"),n.setAriaLabel(s,m);var g=a("."+c.TITLE,s);if(g.attr("id",c.TITLE),v(g,l.Id),n.setAriaLabelledBy(s,c.TITLE),e.shouldAddAriaHidden(h,d,l.Id)){var y=s.attr("id");r.hideAllButPopup(s,y,i.EVENTS.BALLOON.DestroyStepBalloon)}}function v(e,t){var i=l[t]||l["default"];if(!i)return;e.attr("role","heading"),n.setAriaLevel(e,i)}function p(n){var i=a(u.CLOSE_LINK,n);t.setRole(i,"button"),e.setXButtonLabel(i),i.removeAttr("title"),e.moveElementToEnd(n,u.CLOSE_LINK)}function T(e,t){for(var n=[],i=0;i<t.Questions.length;i++){var r=t.Questions[i],o=a("#"+c.QUESTION+"-"+r.Id,e),s=a("."+c.QUESTION_ANSWERS,o);n.push.apply(n,s.toArray())}var l=a(u.BUTTON,e);n.push.apply(n,l.toArray());var d=a(u.CLOSE_LINK,e);return n.push.apply(n,d.toArray()),n}f()}},function(e,t,n){var i=n(2).getCtx;i().register("SurveyHtmlStandardizer").asCtor(r).dependencies("Consts, DomManager");function r(e,t){var n=this;n.standardizeHtml=r;var i="wm-wrapper-question-";function r(e){a(e),o(),s(e)}function a(n){t.parseElementAsJquery(n.surveyObj.Questions).each(function(t,i){i.QuestionType==e.QUESTION_TYPES.RadioButton?n.surveyBalloon.find(".walkme-survey-answer-subtitle").remove():i.QuestionType==e.QUESTION_TYPES.CheckBox&&wmjQuery("label.walkme-survey-answer-label-checkbox").remove()})}function o(){wmjQuery("label.walkme-survey-answer-label-radiobutton").each(function(e,t){t.innerHTML="answer"+e,t.style.display="none"})}function s(n){t.parseElementAsJquery(n.surveyObj.Questions).each(function(t,n){n.QuestionType==e.QUESTION_TYPES.RadioButton||n.QuestionType==e.QUESTION_TYPES.CheckBox||n.QuestionType==e.QUESTION_TYPES.NPS?(l(n),c(n)):n.QuestionType==e.QUESTION_TYPES.FreeText&&d(n)})}function l(t){var n,i,r=u(t);t.QuestionType==e.QUESTION_TYPES.RadioButton?(n="#walkme-survey-question-radiobutton-answers-",i=".walkme-survey-radiobutton-answer"):t.QuestionType==e.QUESTION_TYPES.CheckBox?(n="#walkme-survey-question-checkbox-answers-",i=".walkme-survey-question-checkbox-answer"):t.QuestionType==e.QUESTION_TYPES.NPS&&(n="#walkme-survey-question-nps-answers-",i=".walkme-survey-nps-answer");var a=wmjQuery(n+t.Id);a.find(i).wrapAll(r)}function u(e){var t=document.createElement("fieldset");return t.id=i+e.Id,t.style.border="none",t.style.padding=0,t.style.margin=0,t}function c(e){var t=m("legend",f(e));wmjQuery("#"+i+e.Id).prepend(t)}function d(e){var t=m("label",f(e));t.setAttribute("for","walkme-survey-question-freetext-"+e.Id);var n=wmjQuery("#walkme-survey-question-freetext-answers-"+e.Id);n.prepend(t)}function f(e){var t=e.SubTitle?" "+e.SubTitle:"";return e.Title+t}function m(e,n){var i=document.createElement(e);return i.style.opacity=0,i.style.height=0,i.style["font-size"]=0,i.style.color="transparent",t.setInnerHTML(i,n),i}}},function(e,t,n){var i=n(2).getCtx;i().register("SurveyAccessibilityHandler").asCtor(r).dependencies("WmAccessibilityCommonUtils, AriaAttributesSetter, AccessibilityConsts, SurveyHtmlStandardizer, MessageHandler, RequiredQuestionsHandler, SurveyContainerHandler, DefaultTextGetter, FocusTracker, ElementsGetter");function r(e,t,n,i,r,a,o,s,l,u){var c=this;c.init=v;var d,f,m;function v(e,t){p(),d=e,f=t,m=n.FOCUSABLE_SELECTORS.SURVEY}function p(){var e=n.EVENTS.SURVEY;_walkmeInternals.bind(e.SurveyBalloonDisplayed,T),_walkmeInternals.bind(e.SurveyQuestionCountSet,E),_walkmeInternals.bind(e.SurveyClosed,l.focus)}function T(e,t){l.addToStack(u.findLastFocusedElement(),n.FOCUS_TRACKING_ELEMENTS_TYPES.survey),i.standardizeHtml(t),a.handleRquiredQuestions(t),r.handleMessages(t),o.handleContainer(t.surveyBalloon,t.surveyObj,d.survey,f.survey)}function E(i,r){var a=wmjQuery(m.QUESTION_NUMBER,r.balloonDiv);e.addTabIndex(a);var o=a.text().split("/"),l=s.getValue(n.DEFAULT_TEXT_KEY.QuestionInfoText);l=l.replace("{0}",o[0]),l=l.replace("{1}",o[1]),t.setAriaLabel(a,l)}}},function(e,t,n){var i=n(2).getCtx;i().register("BBCodeAccessibilityHandler").asCtor(r).dependencies("AccessibilityConsts");function r(e){var t,n=this;n.init=function(e){i(),t=e};function i(){_walkmeInternals.bind("RegisterBBCodeDeployableClick",r)}function r(e,t){var n=t.element;a(n),o(n)}function a(t){t.keydown(function(n){n.keyCode===e.KEY_CODES.ENTER&&(t.click(),n.preventDefault())})}function o(e){var t=e[0].nodeName.toLowerCase();if(/a/.test(t)){var n=e.attr("tabindex");void 0!=n&&null!=n||e.attr("tabindex",0)}}}},function(e,t,n){var i=n(2).getCtx;i().register("BizFlowAccessibilityHandler").asCtor(r).dependencies("FocusTracker,Consts");function r(e,t){var n=this;n.init=a;var i,r;function a(e,t){o(),i=e,r=t}function o(){_walkmeInternals.bind("FlowCompleted",s),_walkmeInternals.bind("FlowStopped",s)}function s(t,n){l(n)||e.focus()}function l(e){return e.flowInstanceParams&&e.flowInstanceParams.type===t.BACKGROUND_SWT_INSTANCE_PARAMS.type}}},function(e,t,n){var i=n(2).getCtx;i().register("LauncherAccessibilityHandler").asCtor(r).dependencies("CommonUtils, LauncherDefaultIcon, LauncherTextSetter, LauncherTabOrderHandler, AccessibilityConsts, ElementInIframeIndicator");function r(e,t,n,i,r,a){var o=this;o.init=l;var s;function l(e){u(),s=e}function u(){_walkmeInternals.bind(r.EVENTS.LAUNCHER.LauncherIsShown,c),i.bindEvents()}function c(e,r,o){var s=o.launcherDiv,l=o.launcherData,u=l.Settings.action.actionType,c=l.Settings.imageObject||t;d(s,u),n.setText(s,u,c);var f=a.isInIframe(o.element)?i.handleElementFocusByDom:i.handleElementFocusByTabOrder;f(l.Id,l.Position,o.element,s)}function d(t,n){var i="none"==n?"img":"button";e.setRole(t,s.launcher||i),t.find("*").attr("role","none presentation")}}},function(e,t,n){var i=n(2).getCtx;i().register("LauncherTextSetter").asCtor(r).dependencies("WmAccessibilityCommonUtils, DefaultTextGetter, AccessibilityConsts");function r(e,t,n){var i=this;i.setText=o;var r=n.DEFAULT_TEXT_KEY,a={"walk-me-through":r.WalkMeThroughLauncher,"show-me-how":r.ShowMeHowLauncher,info:r.InfoLauncher,v:r.VLauncher,question:r.QuestionLauncher,error:r.ErrorLauncher,arrow:r.ArrowLauncher,"mandatory-none":r.MandatoryNoneLauncher,"mandatory-action":r.MandatoryActionLauncher,"round-question-mark":r.RoundQuestionMarkLauncher,california:r.WalkMeThroughLauncher};function o(t,n,i){var r="";switch(i.type){case"shape":var a=i.data.shape;r=s(a,n);break;case"customText":r=i.data.customText;break;case"custom":r=i.data.alt}r=r?r:"Untitled","none"==n&&t.attr("alt",r),e.elementWrapper(t,r),l(t)}function s(e,n){return"mandatory"==e&&(e+="none"==n?"-none":"-action"),t.getValue(a[e])}function l(e){var t=e.parent(".walkme-launcher-container"),n=t.attr("title");if(!n)return;t.removeAttr("title"),e.attr("title",n)}}},function(e,t,n){var i=n(2).getCtx;i().register("LauncherTabOrderHandler").asCtor(r).dependencies("EventHandlerBindingManager, AccessibilityConsts, IdGetter, WmAccessibilityCommonUtils, DummyTabOrganizer, wmjQuery, ElementsGetter");function r(e,t,n,i,r,a,o){var s=this;s.bindEvents=m,s.handleElementFocusByTabOrder=v,s.handleElementFocusByDom=p;var l=t.KEY_CODES.TAB,u=t.ELEMENT_TYPES_PREFIX.launcher,c=t.EVENTS.LAUNCHER,d=t.DEPLOYABLE_TYPES.launcher,f=t.DIRECTIONS;function m(){_walkmeInternals.bind(c.DisplayLauncher,b),_walkmeInternals.bind(c.HideLauncher,h),_walkmeInternals.bind(c.LauncherDestroyed,g)}function v(t,n,i,a){T(a,-1),r.createDummyElement(d,t,n,i,a.css("display")),e.bind("keydown",E,a)}function p(e,t,n,i){T(i,0)}function T(e,t){var n=e.parent(".walkme-launcher-container");n.removeAttr("tabindex"),n.off("keydown"),i.addTabIndex(e,t)}function E(e){var t;if(e.which===l&&(t=e.shiftKey?f.back:f.next),!t)return;var i=n.getIdByElement(a(this),u);r.focusNearDummy(d,i,t,o.getAllTabbablesOnPageOrdered()),e.preventDefault(),e.stopPropagation()}function b(e,t){r.showDummy(d,t.launcher.Id)}function h(e,t){r.hideDummy(d,t.launcher.Id)}function g(t,n){var i=n.launcher.Id;e.unbindSpecificByElementSelector("."+u+i,"keydown",E),r.removeDummy(d,i)}}},function(e,t,n){var i=n(2).getCtx;i().register("ResourceAccessibilityHandler").asCtor(r).dependencies("WmAccessibilityCommonUtils, CommonUtils, AriaAttributesSetter, DialogTabbaleElementsPreparer, DefaultTextGetter, ElementsHidingManager, AccessibilityConsts, FocusTracker, ElementsGetter, Consts");function r(e,t,n,i,r,a,o,s,l,u){var c=this;c.init=h;var d,f,m=o.EVENTS.RESOURCE,v="walkme-open-in-new-tab-button",p="walkme-light-box-x-button",T="walkme-content-light-box",E=o.DEFAULT_TEXT_KEY,b={IFRAME:"iframe",NEW_TAB:"#"+v,CLOSE_LINK:"#"+p};function h(e,t){g(),d=e,f=t}function g(){_walkmeInternals.bind(m.LightBoxDivCreated,y),_walkmeInternals.bind(m.LightBoxDivCentered,S),_walkmeInternals.bind(m.ContentRemoved,s.focus),_walkmeInternals.bind(m.ActivatingContent,C)}function y(u,c){var h=c.lightBoxDiv,g=c.content;s.addToStack(l.findLastFocusedElement(),o.FOCUS_TRACKING_ELEMENTS_TYPES.resource),e.moveElementToEnd(h,b.NEW_TAB),e.moveElementToEnd(h,b.CLOSE_LINK);var y=i.prepareTabbableElements(h,b,!1,!0);e.handleFocusElements(h,y,b.CLOSE_LINK,!0),t.setRole(h,d.resource||"dialog"),n.setAriaLabel(h,f.resource||g.Name),w(h,b.CLOSE_LINK,p+"-img",r.getValue(E.Close)),w(h,b.NEW_TAB,v+"-img",r.getValue(E.OpenInNewTab));var S=wmjQuery("iframe",h);S.attr("title",g.Name),e.shouldAddAriaHidden(!0)&&a.hideAllButPopup(h,T,m.ContentRemoved)}function S(e,t){var n=t.lightBoxDiv;n.focus()}function w(e,i,r,a){var o=wmjQuery(i+" > img",e);o.attr("id",r),o.attr("alt",a);var s=wmjQuery(i,e);t.setRole(s,"button"),n.setAriaLabelledBy(s,r),s.removeAttr("title")}function C(e,t){var n=t.content;n.Settings.ContentPlayMode==u.PLAY_MODE.NewTab&&s.focus()}}},function(e,t,n){var i=n(2).getCtx;i().register("ShoutoutAccessibilityHandler").asCtor(r).dependencies("WmAccessibilityCommonUtils, CommonUtils, AriaAttributesSetter, DialogTextSetter, DialogTabbaleElementsPreparer, DesignTemplatePlaceholdersRolesSetter, DefaultTextGetter, ElementsHidingManager, AccessibilityConsts, wmjQuery, FocusTracker, Consts, ElementsGetter");function r(e,t,n,i,r,a,o,s,l,u,c,d,f){var m=this;m.init=I;var v,p,T=l.DEPLOYABLE_TYPES.shoutout,E=l.EVENTS.SHOUTOUT,b="wm-title",h="wm-template-text",g="wm-shoutout-",y=1,S=["none","destroy"],w=d.SHOUTOUT_CLICK_TYPE,C={ACTION_BUTTON:".wm-blue-btn",CLOSE_LINK:".wm-close-link",CLOSE_BUTTON:".wm-close-button"};function I(e,t){A(),v=e,p=t}function A(){_walkmeInternals.bind(E.ShoutoutDisplayed,k),_walkmeInternals.bind(E.ShoutOutClosed,O)}function k(t,n){if(n&&n._uiComponent&&n._uiComponent.UiComponentId==y){var i=n._uiComponent.Id,r=u("#"+g+i);c.addToStack(f.findLastFocusedElement(),l.FOCUS_TRACKING_ELEMENTS_TYPES.shoutout);var o=u(C.ACTION_BUTTON,r);L(o);var s=u(C.CLOSE_LINK,r);L(s);var d=u(C.CLOSE_BUTTON,r);L(d),e.setXButtonLabel(d);var m=d.length?C.CLOSE_BUTTON:C.CLOSE_LINK;e.addTitlesToFrames(r),a.setDefaultRoleForActionPlaceholders(r),_(n,i,r,m)}}function L(e){t.setRole(e,"button")}function _(a,u,c,d){e.moveElementToEnd(c,C.CLOSE_BUTTON);var f=r.prepareTabbableElements(c,C,!0),m=!!a._settings.overlay,y=e.shouldDisableFocusLock(T,u);e.handleFocusElements(c,f,d,m||!y),f[0].focus(),t.setRole(c,v.shoutOut||"dialog"),n.setAriaLabel(c,p.shoutOut||o.getValue(l.DEFAULT_TEXT_KEY.ShoutOut)),i.setText(c,u,b,h),e.shouldAddAriaHidden(m,T,u)&&s.hideAllButPopup(c,g+u,E.ShoutOutClosed)}function O(e,t){var n=t.clickType;(n===w.XButton||n===w.RemindMeLater||(n===w.Close||n===w.Action)&&F(t.action))&&c.focus()}function F(e){return e&&u.inArray(e.Type,S)!==-1}}},function(e,t,n){var i=n(2).getCtx;i().register("ShuttleAccessibilityHandler").asCtor(r).dependencies("FocusTracker, AccessibilityConsts, CommonUtils, Consts");function r(e,t,n,i){var r=this;r.init=o;var a=i.PLAY_MODE;function o(){s()}function s(){_walkmeInternals.bind(t.EVENTS.SHUTTLE.ActivatingShuttle,l)}function l(t,i){var r=parseInt(n.getSettingsValue(i.shuttle.Settings,"ShuttlePlayMode",a.SameTab));r===a.NewTab&&e.focus()}}},function(e,t,n){var i=n(2).getCtx;i().register("SmartTipFocusHandler").asCtor(r).dependencies("wmjQuery, WmAccessibilityCommonUtils, IdGetter, AccessibilityConsts, ElementsGetter, SmartTipIdentifier, FocusEventDispatcher, DummyTabOrganizer, SmartTipToElementMapper");function r(e,t,n,i,r,a,o,s,l){var u=this;u.moveFocus=T;var c=i.ELEMENT_TYPES_PREFIX,d=c.smartTipIcon,f=c.smartTipTooltip,m=i.ELEMENTS_SELECTORS.SMART_TIP.tooltip,v=i.DEPLOYABLE_TYPES,p=i.DIRECTIONS;function T(e,t){var i=r.getAllTabbablesOnPageOrdered();if(t.shiftKey)if(a.isSmartTipIconElement(e))E(v.smartTipIcon,e,p.back,i);else{var s=w(i,e,!0),l=e.parents(m),u=s.parents(m).length>0;0===l.length||u?(e.blur(),s.focus(),u||(o.dispatch(s[0]),b(t.target))):E(v.smartTipTooltip,l,p.back,i)}else{var c=h(e);if(c)g(c)||y(i,c);else{var f;if(e.attr("class")&&(f=n.getIdByElement(e,d)),f)y(i,f);else{var T,S=w(i,e),C=e.parents(m);C.length>0&&(T=k(i,S,C)),T||(S.focus(),0===S.parents(m).length&&o.dispatch(S[0]))}}}}function E(e,t,i,r){var a=n.getIdByElement(t,c[e]),u=l.getElementBySmartTipId(a);s.isDummyTabOrganizer(u,e,a)?s.focusNearDummy(e,a,i,r):(u.focus(),o.dispatch(u[0]))}function b(n){var i=l.getSmartTipDetailsByElement(n);if(i&&i.canHaveConditionalIcon){var r=e("."+d+i.smartTipId);r.length>0&&t.announce(r[0].getAttribute("aria-label")||"")}}function h(e){var t=l.getSmartTipDetailsByElement(e);return t&&t.smartTipId}function g(t){var n=e("."+d+t);if(n.length>0)return n.focus(),!0;return!1}function y(e,t){var n=l.getElementBySmartTipId(t);if(!n)return!1;var i=S(e,t);if(i)i.focus();else{var r=w(e,n);n.blur(),r.focus(),o.dispatch(r[0])}return!0}function S(t,n){var i=e("."+f+n);if(!i[0])return;var r=e(i.find(":tabbable")[0]);return r.length?r:void 0}function w(t,n,i){for(var r,a=t.index(n),o=i?A(a,t):I(a,t);!r;){var s=e(t[o]);C(n,s)?r=s:o=i?A(o,t):I(o,t)}return r}function C(e,t){if(a.isSmartTipIconElement(t))return!1;var n=t.parents(m)[0];if(!n)return!0;var i=e.parents(m)[0];return i==n}function I(t,n){if(t<n.length-1)return t+1;var i=e("#walkme-dummy-last-element");return e.inArray(i,n)}function A(e,t){return e>0?e-1:t.length-1}function k(e,t,i){var r=t.parents(m);if(0==r.length){var a=n.getIdByElement(i,f);return t=w(e,l.getElementBySmartTipId(a)),t.focus(),o.dispatch(t[0]),!0}return!1}}},function(e,t,n){var i=n(2).getCtx;i().register("SmartTipToElementMapper").asCtor(r);function r(){var e=this;e.addSmartTipDetails=i,e.getSmartTipDetailsByElement=r,e.addElementForSmartTipId=a,e.getElementBySmartTipId=o;var t=[],n={};function i(e,n,i){t.push({element:n,smartTipId:e,canHaveConditionalIcon:i})}function r(e){for(var n=0;n<t.length;n++)if(t[n].element.is(e))return t[n]}function a(e,t){n[e]=t}function o(e){return n[e]}}},function(e,t,n){var i=n(2).getCtx;i().register("SmartTipAccessibilityHandler").asCtor(r).dependencies("WmAccessibilityCommonUtils, CommonUtils, wmjQuery, TimerManager, SmartTipFocusHandler, BBCodeParser, EventHandlerBindingManager, IdGetter, DummyLastElementAdder, AllowedTabbableElementFinder, Consts, FocusLockChecker, AccessibilityConsts, ElementsGetter, SmartTipExistenceChecker, FocusBehaviorSetter, AriaAttributesSetter, FeaturesManager, DefaultTextGetter, DummyTabOrganizer, ElementInIframeIndicator, SmartTipToElementMapper, DomManager");function r(e,t,n,i,r,a,o,s,l,u,c,d,f,m,v,p,T,E,b,h,g,y,S){var w,C,I=this,A=f.KEY_CODES.TAB,k=f.ELEMENT_TYPES_PREFIX,L=k.smartTipIcon,_=f.EVENTS.SMART_TIP,O=f.DEPLOYABLE_TYPES,F=O.smartTipIcon,x=O.smartTipTooltip,B=f.DEFAULT_TEXT_KEY;I.init=function(e){if(E.isFeatureEnabled(f.FEATURES.DisableSmartTipsAccessibility)||!v.doSmartTipsExist())return;l.add(),o.bind("keydown",D,n("#walkme-dummy-last-element")),N(),w=e,C=E.isFeatureEnabled("handleSmartTipsFocusLock")};function N(){_walkmeInternals.bind(_.SmartTipElementShown,U),_walkmeInternals.bind(_.SmartTipElementRemoved,R),_walkmeInternals.bind(_.SmartTipIconShown,V),_walkmeInternals.bind(_.SmartTipIconDestroyed,G),_walkmeInternals.bind(_.SmartTipTooltipShown,z),_walkmeInternals.bind(_.SmartTipTooltipDestroyed,J)}function D(e){if(e.which==A){if(!C&&d.isFocusLocked())return;var t=document.activeElement,a=m.getAllTabbablesOnPageOrdered();if(e.shiftKey){if(t==a[0])return}else if(M(t)){if(P(a))return;var o=n.inArray(t,a),s=o>-1?o:void 0,c=u.findNext(s,a);return l.reAdd(),c?(c.focus(),void e.preventDefault()):void n("#walkme-dummy-last-element").trigger("focus",{isAlreadyFocused:!0})}P(a)||l.reAdd();var f=n(t);if(0==f.parents(".walkme-custom-balloon-outer-div, .wm-shoutout").length){i.setWalkmeTimeout(function(){r.moveFocus(f,e)},150);var v=y.getSmartTipDetailsByElement(t);if(v&&v.canHaveConditionalIcon){var p=n.Event("blur",{shouldPreventDefault:!0});f.trigger(p)}e.preventDefault()}}}function P(e){var t=e[e.length-1];return M(t)}function M(e){return e==n("#walkme-dummy-last-element")[0]}function U(e,t){var i=t.smartTip;if(!i)return;var r=t.element;if(g.isInIframe(r))return;var a=i.Id;if(Q(i,r),y.addSmartTipDetails(a,r,!i.Info&&(i.Validations.length>0||i.PositiveFeedback)),r.is(":focusable"))y.addElementForSmartTipId(a,r),o.bind("keydown",D,r),$(r),H(i,r);else{var s=i.Settings.Position,l=i.Info.IsWithIcon?F:x,u=n("."+k[l]+a).css("display");h.createDummyElement(l,a,s,r,u||"none").then(function(e){y.addElementForSmartTipId(a,e)})}}function R(e,t){var n=t.smartTip,i=n.Id,r=y.getElementBySmartTipId(i);r&&o.unbindSpecificByElement(r,"keydown",D);var a=n.Info.IsWithIcon?F:x;h.removeDummy(a,i)}function Q(e,t){for(var n=j(e),i=t&&t.length&&t[0].getAttribute("aria-describedby")||"",r=0;r<n.length;r++){var a="walkme-tooltip-"+n[r];i+=" "+a}i=i.replace(/^\s+|\s+$/g,""),i&&T.setAriaDescribedBy(t,i),!e.PositiveFeedback&&e.Validations.length>0&&o.bind("blur",W(e.Id),t)}function H(t,n){if(t.Info){var i=t.Info.IsWithIcon?b.getValue(B.GuidanceAvailable):Y(t.Info.TooltipText);o.bind("focus",function(){e.announce(i)},n)}}function Y(e){return X(e)+". tooltip."}function W(t){return function(){(n(".walkme-custom-highlighter-smarttipid-"+t).length>0||n("."+L+t).length>0)&&i.setWalkmeTimeout(function(){0==n(".walkme-custom-highlighter-smarttipid-"+t).length&&0==n("."+L+t).length&&e.announce(b.getValue(B.LastInputValid))},100)}}function j(e){var t=[];if(e.PositiveFeedback&&!e.PositiveFeedback.IsWithIcon&&t.push(e.PositiveFeedback.Id),e.Validations)for(var n=0;n<e.Validations.length;n++)e.Validations[n].IsWithIcon||t.push(e.Validations[n].Id);return t}function V(i,r){var a=r.smartTipModel.Id,s=n("."+L+a),l=r.uiComponent;if(0!==s.length){K(s,a),o.bind("keydown",D,s);var u=l&&l.TooltipText;u&&(u=Y(u),u=q(l.Type,u),e.elementWrapper(s,u)),t.setRole(s,w.smartTipIcon||"img");for(var d=s.find("*"),f=0;f<d.length;f++)t.setRole(n(d[f]),"none presentation");var m="help";l.Type===c.SMART_TIP.COMPONENT_TYPE.Validation?m="Error":l.Type===c.SMART_TIP.COMPONENT_TYPE.PositiveFeedback&&(m="Valid Input"),s.attr("alt",m),$(s),h.showDummy(F,a)}}function K(t,n){var i=t.parent(".walkme-icon-root-SmartTip-"+n);i.removeAttr("tabindex"),e.addTabIndex(t,-1)}function G(e,t){var n=t.smartTipModel.Id;o.unbindSpecificByElementSelector("."+L+n,"keydown",D),h.hideDummy(F,n)}function q(e,t){switch(e){case c.SMART_TIP.COMPONENT_TYPE.Validation:return t+". "+b.getValue(B.PreviousFieldInvalid);case c.SMART_TIP.COMPONENT_TYPE.PositiveFeedback:return b.getValue(B.PreviousFieldValid)+": "+t;default:return t}}function X(e){for(var t=a.parse(e),i=S.parseElementAsJquery("<div>"+t+"</div>"),r=i.find("img"),o=0;o<r.length;o++){var s=n(r[o]),l=s.attr("alt");l&&s.replaceWith(". "+l+".")}var u=i[0];return u.textContent||u.innerText}function z(i,r){var a,s=r.uiComponent;if(s&&s.Id&&(a=s.Id),!a)return;var l="walkme-tooltip-"+a,u=n("#"+l);if(!u.length)return;o.bind("keydown",D,u),t.setRole(u,"tooltip");var d=n(u.selector+" iframe");e.addTabIndexToIframes(d);var f=e.getFocusablesInsideElement(u);p.setFocusBehavior(f);var m=r.smartTipModel.Id;if(s.Type!=c.SMART_TIP.COMPONENT_TYPE.Info&&!s.IsWithIcon){var v=y.getElementBySmartTipId(m)[0];if(v!==document.activeElement){var T=q(s.Type,s.TooltipText);e.announce(T)}}h.showDummy(x,m)}function J(e,t){var n=t.uiComponent;if(n&&n.Id){var i=n.Id;if(i){var r="walkme-tooltip-"+i;o.unbindSpecificByElementSelector("#"+r,"keydown",D),h.hideDummy(x,t.smartTipModel.Id)}}}function $(e){o.bind("focus",function(){e.mouseover()},e),o.bind("blur",t,e);function t(t){if(t.shouldPreventDefault)return void t.preventDefault();var n=t.relatedTarget;n?Z(e,n):i.setWalkmeTimeout(function(){Z(e,document.activeElement)},0)}}function Z(e,t){var r=s.getIdByElement(e,L)||te(e),a="."+k.smartTipTooltip+r,l=n(a)[0];if(l&&n.contains(l,t)){var u=n(a).find("*");o.bind("blur",c,u)}else e.mouseleave();function c(t){var n=t.relatedTarget;n?ee(e,l,n):i.setWalkmeTimeout(function(){ee(e,l,document.activeElement)},0)}}function ee(e,t,i){i==e[0]||n.contains(t,i)||e.mouseleave()}function te(e){var t=y.getSmartTipDetailsByElement(e);return t&&t.smartTipId}}},function(e,t,n){var i=n(2).getCtx;i().register("WalkThruAccessibilityHandler").asCtor(r).dependencies("FocusTracker");function r(e){var t=this;t.init=r;var n,i;function r(e,t){a(),n=e,i=t}function a(){_walkmeInternals.bind("UserStoppedWalkthru",e.focus),_walkmeInternals.bind("TutorialStopped",o)}function o(t,n){n&&e.focus()}}},function(e,t,n){var i=n(2).getCtx;i().register("MenuAccessibilityHandler").asCtor(r).dependencies("CommonUtils, WmAccessibilityCommonUtils, SiteConfigManager, ElementsHidingManager, AccessibilityConsts, FocusTracker, ElementsGetter");function r(e,t,n,i,r,a,o){var s=this;s.init=u;var l=r.EVENTS.MENU;function u(){c()}function c(){_walkmeInternals.bind(l.MenuBuilt,d),_walkmeInternals.bind(l.MenuCloseButtonClick,a.focus)}function d(e,s){var u=s[0];a.addToStack(o.findLastFocusedElement(),r.FOCUS_TRACKING_ELEMENTS_TYPES.menu);var c="Splash"===n.get().MenuDisplay;t.shouldAddAriaHidden(c,r.DEPLOYABLE_TYPES.menu)&&i.hideAllButPopup(u,"walkme-menu",l.AfterMenuClose)}}},function(e,t,n){var i=n(2).getCtx;i().register("BallonCreatedAccessibilityHandler").asCtor(r).dependencies("WmAccessibilityCommonUtils, CommonUtils, Lib, FeaturesManager, StepDataGetter,AriaAttributesSetter, DialogTextSetter, DialogTabbaleElementsPreparer, DesignTemplatePlaceholdersRolesSetter,DefaultTextGetter, ElementsHidingManager, AccessibilityConsts, FocusTracker, ElementsGetter, EventsListener, FocusEventDispatcher, wmjQuery, DomManager");function r(e,t,n,i,r,a,o,s,l,u,c,d,f,m,v,p,T,E){var b=this;b.init=P;var h,g,y,S=d.KEY_CODES.TAB,w=!1,C={},I=!1,A=!1,k=!1,L="walkme-custom-balloon-title",_="walkme-custom-balloon-content",O="wt-cannot-be-played",F=".walkme-custom-powered-by",x={ACTION_BUTTON:".walkme-custom-balloon-button",CLOSE_LINK:".walkme-custom-balloon-close-button"},B=d.FOCUS_TRACKING_ELEMENTS_TYPES,N=d.ELEMENTS_SELECTORS,D="walkme-custom-balloon-outer-div";function P(e,t){var n=d.EVENTS,r=n.BALLOON;_walkmeInternals.bind(r.BalloonCreated,Y),_walkmeInternals.bind(r.BalloonStartShow,H),_walkmeInternals.bind(n.WALKTHRU.NewStepShown,M),_walkmeInternals.bind(n.FLOW.UIFlowStageShown,U),_walkmeInternals.bind(r.FirstStepNotAvailable,Q),_walkmeInternals.bind(r.FirstStepNotAvailableBalloonClosed,f.focus),h=e,g=t,I=i.isFeatureEnabled("noAccessibleCapture"),k=i.isFeatureEnabled("skipPoweredByLink")}function M(e,t){R(t.Id)}function U(e,t){R(t.uiElementId)}function R(t){if(void 0!=t&&C[t]){var n=C[t],i=n.elementForFocus,r=n.focusTrackingDetails;e.isElementOnScreen(N.SHOUTOUT.container)?f.addToBottomOfStack(r.elementToKeep,r.balloonType,i):(i.focus(),f.addToStack(r.elementToKeep,r.balloonType))}}function Q(){R(O)}function H(e,t){var n=r.getActiveStepData();if(t&&n&&n.id){var i=n.id;y&&y!=i&&(C[y]=void 0),y=i;var a=C[i];!a||a.elementForFocus.focus()}}function Y(t,n){var i=n.Element,a=r.getActiveStepData();if(a){var o=W(a)||n.PageElement,s=a.isPopup,u=V(i,h.step||"dialog",g.step,a.ariaLabel,o,s,a.id,a.isFocusLockEnabled);if((a.spotlight||a.isFocusGrabEnabled)&&(C[a.id]={elementForFocus:u,focusTrackingDetails:z(s,o)}),s&&e.shouldAddAriaHidden(a.spotlight,a.deployableType,a.id)){var f=i.attr("id");c.hideAllButPopup(i,f,d.EVENTS.BALLOON.DestroyStepBalloon)}e.addTitlesToFrames(i),l.setDefaultRoleForActionPlaceholders(i)}else{var m=T(".walkme-custom-first-step-not-available-text",i);m.length&&j(m,i)}}function W(e){return!I&&e.identifySettings&&!e.identifySettings.isDefault&&(e.identifySettings.IsJquerySelector&&e.identifySettings.JquerySelector||e.identifySettings.ElementDescription&&Object.keys(e.identifySettings.ElementDescription))&&n.findElement(e.identifySettings)}function j(n,i){var r={};T.each(n[0].attributes,function(e,t){r[t.nodeName]=t.nodeValue});var o=r.style;delete r.style,n.replaceWith(function(){var e=T("<div></div>",r).append(T(this).contents());return e.attr("id",O),E.setAttribute(e,"style",o),e}),a.setAriaLabelledBy(i,O),t.setRole(i,h.step||"dialog");var l=s.prepareTabbableElements(i,x,!0);e.handleFocusElements(i,l,x.ACTION_BUTTON,!0,void 0);var u=!0;C[O]={elementForFocus:l[0],focusTrackingDetails:z(u)}}function V(n,r,l,c,f,m,v,p){for(var E,b=0;b<n.length;b++){var h=T(n[b]);h.hasClass(D)&&(E=h)}if(E){Z(E,x.CLOSE_LINK),ee(E);var g=s.prepareTabbableElements(E,x,!0);g.length||(g=E);var y=(i.isFeatureEnabled("balloonsTabInOrder")||p)&&!m&&f&&$(f,g);return A=p,e.handleFocusElements(E,g,x.CLOSE_LINK,p,y?f:void 0),t.setRole(E,r),a.setAriaLabel(E,c||l||u.getValue(d.DEFAULT_TEXT_KEY.StepBalloon)),o.setText(E,v,c?void 0:L,_),E.attr("tabindex",0),J(E,v),X(g)}}function K(e,t){return(""+t.className).indexOf(e)>-1}function G(e){return K("walkme-action-cancel",e)||K("walkme-action-back",e)}function q(e){return K("walkme-action-start",e)||K("walkme-action-next",e)||K("walkme-action-done",e)}function X(e){var t=e[0];if(i.isFeatureEnabled("focusFirstOnNextAction")&&G(t))for(var n=1;n<e.length;n++)if(q(e[n]))return e[n];return t}function z(e,t){var n={};return e?(n.elementToKeep=m.findLastFocusedElement(),n.balloonType=B.popup):(n.elementToKeep=t,n.balloonType=B.step),n}function J(e,t){var n="wt-step-counter-"+t,i=T(N.BALLOON.stepCounter,e);i.length&&(i.attr("id",n),a.appendAriaDescribedBy(e,n))}function $(t,n){var i=T(n[n.length-1]),r=T(n[0]),a=e.getFocusablesInsideElement(t),o=0!=a.length;return o&&te(a,i,r),o}function Z(n,i){e.moveElementToEnd(n,i);var r=T(i,n);t.setRole(r,"button"),e.setXButtonLabel(r)}function ee(t){var n=T(F,t);e.addTabIndex(n,k?-1:0)}function te(t,n,i){T("body").keydown(r),i.on("keydown",a),n.on("keydown",o),v.on("destroyStepBalloon",s),w=!1;function r(r){if(r.which===S&&!e.isWMElement(r.target)&&e.isElementOnScreen(i)){var a=T(document.activeElement),o=t.index(a);if(t==a||o!==-1){var s,l=A||!w;o===t.length-1&&!r.shiftKey&&l?s=i:0===o&&r.shiftKey&&l&&(s=n),s&&ne(s,r),w=!1}}}function a(e){e.which===S&&e.shiftKey&&(ne(t.last(),e),w=!0)}function o(e){e.which!==S||e.shiftKey||(ne(t.first(),e),w=!0)}function s(e,t){var l=t.balloonDiv;if(!l.is(".walkme-custom-simple-step"))return;T("body").off("keydown",r),i.off("keydown",a),n.off("keydown",o),v.off("destroyStepBalloon",s)}}function ne(e,t){e.focus(),p.dispatch(e[0]),t.preventDefault(),t.stopPropagation()}}},function(e,t,n){var i=n(2).getCtx;i().register("LiveChatAccessibilityHandler").asCtor(r).dependencies("FocusTracker, AccessibilityConsts, CommonUtils");function r(e,t,n){var i=this;i.init=r;function r(){a()}function a(){_walkmeInternals.bind(t.EVENTS.LIVE_CHAT.LiveChatClicked,o);
}function o(t,i){var r=i.options;n.isValueTrue(r.closeWalkmeOnChatOpen)&&n.isValueTrue(r.openNewWindow)&&e.focus()}}},function(e,t,n){var i=n(2).getCtx;i().register("ShoutoutVisualDesignAccessibilityHandler").asCtor(r).dependencies("AccessibilityConsts, FocusTracker, ElementsGetter, WmAccessibilityCommonUtils, Consts, EventsListener, FeaturesManager, WmAccessibilityCss");function r(e,t,n,i,r,a,o,s){var l=this;l.init=p;var u=e.EVENTS.SHOUTOUT,c=e.DEPLOYABLE_TYPES.shoutout,d=r.SHOUTOUT_CLICK_TYPE,f=["none","destroy"],m=1,v="walkme-visual-design-";function p(){T()}function T(){a.on(u.ShoutoutDisplayed,E),a.on(u.ShoutOutClosed,h)}function E(i,r){var a=r&&r.getComponent&&r.getComponent();if(a.UiComponentId===m&&a.VisualDesign){t.addToStack(n.findLastFocusedElement(),e.FOCUS_TRACKING_ELEMENTS_TYPES.shoutout);var o=wmjQuery("#"+v+a.VisualDesign.Id),l=o[0]&&o[0].shadowRoot;if(l){o=wmjQuery(l.firstElementChild);var u=document.createElement("style");u.innerHTML=s.getCss(),l.prepend(u)}b(a,a.Id,o)}}function b(e,t,n){var r=i.getFocusablesInsideElement(n,!0,!0);r.length||(r=n);var a=!!e.VisualDesign.Style.backcover,o=a||!i.shouldDisableFocusLock(c,t);i.handleFocusElements(n,r,"",o),r[0].focus()}function h(e,n){var i=n.clickType;(i===d.XButton||i===d.RemindMeLater||(i===d.Close||i===d.Action)&&g(n.action))&&t.focus()}function g(e){return e&&wmjQuery.inArray(e.type,f)!==-1}}},function(e,t,n){var i=n(2).getCtx;i().register("WmAccessibilityCommonUtils").asCtor(r).dependencies("CommonUtils, TimerManager, AccessibilityUtils, FocusBehaviorSetter, AriaAttributesSetter, DefaultTextGetter, ArrayUtils, AccessibilityConsts,IframeTabOrderWrapper,FeaturesManager");function r(e,t,n,i,r,a,o,s,l,u){var c=this;c.init=E,c.moveElementToEnd=n.moveElementToEnd,c.elementWrapper=S,c.handleFocusElements=w,c.addTabIndex=I,c.bindEscToClose=A,c.setXButtonLabel=k,c.lockFocus=_,c.getFocusablesInsideElement=n.getFocusablesInsideElement,c.checkIfElementNotEmpty=C,c.shouldDisableFocusLock=h,c.shouldAddAriaHidden=g,c.addTitlesToFrames=b,c.bindSpacePressToClick=D,c.unbindSpacePressToClick=P,c.announce=n.announce,c.isWMElement=B,c.isElementOnScreen=O,c.addTabIndexToIframes=L;var d,f,m=27,v=9,p=32,T=s.DEFAULT_TEXT_KEY;function E(e,t){d=e,f=t}function b(e){t.libSetTimeout(function(){for(var t=wmjQuery("iframe",e),n=0;n<t.length;n++)t.eq(n).attr("title")||t.eq(n).attr("title",a.getValue(T.UntitledIframe))})}function h(e,t){var n=d[e];return n&&(n.disableAll&&"true"==n.disableAll.toLowerCase()||n.disableIds&&0!=n.disableIds.length&&o.inArray(t.toString(),n.disableIds)!=-1)}function g(e,t,n){if(!f)return!1;return e||y(t,n)}function y(e,t){var n=e?f[e]:void 0;return n&&(o.inArray("*",n)!==-1||o.inArray(t.toString(),n)!==-1)}function S(e,t,n){var i=t;n&&(t?i+=". "+n:i=n),i&&e&&r.setAriaLabel(e,i)}function w(e,t,n,r,a){e.attr("tabIndex",0),i.setFocusBehavior(e),i.setFocusBehavior(t);var o=wmjQuery(n,e);A(e,o),r&&_(e,t,a)}function C(e){return wmjQuery.trim(e.text())||0!=e[0].childNodes.length&&!(1==e[0].childNodes.length&&(1==e.has("div").length||e.text()))}function I(t,n){for(var i=0;i<t.length;i++)e.addTabIndex(t.eq(i),n?n:0)}function A(e,t){t.length>0&&wmjQuery(e).keydown(function(e){e.keyCode===m&&t.click()})}function k(e,t){r.setAriaLabel(e,t||a.getValue(T.Close))}function L(e){I(e),u.isFeatureEnabled("innerIframesWrap")&&l.wrapIframes(e)}function _(e,t,n){e.keydown(function(i){if(i.which==v){var r=wmjQuery(document.activeElement);r=r[0]?r[0]:e[0],r=r.shadowRoot?r.shadowRoot.activeElement:r,i.shiftKey?r!=t[0]&&r!=e[0]||(n&&n.length?c.getFocusablesInsideElement(n).last().focus():t[t.length-1].focus(),i.preventDefault()):r==t[t.length-1]&&(n&&n.length?c.getFocusablesInsideElement(n).first().focus():t[0].focus(),i.preventDefault())}})}function O(e){var t=F(e);if(t)return!0;var n=x(e);return n&&F(n)}function F(e){return wmjQuery.contains(document.documentElement,wmjQuery(e)[0])}function x(e){for(var t=wmjQuery(e)[0];t&&!t.host;)t=t.parentNode;if(t)return t.host}function B(e){if(!e)return!1;var t=e.id;if(t&&t.indexOf&&t.indexOf("walkme")>=0)return!0;var n=e.className;return n&&n.indexOf&&(n.indexOf("walkme")>=0||n.indexOf("wmd")>=0||n.indexOf("wm-")>=0)}function N(e){e.which===p&&(e.preventDefault(),e.stopPropagation(),e.currentTarget.click())}function D(e,t){t?wmjQuery(t).on("keypress.accessibility",e,N):wmjQuery(e).on("keypress.accessibility",N)}function P(e,t){t?wmjQuery(t).off("keypress.accessibility",e,N):wmjQuery(e).off("keypress.accessibility",N)}}},function(e,t,n){var i=n(2).getCtx;i().register("WmAccessibilityCss").asCtor(r).dependencies("ResourceManager, FeaturesManager, SettingsFile");function r(e,t,i){var r=this;r.getCss=l;var a,o="walkme-accessibility-css";r.init=function(){if(t.isFeatureEnabled("inlineStyleCspSupport"))s();else{var n=l();e.injectCss(n,o,wmjQuery("head"))}};function s(){var t=i.getSettingsFile().Styles+"/accessibility/";e.injectCssFile(t+"wmAccessibilityCss.css",{cssId:o})}function l(){return a||(a=n(29)),a}}},function(e,t){e.exports="#walkme-current-language {\n\tpadding: 3px !important;\n}\n\n.walkme-tab-button {\n\toutline-offset: -3px;\n}\n\n.walkme-accessible-focus:focus {\n\toutline: 3px solid #369cd9 !important;\n}\n\n.walkme-survey-answer-nps-radiobutton.walkme-accessible-focus:focus + label {\n\toutline: 3px solid #369cd9 !important;\n}\n\n.walkme-disable-default-focus {\n\toutline: 0px !important;\n}\n\n.walkme-menu-open-notie .walkme-category .walkme-accessible-activatable-focus.walkme-deployable-row:focus,\n.walkme-menu-open-notie .walkme-activatable.walkme-accessible-activatable-focus:focus,\n.walkme-menu-open-notie .walkme-deployable-row.walkme-accessible-activatable-focus:focus {\n\toutline: 0;\n\t-webkit-box-shadow: inset 0px 0px 0px 2px #3c9dd7;\n\t-moz-box-shadow: inset 0px 0px 0px 2px #3c9dd7;\n\toutline: solid 2px #7dc7ea !important;\n\toutline-offset: -2px;\n}\n\n.walkme-menu-open-ie .walkme-category .walkme-accessible-activatable-focus.walkme-deployable-row:focus,\n.walkme-menu-open-ie .walkme-activatable.walkme-accessible-activatable-focus:focus,\n.walkme-menu-open-ie .walkme-deployable-row.walkme-accessible-activatable-focus:focus {\n\toutline: solid 3px #7dc7ea !important;\n\toutline-offset: -2px;\n}\n\n.walkme-search-box.walkme-accessible-focus:focus {\n\tbox-shadow: inset 0px 0px 0px 2px #3c9dd7;\n}\n\n#wt-cannot-be-played {\n\tdisplay: block;\n\tmargin-top: 0.67em;\n\tmargin-bottom: 0.67em;\n\tmargin-left: 0;\n\tmargin-right: 0;\n\tfont-weight: bold;\n\tcolor: #373737;\n\tfont-size: 14px;\n\tborder: none;\n\tmargin: 10px;\n\tword-wrap: break-word;\n}\n"},function(e,t,n){var i=n(2).getCtx;i().register("AccessibilityConsts").asCtor(r).dependencies("Consts");function r(e){var t=this,n=e.EVENTS,i=n.SmartTips,r=n.Launchers,a=n.Surveys,o=n.Walkthrus;t.KEY_CODES={TAB:9,ENTER:13},t.ELEMENTS_SELECTORS={SMART_TIP:{tooltip:".walkme-tooltip-outer-div"},BALLOON:{stepCounter:".walkme-custom-balloon-subtext"},SHOUTOUT:{container:".wm-shoutout"}},t.ELEMENT_TYPES_PREFIX={smartTipIcon:"walkme-icon-position-smartTip-id-",smartTipTooltip:"walkme-tooltip-smarttip-",survey:"walkme-survey-id-",shoutout:"wm-shoutout-",launcher:"walkme-launcher-id-"},t.FOCUSABLE_SELECTORS={SURVEY:{QUESTION_NUMBER:".walkme-survey-question-count",BUTTON:".walkme-custom-balloon-button",CLOSE_LINK:".walkme-custom-balloon-close-button"}},t.PARTIAL_SELECTORS={SURVEY:{TITLE:"walkme-survey-title",QUESTION:"walkme-survey-question",QUESTION_TITLE:"walkme-survey-question-title",QUESTION_SUB_TITLE:"walkme-survey-question-sub-title",QUESTION_ANSWERS:"walkme-survey-answer"}},t.EVENTS={SURVEY:{SurveyBalloonDisplayed:a.SurveyBalloonDisplayed,SurveyQuestionCountSet:a.SurveyQuestionCountSet,SurveyClosed:a.SurveyClosed},MENU:{MenuBuilt:n.WidgetMenu.MenuBuilt,AfterMenuClose:"AfterMenuClose",MenuCloseButtonClick:"MenuCloseButtonClick"},BALLOON:{DestroyStepBalloon:o.DestroyStepBalloon,BalloonCreated:n.BalloonCreated,BalloonStartShow:n.BalloonStartShow,FirstStepNotAvailable:n.FirstStepNotAvailable,FirstStepNotAvailableBalloonClosed:n.FirstStepNotAvailableBalloonClosed},WALKTHRU:{NewStepShown:o.StepShown},FLOW:{UIFlowStageShown:n.Flows.UIFlowStageShown},RESOURCE:{LightBoxDivCreated:n.LightBoxDivCreated,LightBoxDivCentered:n.LightBoxDivCentered,ContentRemoved:n.ContentRemoved,ActivatingContent:n.Contents.ActivatingContent},SHOUTOUT:{ShoutoutDisplayed:"show-end",ShoutOutClosed:n.ShoutOutClosed},LAUNCHER:{LauncherIsShown:r.LauncherIsShown,DisplayLauncher:r.DisplayLauncher,HideLauncher:r.HideLauncher,LauncherDestroyed:"LauncherDestroyed"},SMART_TIP:{SmartTipElementShown:i.SmartTipElementShown,SmartTipElementRemoved:i.SmartTipElementRemoved,SmartTipIconShown:i.SmartTipIconShown,SmartTipIconDestroyed:i.SmartTipIconDestroyed,SmartTipTooltipShown:i.TooltipShown,SmartTipTooltipDestroyed:i.SmartTipTooltipDestroyed},SHUTTLE:{ActivatingShuttle:n.Shuttles.ActivatingShuttle},LIVE_CHAT:{LiveChatClicked:n.LiveChat.LiveChatClicked}},t.FEATURES={DisableSmartTipsAccessibility:"disableSmartTipsAccessibility",RaiseFocusEvent:"raiseFocusEvent",AutoFocusRing:"autoFocusRing"},t.DEFAULT_TEXT_KEY={Close:"Close",ShoutOut:"ShoutOut",StepBalloon:"StepBalloon",QuestionInfoText:"QuestionInfoText",LastInputValid:"LastInputValid",EndOfPage:"EndOfPage",BeginningOfPage:"BeginningOfPage",GuidanceAvailable:"GuidanceAvailable",PreviousFieldInvalid:"PreviousFieldInvalid",PreviousFieldValid:"PreviousFieldValid",WalkMeThroughLauncher:"WalkMeThroughLauncher",ShowMeHowLauncher:"ShowMeHowLauncher",InfoLauncher:"InfoLauncher",VLauncher:"VLauncher",QuestionLauncher:"QuestionLauncher",ErrorLauncher:"ErrorLauncher",ArrowLauncher:"ArrowLauncher",MandatoryNoneLauncher:"MandatoryNoneLauncher",MandatoryActionLauncher:"MandatoryActionLauncher",RoundQuestionMarkLauncher:"RoundQuestionMarkLauncher",OpenInNewTab:"OpenInNewTab",UntitledIframe:"UntitledIframe"},t.TEXTS={Close:"close",ShoutOut:"Popup",StepBalloon:"Guidance balloon",QuestionInfoText:"Question {0} of {1}",LastInputValid:"Your last input is valid",EndOfPage:"end of page",BeginningOfPage:"beginning of page",GuidanceAvailable:"Guidance available for this field, click tab to explore",PreviousFieldInvalid:"Please return to field to resolve",PreviousFieldValid:"Previous field is valid",WalkMeThroughLauncher:"Walk Me Through",ShowMeHowLauncher:"Show Me How",InfoLauncher:"Info",VLauncher:"Check",QuestionLauncher:"Help",ErrorLauncher:"Warning",ArrowLauncher:"Go",MandatoryNoneLauncher:"Mandatory",MandatoryActionLauncher:"More details available",RoundQuestionMarkLauncher:"Help",OpenInNewTab:"open in new tab",UntitledIframe:"untitled"},t.SETTINGS_TRANSLATIONS_TEXTS_KEYS={Close:"close"},t.DEPLOYABLE_TYPES={WT:"WT",SWT:"SWT",resource:"resource",shoutout:"shoutout",survey:"survey",menu:"menu",launcher:"launcher",smartTipIcon:"smartTipIcon",smartTipTooltip:"smartTipTooltip"},t.DIRECTIONS={back:-1,next:1},t.DUMMY_ELEMENT_ID_PREFIX="wm-dummy-index-element-",t.FOCUS_TRACKING_ELEMENTS_TYPES={step:"step",popup:"popup",resource:"resource",shoutout:"shoutout",survey:"survey",menu:"menu"}}},function(e,t,n){var i=n(2).getCtx;i().register("WmAccessibilityInitializer").asCtor(r).dependencies("FeaturesManager, CommonUtils, WmAccessibilityCss, BizFlowAccessibilityHandler, LauncherAccessibilityHandler, ResourceAccessibilityHandler, ShoutoutAccessibilityHandler, SmartTipAccessibilityHandler, SurveyAccessibilityHandler, WalkThruAccessibilityHandler, ShuttleAccessibilityHandler, MenuAccessibilityHandler, WmAccessibilityCommonUtils, BBCodeAccessibilityHandler, BallonCreatedAccessibilityHandler, TextsTranslator, IframeTabOrderWrapper, LiveChatAccessibilityHandler, ShoutoutVisualDesignAccessibilityHandler");function r(e,t,n,i,r,a,o,s,l,u,c,d,f,m,v,p,T,E,b){var h,g,y,S,w=this;w.init=function(){if(!e.isFeatureEnabled("jawsAccessibility")&&!e.isFeatureEnabled("accessibility")){n.init();var i=t.getCustomConfiguration();h=i.deployablesRoles||{},g=i.deployablesAriaLabels||{},y=i.accessibilityFocusLock||{};var r=i.accessibilityMultilang||{};S=i.accessibilityHidePopupBackground,p.init(r),C(),T.wrapIframes()}};function C(){f.init(y,S),m.init(h,g),i.init(h,g),r.init(h,g),d.init(h,g),a.init(h,g),o.init(h,g),s.init(h,g),l.init(h,g),u.init(h,g),c.init(h,g),v.init(h,g),E.init(h,g),b.init(),f.announce("")}}},function(e,t,n){var i=n(2).getCtx;i().register("EventHandlerBindingManager").asCtor(r).dependencies("EventsListener");function r(e){var t=this;t.bind=r,t.unbindAll=l,t.unbindSpecificByElement=c,t.unbindSpecificByElementSelector=u;var n;function i(){n={}}function r(t,n,i){i?a(i,t,n):e.on(t,n)}function a(e,t,i){var r=n[t];if(r)for(var a=0;a<r.length;a++){var l=r[a];if(o(l,e,i))return}s(e,t,i),e.on(t,i)}function o(e,t,n){return e.element.is(t)&&e.handler===n}function s(e,t,i){n[t]||(n[t]=[]),n[t].push({element:e,handler:i})}function l(){for(var e in n)for(var t=n[e],i=0;i<t.length;i++){var r=t[i];r.element.off(e,r.handler)}n={}}function u(e,t,n){d(e,t,n)}function c(e,t,n){d(e,t,n)}function d(e,t,i){var r,a=n[t];if(!a)return;for(var s=0;s<a.length;s++){var l=a[s];if(o(l,e,i)){r=s;break}}if(void 0===r)return;var l=a[r];l.element.off(t,l.handler),a.splice(r,1)}i()}},function(e,t,n){var i=n(2).getCtx;i().register("AriaAttributesSetter").asCtor(r);function r(){var e=this;e.setAriaLabel=t,e.setAriaLabelledBy=n,e.setAriaDescribedBy=i,e.setAriaLevel=a,e.setAriaHidden=o,e.appendAriaDescribedBy=r;function t(e,t){s(e,"aria-label",t)}function n(e,t){s(e,"aria-labelledby",t)}function i(e,t){s(e,"aria-describedby",t)}function r(e,t){l(e,"aria-describedby",t)}function a(e,t){s(e,"aria-level",t)}function o(e,t){s(e,"aria-hidden",t)}function s(e,t,n){for(var i=0;i<e.length;i++)e[i].setAttribute(t,n)}function l(e,t,n){for(var i=0;e&&i<e.length;i++)e[i].setAttribute(t,[e[i].getAttribute(t),n].join(" ").trim())}}},function(e,t,n){var i=n(2).getCtx;i().register("DesignTemplatePlaceholdersRolesSetter").asCtor(r);function r(){var e=this;e.setDefaultRoleForActionPlaceholders=n;var t="button";function n(e){var n=wmjQuery("[wm-action-placeholder]:not([role])",e);n.each(function(){this.setAttribute("role",t)})}}},function(e,t,n){var i=n(2).getCtx;i().register("DialogTextSetter").asCtor(r).dependencies("AriaAttributesSetter, WmAccessibilityCommonUtils");function r(e,t){var n=this;n.setText=i;function i(t,n,i,o){var s=r(t,n,i);s&&e.setAriaLabelledBy(t,s);var l=a(t,n,o);l&&e.setAriaDescribedBy(t,l)}function r(e,n,i){var r,a,l=wmjQuery("[wm-title]",e);return 0!=l.length?a=s(l,n):(l=i&&wmjQuery("."+i,e),a=i+"-"+n),l&&0!=l.length&&t.checkIfElementNotEmpty(l)&&(r=o(l,a)),r}function a(e,t,n){for(var i=wmjQuery("[wm-placeholder]:not([wm-title])",e),r="",a=0;a<i.length;a++){var l=wmjQuery(i[a]),u=o(l,s(l,t));r+=u+" "}if(!r){var c=wmjQuery("."+n,e);r=o(c,n+"-"+t)}return r}function o(e,t){var n=e.attr("id");return n||(n=t,e.attr("id",n)),n}function s(e,t){var n=e.attr("wm-placeholder");return"placeholder-"+n+"-"+t}}},function(e,t,n){var i=n(2).getCtx;i().register("DialogTabbaleElementsPreparer").asCtor(r).dependencies("WmAccessibilityCommonUtils, wmjQuery");function r(e,t){var n=this;n.prepareTabbableElements=i;function i(t,n,i,o){a(n,t,i),l(t),u(t);var s=e.getFocusablesInsideElement(t,!0,o);return r(t.attr("id"),s),s}function r(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.id||(i.id=e+"-focusable-element-"+n)}}function a(n,i,r){var a=o(n,i,r);e.addTabIndex(t(a))}function o(e,n,i){var r=[];for(var a in e)if(e.hasOwnProperty(a)){var o=t(e[a],n);o.each(function(){var e=t(this);s(e,i)&&r.push(e[0])})}return r}function s(t,n){return"none"!=t.css("display")&&(!n||e.checkIfElementNotEmpty(t))}function l(n){var i=t("iframe",n);e.addTabIndexToIframes(i)}function u(n){var i=t("[wm-action-placeholder]",n);e.addTabIndex(i)}}},function(e,t,n){var i=n(2).getCtx;i().register("IdGetter").asCtor(r);function r(){var e=this;e.getIdByElement=t;function t(e,t){return n(e,t)}function n(e,t){var n=e.attr("class");if(!n)return;var i=n.split(" ");if(i)for(var r=0;r<i.length;r++)if(0==i[r].indexOf(t))return i[r].substring(t.length)}}},function(e,t,n){var i=n(2).getCtx;i().register("ElementsHidingManager").asCtor(r).dependencies("AriaAttributesSetter, EventsListener, wmjQuery");function r(e,t,n){var i=this;i.hideAllButPopup=o;var r=[],a=[];function o(i,r,o){0===a.length&&s(),a.push(r),e.setAriaHidden(n("body").children(),!0),e.setAriaHidden(i,!1),t.once(o,function(){l(r)})}function s(){var e=n("body").children("[aria-hidden]");r=n.map(e,function(e){var t=n(e);return{element:t,val:t.attr("aria-hidden")}})}function l(e){u(e),0===a.length&&(n("body").children().removeAttr("aria-hidden"),c())}function u(e){var t=n.inArray(e,a);t!==-1&&a.splice(t,1)}function c(){for(var t=0;t<r.length;t++){var n=r[t];e.setAriaHidden(n.element,n.val)}r=[]}}},function(e,t,n){var i=n(2).getCtx;i().register("FocusBehaviorSetter").asCtor(r).dependencies("wmjQuery, AccessibilityConsts, FeaturesManager, Consts, EventsListener");function r(e,t,n,i,r){var a=this;a.setFocusBehavior=v;var o,s,l="walkme-disable-default-focus",u="walkme-accessible-focus",c="walkme-outline-handled";function d(){o=n.isFeatureEnabled(t.FEATURES.AutoFocusRing),s="mousedown"+i.EVENTS.PropagationStoppedSuffix,o||e("body").on("keydown",f)}function f(n){n.which==t.KEY_CODES.TAB&&(o=!0,e("body").off("keydown",f).on("mousedown",m),r.on(s,m))}function m(t){o=!1,e("body").off("mousedown",m).on("keydown",f),r.off(s,m)}function v(t,n){var i;n=n||u;for(var r=0;r<t.length;r++){var a=e(t[r]);a.hasClass(c)||(a.addClass(c),a.focus(d).mousedown(s).blur(m))}function s(e){i="mousedown"===e.type}function d(){var t=f();e(this).addClass(t)}function f(){return o&&!i?n:l}function m(){i=!1,e(this).removeClass(n).removeClass(l)}}d()}},function(e,t,n){var i=n(2).getCtx;i().register("FocusLockChecker").asCtor(r).dependencies("StepDataGetter, ShoutOutsManager, SurveysManager, WmAccessibilityCommonUtils, IdGetter, AccessibilityConsts");function r(e,t,n,i,r,a){var o=this;o.isFocusLocked=l;var s=a.DEPLOYABLE_TYPES;function l(){return u()||d()||c()||f()||m()}function u(){return wmjQuery(".walkme-splash").length>0}function c(){var t=wmjQuery(".walkme-custom-balloon-outer-div");if(t.length>0){var n=e.getActiveStepData();if(n)return n.isFocusLockEnabled}return!1}function d(){return wmjQuery("#walkme-content-light-box").length>0}function f(){var e=wmjQuery(".walkme-survey-balloon");if(e.length>0)for(var t=0;t<e.length;t++){var o=wmjQuery(e[t]),l=r.getIdByElement(o,a.ELEMENT_TYPES_PREFIX.survey),u=n.getById(l),c=i.shouldDisableFocusLock(s.survey,l),d="1"==u.Settings.fadeBackground;return d||!c}return!1}function m(){var e=wmjQuery(".wm-outer-div.wm-shoutout");if(e.length>0)for(var n=0;n<e.length;n++){var o=wmjQuery(e[n]),l=r.getIdByElement(o,a.ELEMENT_TYPES_PREFIX.shoutout),u=t.getById(l),c=!!u.Settings.overlay,d=i.shouldDisableFocusLock(s.shoutout,l);return c||!d}return!1}}},function(e,t,n){var i=n(2).getCtx;i().register("FocusTracker").asCtor(r).dependencies("ElementsGetter, AccessibilityConsts, EventsListener, WmAccessibilityCommonUtils, wmjQuery, AccessibilityLogger,SiteConfigManager");function r(e,t,n,i,r,a,o){var s=this;s.addToStack=d,s.addToBottomOfStack=f,s.focus=m;var l=[],u=t.FOCUS_TRACKING_ELEMENTS_TYPES,c=[u.step,u.popup,u.survey];function d(e,t){var n=l[l.length-1];if(n&&r.inArray(n.originType,c)!==-1)if(t===u.step)l.pop();else if(t===u.popup||t===u.survey)return;a.write("Add focus tracking for originType "+t),l.push({element:e,originType:t})}function f(e,t,n){T()||(l[0].element=n),a.write("Add focus tracking at bottom of stack for originType "+t),l.unshift({element:e,originType:t})}function m(){for(a.write("Start search for element to focus to");!T();){var e=l.pop(),t=r(e.element);if(i.isElementOnScreen(t)){var o=t;if(!t.is(":focusable")){if(a.write("Element to focus to not focusable"),t.is("#walkme-player")){a.write("Element to focus to is widget player"),n.once("PlayerShow",function(){p(t,e.originType)});break}if(t.is("body")){if(a.write("Element to focus to is body"),!T()){a.write("Body is not the last element to focus to in stack");continue}o=v()}else{a.write("Check if element to focus to has focusable children");var s=t.find(":focusable");o=s.length?r(s[0]):v()}}p(o,e.originType);break}a.write("Element to focus to not on screen")}}function v(){a.write("Find first tabbable element to focus to");var t=o.get().Custom.defaultFirstElementForFocus;if(t)for(var n=0;n<t.length;n++){var i=r(t[n])[0];if(i)return i}var s=e.getAllTabbablesOnPageOrdered();return r(s[0])}function p(e,t){t===u.step&&(l=[]),a.write("Element to focus to found for originType "+t),e&&e.focus()}function T(){return 0===l.length}}},function(e,t,n){var i=n(2).getCtx;i().register("ElementsGetter").asCtor(r).dependencies("AccessibilityUtils, AccessibilityConsts, wmjQuery, SmartTipElementsGetter");function r(e,t,n,i){var r=this;r.findLastFocusedElement=l,r.getAllTabbablesOnPageOrdered=a;function a(){var t=o();return e.orderElementsByTabIndex(t)}function o(){return n(":tabbable, "+s()).filter(function(){return"none"!=n(this).css("display")})}function s(){return"[id^="+t.DUMMY_ELEMENT_ID_PREFIX+"]"}function l(){var e=n(document.activeElement);return e=e.length&&e[0].shadowRoot?n(e[0].shadowRoot.activeElement):e,i.findLastFocusedElement(e)||e}}},function(e,t,n){var i=n(2).getCtx;i().register("SmartTipElementsGetter").asCtor(r).dependencies("AccessibilityConsts, wmjQuery, IdGetter, SmartTipToElementMapper");function r(e,t,n,i){var r=this;r.findLastFocusedElement=o;var a=e.ELEMENT_TYPES_PREFIX;function o(r){var o=r.parents(e.ELEMENTS_SELECTORS.SMART_TIP.tooltip);if(0!==o.length){var s=n.getIdByElement(o,a.smartTipTooltip),l=t("."+a.smartTipIcon+s);return l.length?l:i.getElementBySmartTipId(s)}}}},function(e,t,n){var i=n(2).getCtx;i().register("IframeTabOrderWrapper").asCtor(r).dependencies("DomManager, FeaturesManager");function r(e,t){var n=this;n.wrapIframes=i;function i(e){if(t.isFeatureEnabled("ignoreIframeWrap"))return;for(var n=e||wmjQuery("iframe"),i=0;i<n.length;i++){var a=wmjQuery(n[i]);if("walkme-hidden-iframe"===a.attr("id"))return;var o=r("before"),s=r("after");o.insertBefore(a),s.insertAfter(a)}}function r(t){return e.parseElementAsJquery('<div class="walkme-to-destroy walkme-iframe-wrapper-'+t+'" tabindex="0" style="width: 1px;position: absolute;left: -10000px;" aria-label="'+t+' iframe"></div>')}}},function(e,t,n){var i=n(2).getCtx;i().register("AccessibilityLogger").asCtor(r).dependencies("PrelibLogger");function r(e){var t=this;t.write=n;function n(t){e.write("[Accessibility plugin] "+t)}}},function(e,t,n){var i=n(2).getCtx;i().register("SmartTipExistenceChecker").asCtor(r).dependencies("BusinessSolutionsManager");function r(e){var t=this;t.doSmartTipsExist=n;function n(){var t=e.getDeployablesDict();for(var n in t)if(t[n].SmartTips&&t[n].SmartTips.length>0)return!0;return!1}}},function(e,t,n){var i=n(2).getCtx;i().register("StepDataGetter").asCtor(r).dependencies("FlowsContainer, FlowStack, WmAccessibilityCommonUtils, Lib, Consts, AccessibilityConsts");function r(e,t,n,r,a,o){var s=this;s.getActiveStepData=u;var l=o.DEPLOYABLE_TYPES;function u(){return c()?f():d()}function c(){return void 0!=r.getCurrentTutorial()&&i().get("CurrentWalkthruData").state!=a.WALKTHRU_STATE.NOT_RUNNING}function d(){var n=t.peek();if(!n)return;var i=e.getNodeById(n.flowId,n.stageId),r=i&&i.UIElements&&i.UIElements[0];if(!r)return;var a=m(r),o="Popup"===r.Type,s=r.AccessibilityConfigs&&r.AccessibilityConfigs.length>0?r.AccessibilityConfigs[0]:{},u={deployableType:l.SWT,spotlight:a,isPopup:o,id:r.Id,isFocusGrabEnabled:0!=s.IsFocusGrabEnabled,ariaLabel:s.AriaLabel,identifySettings:s.IdentifySettings};return u.isFocusLockEnabled=v(u,0!=s.IsFocusLockEnabled),u}function f(){var e=i().get("CurrentWalkthruData").getCurrentStep();if(e){var t=m(e),n=e.AccessibilityConfigs&&e.AccessibilityConfigs.length>0?e.AccessibilityConfigs[0]:{},r={deployableType:l.WT,spotlight:t,isPopup:i().get("StepUtils").isPopupStep(e),id:e.Id,isFocusGrabEnabled:0!=n.IsFocusGrabEnabled,ariaLabel:n.AriaLabel,identifySettings:n.IdentifySettings};return r.isFocusLockEnabled=v(r,0!=n.IsFocusLockEnabled),r}}function m(e){return"1"==e.Settings.fadeBackground||1==e.Settings.fadeBackground||"True"==e.Settings.fadeBackground||"1"==e.Settings.ioEnabled}function v(e,t){var i=n.shouldDisableFocusLock(e.deployableType,e.id);return e.spotlight||e.isFocusGrabEnabled&&t&&!i}}},function(e,t,n){var i=n(2).getCtx;i().register("SmartTipIdentifier").asCtor(r);function r(){var e=this;e.isSmartTipIconElement=t;function t(e){return e.hasClass("walkme-custom-icon-outer-div")&&!e.hasClass("walkme-custom-launcher-outer-div")}}},function(e,t,n){var i=n(2).getCtx;i().register("AllowedTabbableElementFinder").asCtor(r).dependencies("wmjQuery, AccessibilityConsts");function r(e,t){var n=this;n.findNext=i;function i(n,i){for(var r=n+1;r<i.length;r++){var a=e(i[r]);if(0===a.parents(t.ELEMENTS_SELECTORS.SMART_TIP.tooltip).length)return a}}}},function(e,t,n){var i=n(2).getCtx;i().register("DummyLastElementAdder").asCtor(r).dependencies("wmjQuery, WmAccessibilityCommonUtils, Consts, EventHandlerBindingManager, ElementLastKeeper, DefaultTextGetter, AccessibilityConsts");function r(e,t,n,i,r,a,o){var s=this;s.add=l,s.reAdd=u;function l(){var s=e('<div id="walkme-dummy-last-element" class="walkme-to-destroy" tabindex="0">');e("body").append(s),s.focus(function(e,n){(!n||n&&!n.isAlreadyFocused)&&t.announce(a.getValue(o.DEFAULT_TEXT_KEY.EndOfPage))}),r.addElement(s,!0),i.bind(n.EVENTS.WidgetPlayer.PlayerBuilt,function(){u()})}function u(){e("#walkme-dummy-last-element").appendTo(e("body"))}}},function(e,t,n){var i=n(2).getCtx;i().register("TextsTranslator").asCtor(r).dependencies("AccessibilityConsts, LanguageManager");function r(e,t){var n=this;n.init=r,n.translate=a;var i;function r(e){i=e}function a(n){var r=t.getCurrentLanguage(),a=i[r]||{};return a[n]||e.TEXTS[n]}}},function(e,t,n){var i=n(2).getCtx;i().register("DefaultTextGetter").asCtor(r).dependencies("AccessibilityGeneralManager, AccessibilityConsts, TextsTranslator");function r(e,t,n){var i=this;i.getValue=r;function r(n){return e.getValue(n)||a(n)||t.TEXTS[n]}function a(e){var i=t.SETTINGS_TRANSLATIONS_TEXTS_KEYS[e];return i&&n.translate(i)}}},function(e,t,n){var i=n(2).getCtx,r=n(54);function a(){var e=this;e.run=s;var t,n,a;function o(){t=i().get("EventsListener"),n=i().get("PrelibLogger"),a=i().get("EventHandlerBindingManager")}function s(){return r.overrideAddTabIndexIfNeeded(),t.once("BeforeWalkmeReady",l),t.once("removeWalkMe",a.unbindAll),null}function l(){i().get("WmAccessibilityInitializer").init()}o()}t.Accessibility=a},function(e,t,n){var i=n(2).getCtx;function r(e){return 1===e.length&&"a"===e.first().prop("tagName").toLowerCase()}function a(e,t){t=l(t,0),e.attr("tabIndex",t),o(e)}function o(e){if(e.is("textarea"))return;e.off("keydown",s),e.on("keydown",s)}function s(e){var t=wmjQuery(this);13!=e.which||e.shiftKey||((r(t)?t[0]:t).click(),e.preventDefault(),e.stopPropagation())}function l(e,t){return"undefined"!=typeof e&&null!=e?e:t}function u(e,t,n){a(e,t),i().get("FocusBehaviorSetter").setFocusBehavior(e,n)}function c(){var e=i().get("FeaturesManager");return e.isFeatureEnabled("jawsAccessibility")||e.isFeatureEnabled("accessibility")}function d(){i().decorate("CommonUtils",function(e){return c()||(e.addTabIndex=u),e})}e.exports={overrideAddTabIndexIfNeeded:d}}])});

"undefined"!=typeof _walkmeInternals&&_walkmeInternals.wmloader&&_walkmeInternals.wmloader.define("wm-plugin-visions-recorder@2.0.12@prelib",{name:"wm-plugin-visions-recorder",version:"2.0.12",toolbelt:"1.2.9",packageDate:"2022-01-14T16:20:55.759Z",entry:"prelib"},function(t){return function(t){var e={};function n(r){if(e[r])return e[r].exports;var i=e[r]={exports:{},id:r,loaded:!1};return t[r].call(i.exports,i,i.exports,n),i.loaded=!0,i.exports}return n.m=t,n.c=e,n.p="",n(0)}([function(t,e,n){t.exports=n(1)},function(t,e,n){var r=n(2).createPluginEntry;t.exports=r(function(t){var e=n(3).VisionsPlugin;t(new e)})},function(t,e){var n,r={createPluginEntry:i,getCtx:o};function i(t){return function(e){n=e(),t(a)}}function o(){return n.ctx}function a(t){n.plugin(t)}e.__esModule=!0,e["default"]=r,e.createPluginEntry=r.createPluginEntry,e.getCtx=r.getCtx},function(t,e,n){var r=n(2).getCtx,i=n(4).log,o=n(5),a=n(6),s=n(7);n(8);var u=["MOUSE_CLICK","MOUSE_OVER","MOUSE_POSITION","INPUT","SCROLL","SELECTION"];function c(){var t=r();this._jacoInitializedPromise=t.get("PromiseManager").defer(),t.register("Jaco").asInstance(I(this._jacoInitializedPromise))}var d=[],f=!1,h=!1;c.prototype.run=function(){var t=r();if(S())return void i("Visions will be loaded only in publish mode (not in editor and not in preview)");if(window.JacoRecorder.state&&window.JacoRecorder.state.recordingDisabled)return void i("recording is disabled");u=u.map(function(t){return window.JacoRecorder.ACTIONS[t]});var e=b(),n=this._jacoInitializedPromise;e?(_(n),t.get("EventsListener").on("VisionsRecorder:RecordingStarted",function(){h=!0}),t.get("EventsListener").on("NewSession",function(){JacoRecorder.state.isRecording&&t.get("SessionManager").getCurrentSession()===JacoRecorder.state.config.sessionId||(h=!1)}),t.get("EventsListener").once("StorageLoaded",function(){if(!v(t))return void i("no audit is enabled");l(t,e,n),t.get("EventsListener").once("WalkMeReady",function(){JacoRecorder.state.onEventHandled=function(r){if(!JacoRecorder.state.config)return;if(t.get("SessionManager").getCurrentSession()===JacoRecorder.state.config.sessionId||f||u.indexOf(r.action)===-1)return;JacoRecorder.state.config.sessionId=t.get("SessionManager").getCurrentSession(),d=JacoRecorder.state.eventsQueue.splice(JacoRecorder.state.eventsQueue.length-1,1),JacoRecorder.state.eventsQueue.length=0,JacoRecorder.__state.initCalled=!1,JacoRecorder.state.isInitialized=!1,l(t,e,n,!0)}})})):(n.reject(new Error("Visions API key is not available")),i("Visions API key is not available"))};function l(t,e,n,r){f=!0,h=!1;var i=p(t);g(e,i,function(t,e){window._testhook&&window._testhook("InitDone",t,e),f=!1,e||(t=new Error("Project is throttled")),D(t,e),r&&(d.push.apply(d,JacoRecorder.state.eventsQueue),JacoRecorder.state.eventsQueue.length=0,JacoRecorder.__state.client.newPageEvent(),JacoRecorder.state.eventsQueue.push.apply(JacoRecorder.state.eventsQueue,d),d=[],r=!1),t?n.reject(t):n.resolve(e)})}function p(t){var e=o(t.get("ClientStorageManager")),n=y(),r=m(),i=!a(window)&&s(window),u=t.get("SessionManager").getCurrentSession();return{sessionId:u,identityStorage:e,crossOriginIFrame:i,rapiUrl:n,environmentSettings:r}}function v(t){var e=t.get("AuditingEnabledIndicator");return e.isEnabled()}function _(t){var e=function(e,n){i("wm event received",n),n.handled=!0,t.promise.then(function(){i("wm event send",n),O(n)})};wmjQuery(window._walkmeInternals).bind("AnalyticsEventSent",e),wmjQuery(window._walkmeInternals).bind("removeWalkMe",function(t,n){i("remove walkMe raised"),wmjQuery(window._walkmeInternals).unbind("AnalyticsEventSent",e)})}function g(t,e,n){i("init:"+t),window.JacoRecorder.init(t,e,n),i("post init")}function b(){var t,e,n;try{return t=E("userGuids")[0],e=w("Environment"),t+"__"+e}catch(r){n=r}if(n||!t||void 0===e)return void window.JacoRecorder.logOurError(new Error("Failed to get guid and env for user"),{session:window.JacoRecorder.state.session,error:n,wmGuid:t,wmEnvId:e})}function y(){var t=w("RapiServer"),e=t.replace("//rapi.","//ec-playback.");return e}function m(){return r().get("DataCollectionSettings").get()}function w(t){var e=wmSnippet.getSettingsFile();if(e)return e[t];return}function E(t){var e=wmSnippet.getServerSettings();if(e)return e[t];return}function O(t){i("sendToJaco: time = "+t.eventData.time),window.JacoRecorder.trackEvent(t.eventName||"walkmeEvent",t.eventData),i("post JacoRecorder.trackEvent")}function I(t){return{get:function(){var t=r();return t.get("PromiseManager").resolve(window.JacoRecorder)},getInitialized:function(){return t.promise.then(function(){return window.JacoRecorder})},getSessionInfo:function(){return t.promise},isRecording:function(){return h&&JacoRecorder.state.isRecording}}}function S(){return void 0!=window.wmPreviewSnippet||void 0==window.wmSnippet}function D(t,e){if(window.onWalkMeInsightsAPIReady&&window.onWalkMeInsightsAPIReady instanceof Function)try{window.onWalkMeInsightsAPIReady(t,e)}catch(n){i("Error from onWalkMeInsightsAPIReady",n)}}e.VisionsPlugin=c},function(t,e,n){var r=n(2).getCtx,i=r().get("PrelibLogger");function o(){var t=Array().slice.call(arguments);t.unshift("[ VisionsRecorder ]"),i.write.apply(i,t)}e.log=o},function(t,e){var n=43200,r="wm-v-uid",i="wm-v-pid";function o(t){return{getUid:function(){return t.getData(r)},getProvidedId:function(){return t.getData(i)},setUid:function(e){return t.saveData(r,e,n),!0},setProvidedId:function(e){return t.saveData(i,e,n)},removeUid:function(){return t.removeData(r)},removeProvidedId:function(){return t.removeData(i)}}}t.exports=o},function(t,e){function n(t){return!(!t.visionsRecorderConfig||!t.visionsRecorderConfig.isHighestRecordingIframe)}t.exports=n},function(t,e){function n(t){var e=t!==t.parent;if(e){var n=null;try{n=t.parent.document.body.innerHTML}catch(r){}return null===n}return!1}t.exports=n},function(t,e,n){var r,r;(function(t){var e=!1;!function(){function t(e,n,i){function o(s,u){if(!n[s]){if(!e[s]){var c="function"==typeof r&&r;if(!u&&c)return r(s,!0);if(a)return a(s,!0);var d=new Error("Cannot find module '"+s+"'");throw d.code="MODULE_NOT_FOUND",d}var f=n[s]={exports:{}};e[s][0].call(f.exports,function(t){var n=e[s][1][t];return o(n||t)},f,f.exports,t,e,n,i)}return n[s].exports}for(var a="function"==typeof r&&r,s=0;s<i.length;s++)o(i[s]);return o}return t}()({1:[function(t,e,n){e.exports={recording_mode:"/api/4.0/recording/recording_mode",init:"/session/init",record:"/event/playback",recordJSON:"/api/4.0/r/json",recordOurError:"/api/4.0/recording/our_error",logOurError:"/api/4.0/recording/log_our_error"}},{}],2:[function(t,e,n){e.exports={development:"//backoffice.docker.localhost",test:"//backoffice.docker.localhost",staging:"//bo-staging.getjaco.com",production:"//bo.getjaco.com"}},{}],3:[function(t,e,n){e.exports={development:"http://recorder-api.docker.localhost",test:"http://localhost:3011",staging:"https://rapi-staging.getjaco.com",production:"https://rapi.getjaco.com"}},{}],4:[function(t,e,n){e.exports={development:"http://recorder-client.docker.localhost",test:"http://recorder-client.docker.localhost",staging:"https://recorder-assets-staging.getjaco.com",production:"https://recorder-assets.getjaco.com"}},{}],5:[function(t,e,n){var r=r||{};r.DOMNodeType={ELEMENT_NODE:1,TEXT_NODE:3,COMMENT_NODE:8,DOCUMENT_NODE:9,DOCUMENT_TYPE_NODE:10,DOCUMENT_FRAGMENT_NODE:11,STYLE_NODE:1e3,SVG_NODE:1001,IMG_NODE:1003,LINK_NODE:1004,VIDEO_NODE:1005,SOURCE_NODE:1006,IFRAME_NODE:1007,INPUT_NODE:1008,FORM_NODE:1009},r.KeyValue=function(){this.bb=null,this.bb_pos=0},r.KeyValue.prototype.__init=function(t,e){return this.bb_pos=t,this.bb=e,this},r.KeyValue.getRootAsKeyValue=function(t,e){return(e||new r.KeyValue).__init(t.readInt32(t.position())+t.position(),t)},r.KeyValue.prototype.key=function(t){var e=this.bb.__offset(this.bb_pos,4);return e?this.bb.__string(this.bb_pos+e,t):null},r.KeyValue.prototype.value=function(t){var e=this.bb.__offset(this.bb_pos,6);return e?this.bb.__string(this.bb_pos+e,t):null},r.KeyValue.startKeyValue=function(t){t.startObject(2)},r.KeyValue.addKey=function(t,e){t.addFieldOffset(0,e,0)},r.KeyValue.addValue=function(t,e){t.addFieldOffset(1,e,0)},r.KeyValue.endKeyValue=function(t){var e=t.endObject();return t.requiredField(e,4),t.requiredField(e,6),e},r.Vec3=function(){this.bb=null,this.bb_pos=0},r.Vec3.prototype.__init=function(t,e){return this.bb_pos=t,this.bb=e,this},r.Vec3.prototype.x=function(){return this.bb.readFloat32(this.bb_pos)},r.Vec3.prototype.y=function(){return this.bb.readFloat32(this.bb_pos+4)},r.Vec3.prototype.z=function(){return this.bb.readFloat32(this.bb_pos+8)},r.Vec3.createVec3=function(t,e,n,r){return t.prep(4,12),t.writeFloat32(r),t.writeFloat32(n),t.writeFloat32(e),t.offset()},r.DOMNode=function(){this.bb=null,this.bb_pos=0},r.DOMNode.prototype.__init=function(t,e){return this.bb_pos=t,this.bb=e,this},r.DOMNode.getRootAsDOMNode=function(t,e){return(e||new r.DOMNode).__init(t.readInt32(t.position())+t.position(),t)},r.DOMNode.prototype.data=function(t){var e=this.bb.__offset(this.bb_pos,4);return e?(t||new r.DOMNodeData).__init(this.bb.__indirect(this.bb_pos+e),this.bb):null},r.DOMNode.prototype.children=function(t,e){var n=this.bb.__offset(this.bb_pos,6);return n?(e||new r.DOMNode).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+n)+4*t),this.bb):null},r.DOMNode.prototype.childrenLength=function(){var t=this.bb.__offset(this.bb_pos,6);return t?this.bb.__vector_len(this.bb_pos+t):0},r.DOMNode.startDOMNode=function(t){t.startObject(2)},r.DOMNode.addData=function(t,e){t.addFieldOffset(0,e,0)},r.DOMNode.addChildren=function(t,e){t.addFieldOffset(1,e,0)},r.DOMNode.createChildrenVector=function(t,e){t.startVector(4,e.length,4);for(var n=e.length-1;n>=0;n--)t.addOffset(e[n]);return t.endVector()},r.DOMNode.startChildrenVector=function(t,e){t.startVector(4,e,4)},r.DOMNode.endDOMNode=function(t){var e=t.endObject();return e},r.DOMNode.finishDOMNodeBuffer=function(t,e){t.finish(e)},r.DOMNodeData=function(){this.bb=null,this.bb_pos=0},r.DOMNodeData.prototype.__init=function(t,e){return this.bb_pos=t,this.bb=e,this},r.DOMNodeData.getRootAsDOMNodeData=function(t,e){return(e||new r.DOMNodeData).__init(t.readInt32(t.position())+t.position(),t)},r.DOMNodeData.prototype.nodeId=function(){var t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt32(this.bb_pos+t):0},r.DOMNodeData.prototype.attributes=function(t,e){var n=this.bb.__offset(this.bb_pos,6);return n?(e||new r.KeyValue).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+n)+4*t),this.bb):null},r.DOMNodeData.prototype.attributesLength=function(){var t=this.bb.__offset(this.bb_pos,6);return t?this.bb.__vector_len(this.bb_pos+t):0},r.DOMNodeData.prototype.style=function(t,e){var n=this.bb.__offset(this.bb_pos,8);return n?(e||new r.KeyValue).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+n)+4*t),this.bb):null},r.DOMNodeData.prototype.styleLength=function(){var t=this.bb.__offset(this.bb_pos,8);return t?this.bb.__vector_len(this.bb_pos+t):0},r.DOMNodeData.prototype.tagName=function(t){var e=this.bb.__offset(this.bb_pos,10);return e?this.bb.__string(this.bb_pos+e,t):null},r.DOMNodeData.prototype.isCensored=function(){var t=this.bb.__offset(this.bb_pos,12);return!!t&&!!this.bb.readInt8(this.bb_pos+t)},r.DOMNodeData.prototype.ns=function(t){var e=this.bb.__offset(this.bb_pos,14);return e?this.bb.__string(this.bb_pos+e,t):null},r.DOMNodeData.prototype.extraData=function(t,e){var n=this.bb.__offset(this.bb_pos,16);return n?this.bb.__string(this.bb.__vector(this.bb_pos+n)+4*t,e):null},r.DOMNodeData.prototype.extraDataLength=function(){var t=this.bb.__offset(this.bb_pos,16);return t?this.bb.__vector_len(this.bb_pos+t):0},r.DOMNodeData.prototype.scrollPosition=function(t){var e=this.bb.__offset(this.bb_pos,18);return e?(t||new r.Vec3).__init(this.bb_pos+e,this.bb):null},r.DOMNodeData.prototype.nodeType=function(){var t=this.bb.__offset(this.bb_pos,20);return t?this.bb.readInt16(this.bb_pos+t):r.DOMNodeType.ELEMENT_NODE},r.DOMNodeData.prototype.parentNodeId=function(){var t=this.bb.__offset(this.bb_pos,22);return t?this.bb.readInt32(this.bb_pos+t):0},r.DOMNodeData.prototype.previousSiblingId=function(){var t=this.bb.__offset(this.bb_pos,24);return t?this.bb.readInt32(this.bb_pos+t):0},r.DOMNodeData.prototype.shadowRoot=function(t){var e=this.bb.__offset(this.bb_pos,26);return e?(t||new r.DOMNode).__init(this.bb.__indirect(this.bb_pos+e),this.bb):null},r.DOMNodeData.startDOMNodeData=function(t){t.startObject(12)},r.DOMNodeData.addNodeId=function(t,e){t.addFieldInt32(0,e,0)},r.DOMNodeData.addAttributes=function(t,e){t.addFieldOffset(1,e,0)},r.DOMNodeData.createAttributesVector=function(t,e){t.startVector(4,e.length,4);for(var n=e.length-1;n>=0;n--)t.addOffset(e[n]);return t.endVector()},r.DOMNodeData.startAttributesVector=function(t,e){t.startVector(4,e,4)},r.DOMNodeData.addStyle=function(t,e){t.addFieldOffset(2,e,0)},r.DOMNodeData.createStyleVector=function(t,e){t.startVector(4,e.length,4);for(var n=e.length-1;n>=0;n--)t.addOffset(e[n]);return t.endVector()},r.DOMNodeData.startStyleVector=function(t,e){t.startVector(4,e,4)},r.DOMNodeData.addTagName=function(t,e){t.addFieldOffset(3,e,0)},r.DOMNodeData.addIsCensored=function(t,e){t.addFieldInt8(4,+e,0)},r.DOMNodeData.addNs=function(t,e){t.addFieldOffset(5,e,0)},r.DOMNodeData.addExtraData=function(t,e){t.addFieldOffset(6,e,0)},r.DOMNodeData.createExtraDataVector=function(t,e){t.startVector(4,e.length,4);for(var n=e.length-1;n>=0;n--)t.addOffset(e[n]);return t.endVector()},r.DOMNodeData.startExtraDataVector=function(t,e){t.startVector(4,e,4)},r.DOMNodeData.addScrollPosition=function(t,e){t.addFieldStruct(7,e,0)},r.DOMNodeData.addNodeType=function(t,e){t.addFieldInt16(8,e,r.DOMNodeType.ELEMENT_NODE)},r.DOMNodeData.addParentNodeId=function(t,e){t.addFieldInt32(9,e,0)},r.DOMNodeData.addPreviousSiblingId=function(t,e){t.addFieldInt32(10,e,0)},r.DOMNodeData.addShadowRoot=function(t,e){t.addFieldOffset(11,e,0)},r.DOMNodeData.endDOMNodeData=function(t){var e=t.endObject();return e},n.Serializer=r},{}],6:[function(t,e,n){var r=r||{};r.Action={CSS_RULE_SNAPSHOT:0,FOCUS:1,FOCUS_IN:2,FOCUS_OUT:3,MOUSE_CLICK:4,MOUSE_OVER:5,MOUSE_POSITION:6,MUTATION_EVENT:7,VIDEO_PAUSE:8,VIDEO_PLAY:9,VIDEO_TIME_UPDATE:10,VIDEO_VOLUME_CHANGE:11,INPUT:12,INPUT_PROGRAMMATIC_CHANGE:13,SCROLL:14,SELECTION:15,URL_CHANGED:16,VISIBILITY:17,WINDOW_CLOSE:18,VIEWPORT_CHANGED:19,FINISHED_SNAPSHOT:20,DOM_SNAPSHOT:21,PAGE_SNAPSHOT_EVENTS:22,CANVAS_UPDATE:23,ERROR:24,ERROR_OUR:25,IDENTIFY:26,SET_USER_INFO:27,TOUCH_CANCEL:28,TOUCH_END:29,TOUCH_MOVE:30,TOUCH_START:31,PRESS:32,DOUBLE_TAP:33,SWIPE_RIGHT:34,SWIPE_LEFT:35,SWIPE_DOWN:36,SWIPE_UP:37,IDLE_TIME:38,CUSTOM_EVENT:39},r.DataType={NONE:0,StringList:1,Serializer_DOMNode:2,MutationData:3},r.StringList=function(){this.bb=null,this.bb_pos=0},r.StringList.prototype.__init=function(t,e){return this.bb_pos=t,this.bb=e,this},r.StringList.getRootAsStringList=function(t,e){return(e||new r.StringList).__init(t.readInt32(t.position())+t.position(),t)},r.StringList.prototype.values=function(t,e){var n=this.bb.__offset(this.bb_pos,4);return n?this.bb.__string(this.bb.__vector(this.bb_pos+n)+4*t,e):null},r.StringList.prototype.valuesLength=function(){var t=this.bb.__offset(this.bb_pos,4);return t?this.bb.__vector_len(this.bb_pos+t):0},r.StringList.startStringList=function(t){t.startObject(1)},r.StringList.addValues=function(t,e){t.addFieldOffset(0,e,0)},r.StringList.createValuesVector=function(t,e){t.startVector(4,e.length,4);for(var n=e.length-1;n>=0;n--)t.addOffset(e[n]);return t.endVector()},r.StringList.startValuesVector=function(t,e){t.startVector(4,e,4)},r.StringList.endStringList=function(t){var e=t.endObject();return e},r.MutationData=function(){this.bb=null,this.bb_pos=0},r.MutationData.prototype.__init=function(t,e){return this.bb_pos=t,this.bb=e,this},r.MutationData.getRootAsMutationData=function(t,e){return(e||new r.MutationData).__init(t.readInt32(t.position())+t.position(),t)},r.MutationData.prototype.removed=function(t){var e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt32(this.bb.__vector(this.bb_pos+e)+4*t):0},r.MutationData.prototype.removedLength=function(){var t=this.bb.__offset(this.bb_pos,4);return t?this.bb.__vector_len(this.bb_pos+t):0},r.MutationData.prototype.removedArray=function(){var t=this.bb.__offset(this.bb_pos,4);return t?new Int32Array(this.bb.bytes().buffer,this.bb.bytes().byteOffset+this.bb.__vector(this.bb_pos+t),this.bb.__vector_len(this.bb_pos+t)):null},r.MutationData.prototype.moved=function(t,e){var n=this.bb.__offset(this.bb_pos,6);return n?(e||new r.DOMNode).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+n)+4*t),this.bb):null},r.MutationData.prototype.movedLength=function(){var t=this.bb.__offset(this.bb_pos,6);return t?this.bb.__vector_len(this.bb_pos+t):0},r.MutationData.prototype.attributes=function(t,e){var n=this.bb.__offset(this.bb_pos,8);return n?(e||new r.StringList).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+n)+4*t),this.bb):null},r.MutationData.prototype.attributesLength=function(){var t=this.bb.__offset(this.bb_pos,8);return t?this.bb.__vector_len(this.bb_pos+t):0},r.MutationData.prototype.text=function(t,e){var n=this.bb.__offset(this.bb_pos,10);return n?(e||new r.StringList).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+n)+4*t),this.bb):null},r.MutationData.prototype.textLength=function(){var t=this.bb.__offset(this.bb_pos,10);return t?this.bb.__vector_len(this.bb_pos+t):0},r.MutationData.startMutationData=function(t){t.startObject(4)},r.MutationData.addRemoved=function(t,e){t.addFieldOffset(0,e,0)},r.MutationData.createRemovedVector=function(t,e){t.startVector(4,e.length,4);for(var n=e.length-1;n>=0;n--)t.addInt32(e[n]);return t.endVector()},r.MutationData.startRemovedVector=function(t,e){t.startVector(4,e,4)},r.MutationData.addMoved=function(t,e){t.addFieldOffset(1,e,0)},r.MutationData.createMovedVector=function(t,e){t.startVector(4,e.length,4);for(var n=e.length-1;n>=0;n--)t.addOffset(e[n]);return t.endVector()},r.MutationData.startMovedVector=function(t,e){t.startVector(4,e,4)},r.MutationData.addAttributes=function(t,e){t.addFieldOffset(2,e,0)},r.MutationData.createAttributesVector=function(t,e){t.startVector(4,e.length,4);for(var n=e.length-1;n>=0;n--)t.addOffset(e[n]);return t.endVector()},r.MutationData.startAttributesVector=function(t,e){t.startVector(4,e,4)},r.MutationData.addText=function(t,e){t.addFieldOffset(3,e,0)},r.MutationData.createTextVector=function(t,e){t.startVector(4,e.length,4);for(var n=e.length-1;n>=0;n--)t.addOffset(e[n]);return t.endVector()},r.MutationData.startTextVector=function(t,e){t.startVector(4,e,4)},r.MutationData.endMutationData=function(t){var e=t.endObject();return e},r.Event=function(){this.bb=null,this.bb_pos=0},r.Event.prototype.__init=function(t,e){return this.bb_pos=t,this.bb=e,this},r.Event.getRootAsEvent=function(t,e){return(e||new r.Event).__init(t.readInt32(t.position())+t.position(),t)},r.Event.prototype.action=function(){var t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt16(this.bb_pos+t):r.Action.CSS_RULE_SNAPSHOT},r.Event.prototype.dataType=function(){var t=this.bb.__offset(this.bb_pos,6);return t?this.bb.readUint8(this.bb_pos+t):r.DataType.NONE},r.Event.prototype.data=function(t){var e=this.bb.__offset(this.bb_pos,8);return e?this.bb.__union(t,this.bb_pos+e):null},r.Event.prototype.shouldCensor=function(){var t=this.bb.__offset(this.bb_pos,10);return!!t&&!!this.bb.readInt8(this.bb_pos+t)},r.Event.prototype.windowId=function(t){var e=this.bb.__offset(this.bb_pos,12);return e?this.bb.__string(this.bb_pos+e,t):null},r.Event.prototype.sequence=function(){var t=this.bb.__offset(this.bb_pos,14);return t?this.bb.readInt64(this.bb_pos+t):this.bb.createLong(0,0)},r.Event.prototype.sequenceIndex=function(){var t=this.bb.__offset(this.bb_pos,16);return t?this.bb.readInt32(this.bb_pos+t):0},r.Event.prototype.parentWindowId=function(t){var e=this.bb.__offset(this.bb_pos,18);return e?this.bb.__string(this.bb_pos+e,t):null},r.Event.startEvent=function(t){t.startObject(8)},r.Event.addAction=function(t,e){t.addFieldInt16(0,e,r.Action.CSS_RULE_SNAPSHOT)},r.Event.addDataType=function(t,e){t.addFieldInt8(1,e,r.DataType.NONE)},r.Event.addData=function(t,e){t.addFieldOffset(2,e,0)},r.Event.addShouldCensor=function(t,e){t.addFieldInt8(3,+e,0)},r.Event.addWindowId=function(t,e){t.addFieldOffset(4,e,0)},r.Event.addSequence=function(t,e){t.addFieldInt64(5,e,t.createLong(0,0))},r.Event.addSequenceIndex=function(t,e){t.addFieldInt32(6,e,0)},r.Event.addParentWindowId=function(t,e){t.addFieldOffset(7,e,0)},r.Event.endEvent=function(t){var e=t.endObject();return t.requiredField(e,8),t.requiredField(e,12),e},r.Event.finishEventBuffer=function(t,e){t.finish(e)},n.Serializer=r},{}],7:[function(t,e,n){var r=t(5).Serializer,i=t(20),o={};o.build=function(t,e){var n=c(t,e),i=r.DOMNode.createChildrenVector(t,n),o=u(t,e);return r.DOMNode.startDOMNode(t),r.DOMNode.addData(t,o),r.DOMNode.addChildren(t,i),r.DOMNode.endDOMNode(t)};function a(t,e){return e.reduce(function(e,n){var i=t.createString(n[0]),o=t.createString(n[1]);return r.KeyValue.startKeyValue(t),r.KeyValue.addKey(t,i),r.KeyValue.addValue(t,o),e.push(r.KeyValue.endKeyValue(t)),e},[])}function s(t,e){return e.reduce(function(e,n){var r;return r=n&&n.constructor===Array||null===n?JSON.stringify(n):n.toString(),e.push(t.createString(r)),e},[])}function u(t,e){var n,u,c=e[2],d=t.createString(c[2]||""),f=t.createString(c[3]||"");c[6]?(n=parseInt(c[6][0],10),u=parseInt(c[6][1],10)):(n=0,u=0);var h,l=c[0],p=l.filter(function(t){return i(t[0])}),v=a(t,p),_=r.DOMNodeData.createAttributesVector(t,v),g=a(t,c[1]),b=r.DOMNodeData.createStyleVector(t,g),y=s(t,c[5]),m=r.DOMNodeData.createExtraDataVector(t,y);return e[8]&&(h=o.build(t,e[8])),r.DOMNodeData.startDOMNodeData(t),r.DOMNodeData.addNodeId(t,e[0]),r.DOMNodeData.addNodeType(t,e[1]),r.DOMNodeData.addAttributes(t,_),r.DOMNodeData.addIsCensored(t,e[3]),r.DOMNodeData.addStyle(t,b),r.DOMNodeData.addTagName(t,d),r.DOMNodeData.addNs(t,f),r.DOMNodeData.addExtraData(t,m),r.DOMNodeData.addScrollPosition(t,r.Vec3.createVec3(t,n||0,u||0,0)),r.DOMNodeData.addPreviousSiblingId(t,e[6]),r.DOMNodeData.addParentNodeId(t,e[7]),h&&r.DOMNodeData.addShadowRoot(t,h),r.DOMNodeData.endDOMNodeData(t)}function c(t,e){var n=e[5];return n.reduce(function(e,n){return e.push(o.build(t,n)),e},[])}e.exports=o},{20:20,5:5}],8:[function(t,e,n){var r=t(19).flatbuffers,i=t(6).Serializer,o=t(14),a=t(15),s={};s.getBuilder=function(){return new r.Builder(0)},s.build=function(t,e,n){return o(u(t),t,e,n)},s.buildFromEventAttributes=function(t){var e={windowId:t.window_id,parentWindowId:t.parent_window_id,sequence:t.sequence,sequenceIndex:t.sequence_index,action:t.action,data:t.data,dataType:a(t.action)};return s.build(e)},s.fromBuffer=function(t){var e=new r.ByteBuffer(t);return i.Event.getRootAsEvent(e)};function u(t){if(t.data.builder)return t.data.builder;return new r.Builder(0)}e.exports=s},{14:14,15:15,19:19,6:6}],9:[function(t,e,n){var r=t(6).Serializer,i=t(7),o=t(13),a={};a.build=function(t,e,n,i,o){var a=r.MutationData,u=a.createRemovedVector(t,e),c=i.map(function(e){var n=t.createString(e[0].toString()),i=t.createString(""+e[1]),o=t.createString(""+e[2]),a=r.StringList.createValuesVector(t,[n,i,o]);return s(t,a)}),d=o.map(function(e){var n=t.createString(e[0].toString()),i=t.createString(e[1]||""),o=r.StringList.createValuesVector(t,[n,i]);return s(t,o)}),f=a.createTextVector(t,d),h=a.createAttributesVector(t,c),l=a.createMovedVector(t,n);a.startMutationData(t),a.addRemoved(t,u),a.addAttributes(t,h),a.addText(t,f),a.addMoved(t,l);var p=a.endMutationData(t);return{builder:t,offset:p}};function s(t,e){return r.StringList.startStringList(t),r.StringList.addValues(t,e),r.StringList.endStringList(t)}a.buildFromDataArray=function(t,e){var n=e[1].reduce(function(e,n){return e.push(i.build(t,n)),e},[]),a=r.MutationData.createRemovedVector(t,e[0]),s=r.MutationData.createMovedVector(t,n),u=r.MutationData.createAttributesVector(t,e[2].map(function(e){return o(t,e)})),c=r.MutationData.createTextVector(t,e[3].map(function(e){return o(t,e)}));return r.MutationData.startMutationData(t),r.MutationData.addRemoved(t,a),r.MutationData.addMoved(t,s),r.MutationData.addAttributes(t,u),r.MutationData.addText(t,c),r.MutationData.endMutationData(t)},e.exports=a},{13:13,6:6,7:7}],10:[function(t,e,n){var r=t(19).flatbuffers,i=t(18).RecordEvent,o=t(17),a=t(26),s={},u=4;s.build=function(t,e){var n=new r.Builder(0),s=t.eventsUint8Array.map(function(t){var r=e?a.gzip(t,{level:u,to:"string"}):JSON.stringify(o(t));return n.createString(r)}),c=i.createMessagesVector(n,s),d=n.createString(t.uid),f=n.createString(t.sessionId),h=n.createString(t.apiToken),l=n.createString(t.sessionStartTime),p=n.createString(t.batchDelta);return i.startRecordEvent(n),i.addUid(n,d),i.addSessionId(n,f),i.addApiToken(n,h),i.addSessionStartTime(n,l),i.addBatchDelta(n,p),i.addMessages(n,c),i.finishRecordEventBuffer(n,i.endRecordEvent(n)),n},s.fromBuffer=function(t){var e=new r.ByteBuffer(t);return i.getRootAsRecordEvent(e)},e.exports=s},{17:17,18:18,19:19,26:26}],11:[function(t,e,n){var r=t(6).Serializer.Action,i={};i[i.CSS_RULE_SNAPSHOT=r.CSS_RULE_SNAPSHOT]="CSS_RULE_SNAPSHOT",i[i.focus=r.FOCUS]="focus",i[i.focusIn=r.FOCUS_IN]="focusIn",i[i.focusOut=r.FOCUS_OUT]="focusOut",i[i.mouseClick=r.MOUSE_CLICK]="mouseClick",i[i.mouseOver=r.MOUSE_OVER]="mouseOver",i[i.mousePosition=r.MOUSE_POSITION]="mousePosition",i[i.mutationEvent=r.MUTATION_EVENT]="mutationEvent",i[i.videoPause=r.VIDEO_PAUSE]="videoPause",i[i.videoPlay=r.VIDEO_PLAY]="videoPlay",i[i.videoTimeUpdate=r.VIDEO_TIME_UPDATE]="videoTimeUpdate",i[i.videoVolumeChange=r.VIDEO_VOLUME_CHANGE]="videoVolumeChange",i[i.input=r.INPUT]="input",i[i.inputProgrammaticChange=r.INPUT_PROGRAMMATIC_CHANGE]="inputProgrammaticChange",i[i.scroll=r.SCROLL]="scroll",i[i.selection=r.SELECTION]="selection",i[i.url=r.URL_CHANGED]="url",i[i.visibility=r.VISIBILITY]="visibility",i[i.windowClose=r.WINDOW_CLOSE]="windowClose",i[i.viewport=r.VIEWPORT_CHANGED]="viewport",i[i.finishSnapshot=r.FINISHED_SNAPSHOT]="finishSnapshot",i[i.domSnapshot=r.DOM_SNAPSHOT]="domSnapshot",i[i.pageSnapshotEvents=r.PAGE_SNAPSHOT_EVENTS]="pageSnapshotEvents",i[i.canvasUpdate=r.CANVAS_UPDATE]="canvasUpdate",i[i.error=r.ERROR]="error",i[i.our_error=r.ERROR_OUR]="our_error",i[i.identify=r.IDENTIFY]="identify",i[i.setUserInfo=r.SET_USER_INFO]="setUserInfo",i[i.touchcancel=r.TOUCH_CANCEL]="touchcancel",i[i.touchend=r.TOUCH_END]="touchend",i[i.touchmove=r.TOUCH_MOVE]="touchmove",i[i.touchstart=r.TOUCH_START]="touchstart",i[i.press=r.PRESS]="press",i[i.doubleTap=r.DOUBLE_TAP]="doubleTap",i[i.swipeRight=r.SWIPE_RIGHT]="swipeRight",i[i.swipeLeft=r.SWIPE_LEFT]="swipeLeft",i[i.swipeDown=r.SWIPE_DOWN]="swipeDown",i[i.swipeUp=r.SWIPE_UP]="swipeUp",i[i.idleTime=r.IDLE_TIME]="idleTime",i[i.customEvent=r.CUSTOM_EVENT]="customEvent",e.exports=function(t){return i[t]}},{6:6}],12:[function(t,e,n){var r=t(22),i=t(21);e.exports=function(t,e){for(var n=[],o=0,a=e.length;o<a;o++){var s,u=e[o];s=i(u)?"null":r(u)?u:JSON.stringify(u),s||("symbol"==typeof u?s=Symbol.keyFor(u):"function"==typeof u&&(s="")),n.push(t.createString(s))}return n}},{21:21,22:22}],13:[function(t,e,n){var r=t(6).Serializer,i=t(12);function o(t,e){var n=i(t,e),o=r.StringList.createValuesVector(t,n);return r.StringList.startStringList(t),r.StringList.addValues(t,o),r.StringList.endStringList(t)}e.exports=o},{12:12,6:6}],14:[function(t,e,n){var r=t(6).Serializer,i=t(7),o=t(9),a=t(15),s=t(16),u=t(11),c=t(22),d=t(13);function f(t,e,n){if(e.offset)return e.offset;var a;switch(n){case r.DataType.StringList:a=d(t,e);break;case r.DataType.Serializer_DOMNode:a=i.build(t,e);break;case r.DataType.MutationData:a=o.buildFromDataArray(t,e);break;default:a=null}return a}function h(t,e,n,i){var o=r.Event;n=e.windowId?e.windowId:n,i=e.parentWindowId?e.parentWindowId:i;var d,h=e.dataType?e.dataType:a(e.action),l=f(t,e.data,h),p=e.sequenceIndex;e.sequence?d=e.sequence:e.timestamp&&(d=e.timestamp);var v,_=t.createString(n);return i&&(v=t.createString(i)),o.startEvent(t),o.addAction(t,c(e.action)?u(e.action):e.action),o.addDataType(t,h),o.addData(t,l),o.addSequence(t,s(d)),o.addWindowId(t,_),i&&o.addParentWindowId(t,v),o.addSequenceIndex(t,p),o.addShouldCensor(t,e.shouldCensor),o.finishEventBuffer(t,o.endEvent(t)),t}e.exports=h},{11:11,13:13,15:15,16:16,22:22,6:6,7:7,9:9}],15:[function(t,e,n){var r=t(6).Serializer.DataType;e.exports=function(t){var e;switch(t){case"mutationEvent":e=r.MutationData;break;case"domSnapshot":e=r.Serializer_DOMNode;break;default:e=r.StringList}return e}},{6:6}],16:[function(t,e,n){var r=t(19).flatbuffers,i=65536,o=i*i,a=o*o,s=a/2;function u(t){if(t<=-s)return r.Long.create(0,-2147483648,!1);if(t+1>=s)return r.Long.create(-1,2147483647);return r.Long.create(t%o|0,t/o|0,!1)}e.exports=u},{19:19}],17:[function(t,e,n){var r=Function.bind.call(Function.call,Object.prototype.propertyIsEnumerable);function i(t){for(var e=Object.keys(t).filter(function(e){return r(t,e)}),n=e.length,i=new Array(n),o=0;o<n;++o)i[o]=t[e[o]];return i}e.exports=i},{}],18:[function(t,e,n){function r(){this.bb=null,this.bb_pos=0}r.prototype.__init=function(t,e){return this.bb_pos=t,this.bb=e,this},r.getRootAsRecordEvent=function(t,e){return(e||new r).__init(t.readInt32(t.position())+t.position(),t)},r.prototype.messages=function(t,e){var n=this.bb.__offset(this.bb_pos,4);return n?this.bb.__string(this.bb.__vector(this.bb_pos+n)+4*t,e):null},r.prototype.messagesLength=function(){var t=this.bb.__offset(this.bb_pos,4);return t?this.bb.__vector_len(this.bb_pos+t):0},r.prototype.uid=function(t){var e=this.bb.__offset(this.bb_pos,6);return e?this.bb.__string(this.bb_pos+e,t):null},r.prototype.sessionId=function(t){var e=this.bb.__offset(this.bb_pos,8);return e?this.bb.__string(this.bb_pos+e,t):null},r.prototype.apiToken=function(t){var e=this.bb.__offset(this.bb_pos,10);return e?this.bb.__string(this.bb_pos+e,t):null},r.prototype.sessionStartTime=function(t){var e=this.bb.__offset(this.bb_pos,12);return e?this.bb.__string(this.bb_pos+e,t):null},r.prototype.batchDelta=function(t){var e=this.bb.__offset(this.bb_pos,14);return e?this.bb.__string(this.bb_pos+e,t):null},r.startRecordEvent=function(t){t.startObject(6)},r.addMessages=function(t,e){t.addFieldOffset(0,e,0)},r.createMessagesVector=function(t,e){t.startVector(4,e.length,4);for(var n=e.length-1;n>=0;n--)t.addOffset(e[n]);return t.endVector()},r.startMessagesVector=function(t,e){t.startVector(4,e,4)},r.addUid=function(t,e){t.addFieldOffset(1,e,0)},r.addSessionId=function(t,e){t.addFieldOffset(2,e,0)},r.addApiToken=function(t,e){t.addFieldOffset(3,e,0)},r.addSessionStartTime=function(t,e){t.addFieldOffset(4,e,0)},r.addBatchDelta=function(t,e){t.addFieldOffset(5,e,0)},r.endRecordEvent=function(t){var e=t.endObject();return e},r.finishRecordEventBuffer=function(t,e){t.finish(e)},n.RecordEvent=r},{}],19:[function(t,e,n){var r={};r.Offset,r.Table,r.SIZEOF_SHORT=2,r.SIZEOF_INT=4,r.FILE_IDENTIFIER_LENGTH=4,r.Encoding={UTF8_BYTES:1,UTF16_STRING:2},r.int32=new Int32Array(2),r.float32=new Float32Array(r.int32.buffer),r.float64=new Float64Array(r.int32.buffer),r.isLittleEndian=1===new Uint16Array(new Uint8Array([1,0]).buffer)[0],r.Long=function(t,e){this.low=0|t,this.high=0|e},r.Long.create=function(t,e){return 0==t&&0==e?r.Long.ZERO:new r.Long(t,e)},r.Long.prototype.toFloat64=function(){return this.low+4294967296*this.high},r.Long.prototype.equals=function(t){return this.low==t.low&&this.high==t.high},r.Long.ZERO=new r.Long(0,0),r.Builder=function(t){t||(t=1024),this.bb=r.ByteBuffer.allocate(t),this.space=t,this.minalign=1,this.vtable=null,this.vtable_in_use=0,this.isNested=!1,this.object_start=0,this.vtables=[],this.vector_num_elems=0,this.force_defaults=!1},r.Builder.prototype.forceDefaults=function(t){this.force_defaults=t},r.Builder.prototype.dataBuffer=function(){return this.bb},r.Builder.prototype.asUint8Array=function(){
return this.bb.bytes().subarray(this.bb.position(),this.bb.position()+this.offset())},r.Builder.prototype.prep=function(t,e){t>this.minalign&&(this.minalign=t);for(var n=~(this.bb.capacity()-this.space+e)+1&t-1;this.space<n+t+e;){var i=this.bb.capacity();this.bb=r.Builder.growByteBuffer(this.bb),this.space+=this.bb.capacity()-i}this.pad(n)},r.Builder.prototype.pad=function(t){for(var e=0;e<t;e++)this.bb.writeInt8(--this.space,0)},r.Builder.prototype.writeInt8=function(t){this.bb.writeInt8(this.space-=1,t)},r.Builder.prototype.writeInt16=function(t){this.bb.writeInt16(this.space-=2,t)},r.Builder.prototype.writeInt32=function(t){this.bb.writeInt32(this.space-=4,t)},r.Builder.prototype.writeInt64=function(t){this.bb.writeInt64(this.space-=8,t)},r.Builder.prototype.writeFloat32=function(t){this.bb.writeFloat32(this.space-=4,t)},r.Builder.prototype.writeFloat64=function(t){this.bb.writeFloat64(this.space-=8,t)},r.Builder.prototype.addInt8=function(t){this.prep(1,0),this.writeInt8(t)},r.Builder.prototype.addInt16=function(t){this.prep(2,0),this.writeInt16(t)},r.Builder.prototype.addInt32=function(t){this.prep(4,0),this.writeInt32(t)},r.Builder.prototype.addInt64=function(t){this.prep(8,0),this.writeInt64(t)},r.Builder.prototype.addFloat32=function(t){this.prep(4,0),this.writeFloat32(t)},r.Builder.prototype.addFloat64=function(t){this.prep(8,0),this.writeFloat64(t)},r.Builder.prototype.addFieldInt8=function(t,e,n){(this.force_defaults||e!=n)&&(this.addInt8(e),this.slot(t))},r.Builder.prototype.addFieldInt16=function(t,e,n){(this.force_defaults||e!=n)&&(this.addInt16(e),this.slot(t))},r.Builder.prototype.addFieldInt32=function(t,e,n){(this.force_defaults||e!=n)&&(this.addInt32(e),this.slot(t))},r.Builder.prototype.addFieldInt64=function(t,e,n){!this.force_defaults&&e.equals(n)||(this.addInt64(e),this.slot(t))},r.Builder.prototype.addFieldFloat32=function(t,e,n){(this.force_defaults||e!=n)&&(this.addFloat32(e),this.slot(t))},r.Builder.prototype.addFieldFloat64=function(t,e,n){(this.force_defaults||e!=n)&&(this.addFloat64(e),this.slot(t))},r.Builder.prototype.addFieldOffset=function(t,e,n){(this.force_defaults||e!=n)&&(this.addOffset(e),this.slot(t))},r.Builder.prototype.addFieldStruct=function(t,e,n){e!=n&&(this.nested(e),this.slot(t))},r.Builder.prototype.nested=function(t){if(t!=this.offset())throw new Error("FlatBuffers: struct must be serialized inline.")},r.Builder.prototype.notNested=function(){if(this.isNested)throw new Error("FlatBuffers: object serialization must not be nested.")},r.Builder.prototype.slot=function(t){this.vtable[t]=this.offset()},r.Builder.prototype.offset=function(){return this.bb.capacity()-this.space},r.Builder.growByteBuffer=function(t){var e=t.capacity();if(3221225472&e)throw new Error("FlatBuffers: cannot grow buffer beyond 2 gigabytes.");var n=e<<1,i=r.ByteBuffer.allocate(n);return i.setPosition(n-e),i.bytes().set(t.bytes(),n-e),i},r.Builder.prototype.addOffset=function(t){this.prep(r.SIZEOF_INT,0),this.writeInt32(this.offset()-t+r.SIZEOF_INT)},r.Builder.prototype.startObject=function(t){this.notNested(),null==this.vtable&&(this.vtable=[]),this.vtable_in_use=t;for(var e=0;e<t;e++)this.vtable[e]=0;this.isNested=!0,this.object_start=this.offset()},r.Builder.prototype.endObject=function(){if(null==this.vtable||!this.isNested)throw new Error("FlatBuffers: endObject called without startObject");this.addInt32(0);for(var t=this.offset(),e=this.vtable_in_use-1;e>=0;e--)this.addInt16(0!=this.vtable[e]?t-this.vtable[e]:0);var n=2;this.addInt16(t-this.object_start),this.addInt16((this.vtable_in_use+n)*r.SIZEOF_SHORT);var i=0;t:for(var e=0;e<this.vtables.length;e++){var o=this.bb.capacity()-this.vtables[e],a=this.space,s=this.bb.readInt16(o);if(s==this.bb.readInt16(a)){for(var u=r.SIZEOF_SHORT;u<s;u+=r.SIZEOF_SHORT)if(this.bb.readInt16(o+u)!=this.bb.readInt16(a+u))continue t;i=this.vtables[e];break}}return i?(this.space=this.bb.capacity()-t,this.bb.writeInt32(this.space,i-t)):(this.vtables.push(this.offset()),this.bb.writeInt32(this.bb.capacity()-t,this.offset()-t)),this.isNested=!1,t},r.Builder.prototype.finish=function(t,e){if(e){if(this.prep(this.minalign,r.SIZEOF_INT+r.FILE_IDENTIFIER_LENGTH),e.length!=r.FILE_IDENTIFIER_LENGTH)throw new Error("FlatBuffers: file identifier must be length "+r.FILE_IDENTIFIER_LENGTH);for(var n=r.FILE_IDENTIFIER_LENGTH-1;n>=0;n--)this.writeInt8(e.charCodeAt(n))}this.prep(this.minalign,r.SIZEOF_INT),this.addOffset(t),this.bb.setPosition(this.space)},r.Builder.prototype.requiredField=function(t,e){var n=this.bb.capacity()-t,r=n-this.bb.readInt32(n),i=0!=this.bb.readInt16(r+e);if(!i)throw new Error("FlatBuffers: field "+e+" must be set")},r.Builder.prototype.startVector=function(t,e,n){this.notNested(),this.vector_num_elems=e,this.prep(r.SIZEOF_INT,t*e),this.prep(n,t*e)},r.Builder.prototype.endVector=function(){return this.writeInt32(this.vector_num_elems),this.offset()},r.Builder.prototype.createString=function(t){if(t instanceof Uint8Array)var e=t;else for(var e=[],n=0;n<t.length;){var r,i=t.charCodeAt(n++);if(i<55296||i>=56320)r=i;else{var o=t.charCodeAt(n++);r=(i<<10)+o+-56613888}r<128?e.push(r):(r<2048?e.push(r>>6&31|192):(r<65536?e.push(r>>12&15|224):e.push(r>>18&7|240,r>>12&63|128),e.push(r>>6&63|128)),e.push(63&r|128))}this.addInt8(0),this.startVector(1,e.length,1),this.bb.setPosition(this.space-=e.length);for(var n=0,a=this.space,s=this.bb.bytes();n<e.length;n++)s[a++]=e[n];return this.endVector()},r.Builder.prototype.createLong=function(t,e){return r.Long.create(t,e)},r.ByteBuffer=function(t){this.bytes_=t,this.position_=0},r.ByteBuffer.allocate=function(t){return new r.ByteBuffer(new Uint8Array(t))},r.ByteBuffer.prototype.bytes=function(){return this.bytes_},r.ByteBuffer.prototype.position=function(){return this.position_},r.ByteBuffer.prototype.setPosition=function(t){this.position_=t},r.ByteBuffer.prototype.capacity=function(){return this.bytes_.length},r.ByteBuffer.prototype.readInt8=function(t){return this.readUint8(t)<<24>>24},r.ByteBuffer.prototype.readUint8=function(t){return this.bytes_[t]},r.ByteBuffer.prototype.readInt16=function(t){return this.readUint16(t)<<16>>16},r.ByteBuffer.prototype.readUint16=function(t){return this.bytes_[t]|this.bytes_[t+1]<<8},r.ByteBuffer.prototype.readInt32=function(t){return this.bytes_[t]|this.bytes_[t+1]<<8|this.bytes_[t+2]<<16|this.bytes_[t+3]<<24},r.ByteBuffer.prototype.readUint32=function(t){return this.readInt32(t)>>>0},r.ByteBuffer.prototype.readInt64=function(t){return new r.Long(this.readInt32(t),this.readInt32(t+4))},r.ByteBuffer.prototype.readUint64=function(t){return new r.Long(this.readUint32(t),this.readUint32(t+4))},r.ByteBuffer.prototype.readFloat32=function(t){return r.int32[0]=this.readInt32(t),r.float32[0]},r.ByteBuffer.prototype.readFloat64=function(t){return r.int32[r.isLittleEndian?0:1]=this.readInt32(t),r.int32[r.isLittleEndian?1:0]=this.readInt32(t+4),r.float64[0]},r.ByteBuffer.prototype.writeInt8=function(t,e){this.bytes_[t]=e},r.ByteBuffer.prototype.writeInt16=function(t,e){this.bytes_[t]=e,this.bytes_[t+1]=e>>8},r.ByteBuffer.prototype.writeInt32=function(t,e){this.bytes_[t]=e,this.bytes_[t+1]=e>>8,this.bytes_[t+2]=e>>16,this.bytes_[t+3]=e>>24},r.ByteBuffer.prototype.writeInt64=function(t,e){this.writeInt32(t,e.low),this.writeInt32(t+4,e.high)},r.ByteBuffer.prototype.writeFloat32=function(t,e){r.float32[0]=e,this.writeInt32(t,r.int32[0])},r.ByteBuffer.prototype.writeFloat64=function(t,e){r.float64[0]=e,this.writeInt32(t,r.int32[r.isLittleEndian?0:1]),this.writeInt32(t+4,r.int32[r.isLittleEndian?1:0])},r.ByteBuffer.prototype.__offset=function(t,e){var n=t-this.readInt32(t);return e<this.readInt16(n)?this.readInt16(n+e):0},r.ByteBuffer.prototype.__union=function(t,e){return t.bb_pos=e+this.readInt32(e),t.bb=this,t},r.ByteBuffer.prototype.__string=function(t,e){t+=this.readInt32(t);var n=this.readInt32(t),i="",o=0;if(t+=r.SIZEOF_INT,e===r.Encoding.UTF8_BYTES)return this.bytes_.subarray(t,t+n);for(;o<n;){var a,s=this.readUint8(t+o++);if(s<192)a=s;else{var u=this.readUint8(t+o++);if(s<224)a=(31&s)<<6|63&u;else{var c=this.readUint8(t+o++);if(s<240)a=(15&s)<<12|(63&u)<<6|63&c;else{var d=this.readUint8(t+o++);a=(7&s)<<18|(63&u)<<12|(63&c)<<6|63&d}}}a<65536?i+=String.fromCharCode(a):(a-=65536,i+=String.fromCharCode((a>>10)+55296,(1023&a)+56320))}return i},r.ByteBuffer.prototype.__indirect=function(t){return t+this.readInt32(t)},r.ByteBuffer.prototype.__vector=function(t){return t+this.readInt32(t)+r.SIZEOF_INT},r.ByteBuffer.prototype.__vector_len=function(t){return this.readInt32(t+this.readInt32(t))},r.ByteBuffer.prototype.__has_identifier=function(t){if(t.length!=r.FILE_IDENTIFIER_LENGTH)throw new Error("FlatBuffers: file identifier must be length "+r.FILE_IDENTIFIER_LENGTH);for(var e=0;e<r.FILE_IDENTIFIER_LENGTH;e++)if(t.charCodeAt(e)!=this.readInt8(this.position_+r.SIZEOF_INT+e))return!1;return!0},r.ByteBuffer.prototype.createLong=function(t,e){return r.Long.create(t,e)},n.flatbuffers=r},{}],20:[function(t,e,n){function r(t){var e={"@role":!0,onabort:!0,onautocomplete:!0,onautocompleteerror:!0,onblur:!0,oncanplay:!0,oncanplaythrough:!0,oncancel:!0,onchange:!0,onclick:!0,onclose:!0,oncontextmenu:!0,oncuechange:!0,ondblclick:!0,ondrag:!0,ondragend:!0,ondragenter:!0,ondragexit:!0,ondragleave:!0,ondragover:!0,ondragstart:!0,ondragdrop:!0,ondrop:!0,ondurationchange:!0,onemptied:!0,onerror:!0,onended:!0,onfocus:!0,oninput:!0,oninvalid:!0,onkeydown:!0,onkeypress:!0,onkeyup:!0,onload:!0,onloadeddata:!0,onloadedmetadata:!0,onloadstart:!0,onmousedown:!0,onmousemove:!0,onmouseout:!0,onmouseover:!0,onmouseup:!0,onmouseleave:!0,onmousewheel:!0,onsubmit:!0,onpause:!0,onplay:!0,onplaying:!0,onprogress:!0,onratechange:!0,onreset:!0,onresize:!0,onscroll:!0,onseeked:!0,onseeking:!0,onselect:!0,onshow:!0,onsort:!0,onstalled:!0,onsuspend:!0,ontimeupdate:!0,ontoggle:!0,onvolumechange:!0,onwaiting:!0,onafterprint:!0,onbeforeprint:!0,onbeforeunload:!0,onhashchange:!0,onlanguagechange:!0,onmessage:!0,onoffline:!0,ononline:!0,onpagehide:!0,onpageshow:!0,onpopstate:!0,onrejectionhandled:!0,onstorage:!0,onunhandledrejection:!0,onunload:!0,integrity:!0},n="A-Za-z:_À-ÖØ-öø-ÿʻ-ˁͰ-ͽͿՙۥu06E6",r="\\-.0-9·̀-ͯ·‿-⁀",i=new RegExp("^["+n+"]["+n+r+"]*$");if(0===t.length||e[t.toLowerCase()])return!1;return i.test(t)}e.exports=r},{}],21:[function(t,e,n){function r(t){return null===t||void 0===t}e.exports=r},{}],22:[function(t,e,n){function r(t){return"string"==typeof t}e.exports=r},{}],23:[function(t,e,n){function r(t){this.sha256=t}r.prototype.isAllowed=function(t,e,n){var r=e.split(","),o=r[0],a=parseInt(r[1]),s=r[2];if(32!==n.length||0!==n.indexOf(o))throw new Error("validation token parse: integrity error");if(32!==s.length)throw new Error("validation token parse: invalid hash length");if(a<1||a>4)throw new Error("validation token parse: segment count is not valid");var u=i(t,a);return 0!==this.sha256(u,n).indexOf(s)};function i(t,e){return t.split(".").slice(0,e).join(".")}e.exports=r},{}],24:[function(t,e,n){function r(t){this.sha256=t}var i=4,o=32;r.prototype.createFilter=function(t,e){var n=[];n.push(e.slice(0,i));var r=t.split("."),a="*"===r[r.length-1]?r.length-1:r.length;n.push(a);var s=r.slice(0,a).join(".");return n.push(this.sha256(s,e).slice(0,o)),n.join(",")},e.exports=r},{}],25:[function(t,e,n){const r=t(24),i=t(23);e.exports={IpHasher:r,IpChecker:i}},{23:23,24:24}],26:[function(n,r,i){(function(t){(function(){!function(n){if("object"==typeof i&&"undefined"!=typeof r)r.exports=n();else if("function"==typeof e&&e.amd)e([],n);else{var o;o="undefined"!=typeof window?window:"undefined"!=typeof t?t:"undefined"!=typeof self?self:this,o.pako=n()}}(function(){return function t(e,r,i){function o(s,u){if(!r[s]){if(!e[s]){var c="function"==typeof n&&n;if(!u&&c)return c(s,!0);if(a)return a(s,!0);var d=new Error("Cannot find module '"+s+"'");throw d.code="MODULE_NOT_FOUND",d}var f=r[s]={exports:{}};e[s][0].call(f.exports,function(t){var n=e[s][1][t];return o(n?n:t)},f,f.exports,t,e,r,i)}return r[s].exports}for(var a="function"==typeof n&&n,s=0;s<i.length;s++)o(i[s]);return o}({1:[function(t,e,n){"use strict";var r="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Int32Array;n.assign=function(t){for(var e=Array.prototype.slice.call(arguments,1);e.length;){var n=e.shift();if(n){if("object"!=typeof n)throw new TypeError(n+"must be non-object");for(var r in n)n.hasOwnProperty(r)&&(t[r]=n[r])}}return t},n.shrinkBuf=function(t,e){return t.length===e?t:t.subarray?t.subarray(0,e):(t.length=e,t)};var i={arraySet:function(t,e,n,r,i){if(e.subarray&&t.subarray)return void t.set(e.subarray(n,n+r),i);for(var o=0;o<r;o++)t[i+o]=e[n+o]},flattenChunks:function(t){var e,n,r,i,o,a;for(r=0,e=0,n=t.length;e<n;e++)r+=t[e].length;for(a=new Uint8Array(r),i=0,e=0,n=t.length;e<n;e++)o=t[e],a.set(o,i),i+=o.length;return a}},o={arraySet:function(t,e,n,r,i){for(var o=0;o<r;o++)t[i+o]=e[n+o]},flattenChunks:function(t){return[].concat.apply([],t)}};n.setTyped=function(t){t?(n.Buf8=Uint8Array,n.Buf16=Uint16Array,n.Buf32=Int32Array,n.assign(n,i)):(n.Buf8=Array,n.Buf16=Array,n.Buf32=Array,n.assign(n,o))},n.setTyped(r)},{}],2:[function(t,e,n){"use strict";function r(t,e){if(e<65537&&(t.subarray&&a||!t.subarray&&o))return String.fromCharCode.apply(null,i.shrinkBuf(t,e));for(var n="",r=0;r<e;r++)n+=String.fromCharCode(t[r]);return n}var i=t("./common"),o=!0,a=!0;try{String.fromCharCode.apply(null,[0])}catch(t){o=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(t){a=!1}for(var s=new i.Buf8(256),u=0;u<256;u++)s[u]=u>=252?6:u>=248?5:u>=240?4:u>=224?3:u>=192?2:1;s[254]=s[254]=1,n.string2buf=function(t){var e,n,r,o,a,s=t.length,u=0;for(o=0;o<s;o++)n=t.charCodeAt(o),55296===(64512&n)&&o+1<s&&(r=t.charCodeAt(o+1),56320===(64512&r)&&(n=65536+(n-55296<<10)+(r-56320),o++)),u+=n<128?1:n<2048?2:n<65536?3:4;for(e=new i.Buf8(u),a=0,o=0;a<u;o++)n=t.charCodeAt(o),55296===(64512&n)&&o+1<s&&(r=t.charCodeAt(o+1),56320===(64512&r)&&(n=65536+(n-55296<<10)+(r-56320),o++)),n<128?e[a++]=n:n<2048?(e[a++]=192|n>>>6,e[a++]=128|63&n):n<65536?(e[a++]=224|n>>>12,e[a++]=128|n>>>6&63,e[a++]=128|63&n):(e[a++]=240|n>>>18,e[a++]=128|n>>>12&63,e[a++]=128|n>>>6&63,e[a++]=128|63&n);return e},n.buf2binstring=function(t){return r(t,t.length)},n.binstring2buf=function(t){for(var e=new i.Buf8(t.length),n=0,r=e.length;n<r;n++)e[n]=t.charCodeAt(n);return e},n.buf2string=function(t,e){var n,i,o,a,u=e||t.length,c=new Array(2*u);for(i=0,n=0;n<u;)if(o=t[n++],o<128)c[i++]=o;else if(a=s[o],a>4)c[i++]=65533,n+=a-1;else{for(o&=2===a?31:3===a?15:7;a>1&&n<u;)o=o<<6|63&t[n++],a--;a>1?c[i++]=65533:o<65536?c[i++]=o:(o-=65536,c[i++]=55296|o>>10&1023,c[i++]=56320|1023&o)}return r(c,i)},n.utf8border=function(t,e){var n;for(e=e||t.length,e>t.length&&(e=t.length),n=e-1;n>=0&&128===(192&t[n]);)n--;return n<0?e:0===n?e:n+s[t[n]]>e?n:e}},{"./common":1}],3:[function(t,e,n){"use strict";function r(t,e,n,r){for(var i=65535&t|0,o=t>>>16&65535|0,a=0;0!==n;){a=n>2e3?2e3:n,n-=a;do i=i+e[r++]|0,o=o+i|0;while(--a);i%=65521,o%=65521}return i|o<<16|0}e.exports=r},{}],4:[function(t,e,n){"use strict";function r(){for(var t,e=[],n=0;n<256;n++){t=n;for(var r=0;r<8;r++)t=1&t?3988292384^t>>>1:t>>>1;e[n]=t}return e}function i(t,e,n,r){var i=o,a=r+n;t^=-1;for(var s=r;s<a;s++)t=t>>>8^i[255&(t^e[s])];return t^-1}var o=r();e.exports=i},{}],5:[function(t,e,n){"use strict";function r(t,e){return t.msg=L[e],e}function i(t){return(t<<1)-(t>4?9:0)}function o(t){for(var e=t.length;--e>=0;)t[e]=0}function a(t){var e=t.state,n=e.pending;n>t.avail_out&&(n=t.avail_out),0!==n&&(R.arraySet(t.output,e.pending_buf,e.pending_out,n,t.next_out),t.next_out+=n,e.pending_out+=n,t.total_out+=n,t.avail_out-=n,e.pending-=n,0===e.pending&&(e.pending_out=0))}function s(t,e){C._tr_flush_block(t,t.block_start>=0?t.block_start:-1,t.strstart-t.block_start,e),t.block_start=t.strstart,a(t.strm)}function u(t,e){t.pending_buf[t.pending++]=e}function c(t,e){t.pending_buf[t.pending++]=e>>>8&255,t.pending_buf[t.pending++]=255&e}function d(t,e,n,r){var i=t.avail_in;return i>r&&(i=r),0===i?0:(t.avail_in-=i,R.arraySet(e,t.input,t.next_in,i,n),1===t.state.wrap?t.adler=x(t.adler,e,i,n):2===t.state.wrap&&(t.adler=A(t.adler,e,i,n)),t.next_in+=i,t.total_in+=i,i)}function f(t,e){var n,r,i=t.max_chain_length,o=t.strstart,a=t.prev_length,s=t.nice_match,u=t.strstart>t.w_size-ft?t.strstart-(t.w_size-ft):0,c=t.window,d=t.w_mask,f=t.prev,h=t.strstart+dt,l=c[o+a-1],p=c[o+a];t.prev_length>=t.good_match&&(i>>=2),s>t.lookahead&&(s=t.lookahead);do if(n=e,c[n+a]===p&&c[n+a-1]===l&&c[n]===c[o]&&c[++n]===c[o+1]){o+=2,n++;do;while(c[++o]===c[++n]&&c[++o]===c[++n]&&c[++o]===c[++n]&&c[++o]===c[++n]&&c[++o]===c[++n]&&c[++o]===c[++n]&&c[++o]===c[++n]&&c[++o]===c[++n]&&o<h);if(r=dt-(h-o),o=h-dt,r>a){if(t.match_start=e,a=r,r>=s)break;l=c[o+a-1],p=c[o+a]}}while((e=f[e&d])>u&&0!==--i);return a<=t.lookahead?a:t.lookahead}function h(t){var e,n,r,i,o,a=t.w_size;do{if(i=t.window_size-t.lookahead-t.strstart,t.strstart>=a+(a-ft)){R.arraySet(t.window,t.window,a,a,0),t.match_start-=a,t.strstart-=a,t.block_start-=a,n=t.hash_size,e=n;do r=t.head[--e],t.head[e]=r>=a?r-a:0;while(--n);n=a,e=n;do r=t.prev[--e],t.prev[e]=r>=a?r-a:0;while(--n);i+=a}if(0===t.strm.avail_in)break;if(n=d(t.strm,t.window,t.strstart+t.lookahead,i),t.lookahead+=n,t.lookahead+t.insert>=ct)for(o=t.strstart-t.insert,t.ins_h=t.window[o],t.ins_h=(t.ins_h<<t.hash_shift^t.window[o+1])&t.hash_mask;t.insert&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[o+ct-1])&t.hash_mask,t.prev[o&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=o,o++,t.insert--,!(t.lookahead+t.insert<ct)););}while(t.lookahead<ft&&0!==t.strm.avail_in)}function l(t,e){var n=65535;for(n>t.pending_buf_size-5&&(n=t.pending_buf_size-5);;){if(t.lookahead<=1){if(h(t),0===t.lookahead&&e===k)return mt;if(0===t.lookahead)break}t.strstart+=t.lookahead,t.lookahead=0;var r=t.block_start+n;if((0===t.strstart||t.strstart>=r)&&(t.lookahead=t.strstart-r,t.strstart=r,s(t,!1),0===t.strm.avail_out))return mt;if(t.strstart-t.block_start>=t.w_size-ft&&(s(t,!1),0===t.strm.avail_out))return mt}return t.insert=0,e===B?(s(t,!0),0===t.strm.avail_out?Et:Ot):t.strstart>t.block_start&&(s(t,!1),0===t.strm.avail_out)?mt:mt}function p(t,e){for(var n,r;;){if(t.lookahead<ft){if(h(t),t.lookahead<ft&&e===k)return mt;if(0===t.lookahead)break}if(n=0,t.lookahead>=ct&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+ct-1])&t.hash_mask,n=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),0!==n&&t.strstart-n<=t.w_size-ft&&(t.match_length=f(t,n)),t.match_length>=ct)if(r=C._tr_tally(t,t.strstart-t.match_start,t.match_length-ct),t.lookahead-=t.match_length,t.match_length<=t.max_lazy_match&&t.lookahead>=ct){t.match_length--;do t.strstart++,t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+ct-1])&t.hash_mask,n=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart;while(0!==--t.match_length);t.strstart++}else t.strstart+=t.match_length,t.match_length=0,t.ins_h=t.window[t.strstart],t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+1])&t.hash_mask;else r=C._tr_tally(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++;if(r&&(s(t,!1),0===t.strm.avail_out))return mt}return t.insert=t.strstart<ct-1?t.strstart:ct-1,e===B?(s(t,!0),0===t.strm.avail_out?Et:Ot):t.last_lit&&(s(t,!1),0===t.strm.avail_out)?mt:wt}function v(t,e){for(var n,r,i;;){if(t.lookahead<ft){if(h(t),t.lookahead<ft&&e===k)return mt;if(0===t.lookahead)break}if(n=0,t.lookahead>=ct&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+ct-1])&t.hash_mask,n=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),t.prev_length=t.match_length,t.prev_match=t.match_start,t.match_length=ct-1,0!==n&&t.prev_length<t.max_lazy_match&&t.strstart-n<=t.w_size-ft&&(t.match_length=f(t,n),t.match_length<=5&&(t.strategy===J||t.match_length===ct&&t.strstart-t.match_start>4096)&&(t.match_length=ct-1)),t.prev_length>=ct&&t.match_length<=t.prev_length){i=t.strstart+t.lookahead-ct,r=C._tr_tally(t,t.strstart-1-t.prev_match,t.prev_length-ct),t.lookahead-=t.prev_length-1,t.prev_length-=2;do++t.strstart<=i&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+ct-1])&t.hash_mask,n=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart);while(0!==--t.prev_length);if(t.match_available=0,t.match_length=ct-1,t.strstart++,r&&(s(t,!1),0===t.strm.avail_out))return mt}else if(t.match_available){if(r=C._tr_tally(t,0,t.window[t.strstart-1]),r&&s(t,!1),t.strstart++,t.lookahead--,0===t.strm.avail_out)return mt}else t.match_available=1,t.strstart++,t.lookahead--}return t.match_available&&(r=C._tr_tally(t,0,t.window[t.strstart-1]),t.match_available=0),t.insert=t.strstart<ct-1?t.strstart:ct-1,e===B?(s(t,!0),0===t.strm.avail_out?Et:Ot):t.last_lit&&(s(t,!1),0===t.strm.avail_out)?mt:wt}function _(t,e){for(var n,r,i,o,a=t.window;;){if(t.lookahead<=dt){if(h(t),t.lookahead<=dt&&e===k)return mt;if(0===t.lookahead)break}if(t.match_length=0,t.lookahead>=ct&&t.strstart>0&&(i=t.strstart-1,r=a[i],r===a[++i]&&r===a[++i]&&r===a[++i])){o=t.strstart+dt;do;while(r===a[++i]&&r===a[++i]&&r===a[++i]&&r===a[++i]&&r===a[++i]&&r===a[++i]&&r===a[++i]&&r===a[++i]&&i<o);t.match_length=dt-(o-i),t.match_length>t.lookahead&&(t.match_length=t.lookahead)}if(t.match_length>=ct?(n=C._tr_tally(t,1,t.match_length-ct),t.lookahead-=t.match_length,t.strstart+=t.match_length,t.match_length=0):(n=C._tr_tally(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++),n&&(s(t,!1),0===t.strm.avail_out))return mt}return t.insert=0,e===B?(s(t,!0),0===t.strm.avail_out?Et:Ot):t.last_lit&&(s(t,!1),0===t.strm.avail_out)?mt:wt}function g(t,e){for(var n;;){if(0===t.lookahead&&(h(t),0===t.lookahead)){if(e===k)return mt;break}if(t.match_length=0,n=C._tr_tally(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++,n&&(s(t,!1),0===t.strm.avail_out))return mt}return t.insert=0,e===B?(s(t,!0),0===t.strm.avail_out?Et:Ot):t.last_lit&&(s(t,!1),0===t.strm.avail_out)?mt:wt}function b(t,e,n,r,i){this.good_length=t,this.max_lazy=e,this.nice_length=n,this.max_chain=r,this.func=i}function y(t){t.window_size=2*t.w_size,o(t.head),t.max_lazy_match=M[t.level].max_lazy,t.good_match=M[t.level].good_length,t.nice_match=M[t.level].nice_length,t.max_chain_length=M[t.level].max_chain,t.strstart=0,t.block_start=0,t.lookahead=0,t.insert=0,t.match_length=t.prev_length=ct-1,t.match_available=0,t.ins_h=0}function m(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=Z,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new R.Buf16(2*st),this.dyn_dtree=new R.Buf16(2*(2*ot+1)),this.bl_tree=new R.Buf16(2*(2*at+1)),o(this.dyn_ltree),o(this.dyn_dtree),o(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new R.Buf16(ut+1),this.heap=new R.Buf16(2*it+1),o(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new R.Buf16(2*it+1),o(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function w(t){var e;return t&&t.state?(t.total_in=t.total_out=0,t.data_type=X,e=t.state,e.pending=0,e.pending_out=0,e.wrap<0&&(e.wrap=-e.wrap),e.status=e.wrap?lt:bt,t.adler=2===e.wrap?0:1,e.last_flush=k,C._tr_init(e),V):r(t,j)}function E(t){var e=w(t);return e===V&&y(t.state),e}function O(t,e){return t&&t.state?2!==t.state.wrap?j:(t.state.gzhead=e,V):j}function I(t,e,n,i,o,a){if(!t)return j;var s=1;if(e===Y&&(e=6),i<0?(s=0,i=-i):i>15&&(s=2,i-=16),o<1||o>$||n!==Z||i<8||i>15||e<0||e>9||a<0||a>K)return r(t,j);8===i&&(i=9);var u=new m;return t.state=u,u.strm=t,u.wrap=s,u.gzhead=null,u.w_bits=i,u.w_size=1<<u.w_bits,u.w_mask=u.w_size-1,u.hash_bits=o+7,u.hash_size=1<<u.hash_bits,u.hash_mask=u.hash_size-1,u.hash_shift=~~((u.hash_bits+ct-1)/ct),u.window=new R.Buf8(2*u.w_size),u.head=new R.Buf16(u.hash_size),u.prev=new R.Buf16(u.w_size),u.lit_bufsize=1<<o+6,u.pending_buf_size=4*u.lit_bufsize,u.pending_buf=new R.Buf8(u.pending_buf_size),u.d_buf=1*u.lit_bufsize,u.l_buf=3*u.lit_bufsize,u.level=e,u.strategy=a,u.method=n,E(t)}function S(t,e){return I(t,e,Z,tt,et,Q)}function D(t,e){var n,s,d,f;if(!t||!t.state||e>F||e<0)return t?r(t,j):j;if(s=t.state,!t.output||!t.input&&0!==t.avail_in||s.status===yt&&e!==B)return r(t,0===t.avail_out?H:j);if(s.strm=t,n=s.last_flush,s.last_flush=e,s.status===lt)if(2===s.wrap)t.adler=0,u(s,31),u(s,139),u(s,8),s.gzhead?(u(s,(s.gzhead.text?1:0)+(s.gzhead.hcrc?2:0)+(s.gzhead.extra?4:0)+(s.gzhead.name?8:0)+(s.gzhead.comment?16:0)),u(s,255&s.gzhead.time),u(s,s.gzhead.time>>8&255),u(s,s.gzhead.time>>16&255),u(s,s.gzhead.time>>24&255),u(s,9===s.level?2:s.strategy>=G||s.level<2?4:0),u(s,255&s.gzhead.os),s.gzhead.extra&&s.gzhead.extra.length&&(u(s,255&s.gzhead.extra.length),u(s,s.gzhead.extra.length>>8&255)),s.gzhead.hcrc&&(t.adler=A(t.adler,s.pending_buf,s.pending,0)),s.gzindex=0,s.status=pt):(u(s,0),u(s,0),u(s,0),u(s,0),u(s,0),u(s,9===s.level?2:s.strategy>=G||s.level<2?4:0),u(s,It),s.status=bt);else{var h=Z+(s.w_bits-8<<4)<<8,l=-1;l=s.strategy>=G||s.level<2?0:s.level<6?1:6===s.level?2:3,h|=l<<6,0!==s.strstart&&(h|=ht),h+=31-h%31,s.status=bt,c(s,h),0!==s.strstart&&(c(s,t.adler>>>16),c(s,65535&t.adler)),t.adler=1}if(s.status===pt)if(s.gzhead.extra){for(d=s.pending;s.gzindex<(65535&s.gzhead.extra.length)&&(s.pending!==s.pending_buf_size||(s.gzhead.hcrc&&s.pending>d&&(t.adler=A(t.adler,s.pending_buf,s.pending-d,d)),a(t),d=s.pending,s.pending!==s.pending_buf_size));)u(s,255&s.gzhead.extra[s.gzindex]),s.gzindex++;s.gzhead.hcrc&&s.pending>d&&(t.adler=A(t.adler,s.pending_buf,s.pending-d,d)),s.gzindex===s.gzhead.extra.length&&(s.gzindex=0,s.status=vt)}else s.status=vt;if(s.status===vt)if(s.gzhead.name){d=s.pending;do{if(s.pending===s.pending_buf_size&&(s.gzhead.hcrc&&s.pending>d&&(t.adler=A(t.adler,s.pending_buf,s.pending-d,d)),a(t),d=s.pending,s.pending===s.pending_buf_size)){f=1;break}f=s.gzindex<s.gzhead.name.length?255&s.gzhead.name.charCodeAt(s.gzindex++):0,u(s,f)}while(0!==f);s.gzhead.hcrc&&s.pending>d&&(t.adler=A(t.adler,s.pending_buf,s.pending-d,d)),0===f&&(s.gzindex=0,s.status=_t)}else s.status=_t;if(s.status===_t)if(s.gzhead.comment){d=s.pending;do{if(s.pending===s.pending_buf_size&&(s.gzhead.hcrc&&s.pending>d&&(t.adler=A(t.adler,s.pending_buf,s.pending-d,d)),a(t),d=s.pending,s.pending===s.pending_buf_size)){f=1;break}f=s.gzindex<s.gzhead.comment.length?255&s.gzhead.comment.charCodeAt(s.gzindex++):0,u(s,f)}while(0!==f);s.gzhead.hcrc&&s.pending>d&&(t.adler=A(t.adler,s.pending_buf,s.pending-d,d)),0===f&&(s.status=gt)}else s.status=gt;if(s.status===gt&&(s.gzhead.hcrc?(s.pending+2>s.pending_buf_size&&a(t),s.pending+2<=s.pending_buf_size&&(u(s,255&t.adler),u(s,t.adler>>8&255),t.adler=0,s.status=bt)):s.status=bt),0!==s.pending){if(a(t),0===t.avail_out)return s.last_flush=-1,V}else if(0===t.avail_in&&i(e)<=i(n)&&e!==B)return r(t,H);if(s.status===yt&&0!==t.avail_in)return r(t,H);if(0!==t.avail_in||0!==s.lookahead||e!==k&&s.status!==yt){var p=s.strategy===G?g(s,e):s.strategy===q?_(s,e):M[s.level].func(s,e);if(p!==Et&&p!==Ot||(s.status=yt),p===mt||p===Et)return 0===t.avail_out&&(s.last_flush=-1),V;if(p===wt&&(e===P?C._tr_align(s):e!==F&&(C._tr_stored_block(s,0,0,!1),e===U&&(o(s.head),0===s.lookahead&&(s.strstart=0,s.block_start=0,s.insert=0))),a(t),0===t.avail_out))return s.last_flush=-1,V}return e!==B?V:s.wrap<=0?z:(2===s.wrap?(u(s,255&t.adler),u(s,t.adler>>8&255),u(s,t.adler>>16&255),u(s,t.adler>>24&255),u(s,255&t.total_in),u(s,t.total_in>>8&255),u(s,t.total_in>>16&255),u(s,t.total_in>>24&255)):(c(s,t.adler>>>16),c(s,65535&t.adler)),a(t),s.wrap>0&&(s.wrap=-s.wrap),0!==s.pending?V:z)}function T(t){var e;return t&&t.state?(e=t.state.status,e!==lt&&e!==pt&&e!==vt&&e!==_t&&e!==gt&&e!==bt&&e!==yt?r(t,j):(t.state=null,e===bt?r(t,W):V)):j}function N(t,e){var n,r,i,a,s,u,c,d,f=e.length;if(!t||!t.state)return j;if(n=t.state,a=n.wrap,2===a||1===a&&n.status!==lt||n.lookahead)return j;for(1===a&&(t.adler=x(t.adler,e,f,0)),n.wrap=0,f>=n.w_size&&(0===a&&(o(n.head),n.strstart=0,n.block_start=0,n.insert=0),d=new R.Buf8(n.w_size),R.arraySet(d,e,f-n.w_size,n.w_size,0),e=d,f=n.w_size),s=t.avail_in,u=t.next_in,c=t.input,t.avail_in=f,t.next_in=0,t.input=e,h(n);n.lookahead>=ct;){r=n.strstart,i=n.lookahead-(ct-1);do n.ins_h=(n.ins_h<<n.hash_shift^n.window[r+ct-1])&n.hash_mask,n.prev[r&n.w_mask]=n.head[n.ins_h],n.head[n.ins_h]=r,r++;while(--i);n.strstart=r,n.lookahead=ct-1,h(n)}return n.strstart+=n.lookahead,n.block_start=n.strstart,n.insert=n.lookahead,n.lookahead=0,n.match_length=n.prev_length=ct-1,n.match_available=0,t.next_in=u,t.input=c,t.avail_in=s,n.wrap=a,V}var M,R=t("../utils/common"),C=t("./trees"),x=t("./adler32"),A=t("./crc32"),L=t("./messages"),k=0,P=1,U=3,B=4,F=5,V=0,z=1,j=-2,W=-3,H=-5,Y=-1,J=1,G=2,q=3,K=4,Q=0,X=2,Z=8,$=9,tt=15,et=8,nt=29,rt=256,it=rt+1+nt,ot=30,at=19,st=2*it+1,ut=15,ct=3,dt=258,ft=dt+ct+1,ht=32,lt=42,pt=69,vt=73,_t=91,gt=103,bt=113,yt=666,mt=1,wt=2,Et=3,Ot=4,It=3;M=[new b(0,0,0,0,l),new b(4,4,8,4,p),new b(4,5,16,8,p),new b(4,6,32,32,p),new b(4,4,16,16,v),new b(8,16,32,32,v),new b(8,16,128,128,v),new b(8,32,128,256,v),new b(32,128,258,1024,v),new b(32,258,258,4096,v)],n.deflateInit=S,n.deflateInit2=I,n.deflateReset=E,n.deflateResetKeep=w,n.deflateSetHeader=O,n.deflate=D,n.deflateEnd=T,n.deflateSetDictionary=N,n.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":1,"./adler32":3,"./crc32":4,"./messages":6,"./trees":7}],6:[function(t,e,n){"use strict";e.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],7:[function(t,e,n){"use strict";function r(t){for(var e=t.length;--e>=0;)t[e]=0}function i(t,e,n,r,i){this.static_tree=t,this.extra_bits=e,this.extra_base=n,this.elems=r,this.max_length=i,this.has_stree=t&&t.length}function o(t,e){this.dyn_tree=t,this.max_code=0,this.stat_desc=e}function a(t){return t<256?ut[t]:ut[256+(t>>>7)]}function s(t,e){t.pending_buf[t.pending++]=255&e,t.pending_buf[t.pending++]=e>>>8&255}function u(t,e,n){t.bi_valid>K-n?(t.bi_buf|=e<<t.bi_valid&65535,s(t,t.bi_buf),t.bi_buf=e>>K-t.bi_valid,t.bi_valid+=n-K):(t.bi_buf|=e<<t.bi_valid&65535,t.bi_valid+=n)}function c(t,e,n){u(t,n[2*e],n[2*e+1])}function d(t,e){var n=0;do n|=1&t,t>>>=1,n<<=1;while(--e>0);return n>>>1}function f(t){16===t.bi_valid?(s(t,t.bi_buf),t.bi_buf=0,t.bi_valid=0):t.bi_valid>=8&&(t.pending_buf[t.pending++]=255&t.bi_buf,t.bi_buf>>=8,t.bi_valid-=8)}function h(t,e){var n,r,i,o,a,s,u=e.dyn_tree,c=e.max_code,d=e.stat_desc.static_tree,f=e.stat_desc.has_stree,h=e.stat_desc.extra_bits,l=e.stat_desc.extra_base,p=e.stat_desc.max_length,v=0;for(o=0;o<=q;o++)t.bl_count[o]=0;for(u[2*t.heap[t.heap_max]+1]=0,n=t.heap_max+1;n<G;n++)r=t.heap[n],o=u[2*u[2*r+1]+1]+1,o>p&&(o=p,v++),u[2*r+1]=o,r>c||(t.bl_count[o]++,a=0,r>=l&&(a=h[r-l]),s=u[2*r],t.opt_len+=s*(o+a),f&&(t.static_len+=s*(d[2*r+1]+a)));if(0!==v){do{for(o=p-1;0===t.bl_count[o];)o--;t.bl_count[o]--,t.bl_count[o+1]+=2,t.bl_count[p]--,v-=2}while(v>0);for(o=p;0!==o;o--)for(r=t.bl_count[o];0!==r;)i=t.heap[--n],i>c||(u[2*i+1]!==o&&(t.opt_len+=(o-u[2*i+1])*u[2*i],u[2*i+1]=o),r--)}}function l(t,e,n){var r,i,o=new Array(q+1),a=0;for(r=1;r<=q;r++)o[r]=a=a+n[r-1]<<1;for(i=0;i<=e;i++){var s=t[2*i+1];0!==s&&(t[2*i]=d(o[s]++,s))}}function p(){var t,e,n,r,o,a=new Array(q+1);for(n=0,r=0;r<j-1;r++)for(dt[r]=n,t=0;t<1<<et[r];t++)ct[n++]=r;for(ct[n-1]=r,o=0,r=0;r<16;r++)for(ft[r]=o,t=0;t<1<<nt[r];t++)ut[o++]=r;for(o>>=7;r<Y;r++)for(ft[r]=o<<7,t=0;t<1<<nt[r]-7;t++)ut[256+o++]=r;
for(e=0;e<=q;e++)a[e]=0;for(t=0;t<=143;)at[2*t+1]=8,t++,a[8]++;for(;t<=255;)at[2*t+1]=9,t++,a[9]++;for(;t<=279;)at[2*t+1]=7,t++,a[7]++;for(;t<=287;)at[2*t+1]=8,t++,a[8]++;for(l(at,H+1,a),t=0;t<Y;t++)st[2*t+1]=5,st[2*t]=d(t,5);ht=new i(at,et,W+1,H,q),lt=new i(st,nt,0,Y,q),pt=new i(new Array(0),rt,0,J,Q)}function v(t){var e;for(e=0;e<H;e++)t.dyn_ltree[2*e]=0;for(e=0;e<Y;e++)t.dyn_dtree[2*e]=0;for(e=0;e<J;e++)t.bl_tree[2*e]=0;t.dyn_ltree[2*X]=1,t.opt_len=t.static_len=0,t.last_lit=t.matches=0}function _(t){t.bi_valid>8?s(t,t.bi_buf):t.bi_valid>0&&(t.pending_buf[t.pending++]=t.bi_buf),t.bi_buf=0,t.bi_valid=0}function g(t,e,n,r){_(t),r&&(s(t,n),s(t,~n)),x.arraySet(t.pending_buf,t.window,e,n,t.pending),t.pending+=n}function b(t,e,n,r){var i=2*e,o=2*n;return t[i]<t[o]||t[i]===t[o]&&r[e]<=r[n]}function y(t,e,n){for(var r=t.heap[n],i=n<<1;i<=t.heap_len&&(i<t.heap_len&&b(e,t.heap[i+1],t.heap[i],t.depth)&&i++,!b(e,r,t.heap[i],t.depth));)t.heap[n]=t.heap[i],n=i,i<<=1;t.heap[n]=r}function m(t,e,n){var r,i,o,s,d=0;if(0!==t.last_lit)do r=t.pending_buf[t.d_buf+2*d]<<8|t.pending_buf[t.d_buf+2*d+1],i=t.pending_buf[t.l_buf+d],d++,0===r?c(t,i,e):(o=ct[i],c(t,o+W+1,e),s=et[o],0!==s&&(i-=dt[o],u(t,i,s)),r--,o=a(r),c(t,o,n),s=nt[o],0!==s&&(r-=ft[o],u(t,r,s)));while(d<t.last_lit);c(t,X,e)}function w(t,e){var n,r,i,o=e.dyn_tree,a=e.stat_desc.static_tree,s=e.stat_desc.has_stree,u=e.stat_desc.elems,c=-1;for(t.heap_len=0,t.heap_max=G,n=0;n<u;n++)0!==o[2*n]?(t.heap[++t.heap_len]=c=n,t.depth[n]=0):o[2*n+1]=0;for(;t.heap_len<2;)i=t.heap[++t.heap_len]=c<2?++c:0,o[2*i]=1,t.depth[i]=0,t.opt_len--,s&&(t.static_len-=a[2*i+1]);for(e.max_code=c,n=t.heap_len>>1;n>=1;n--)y(t,o,n);i=u;do n=t.heap[1],t.heap[1]=t.heap[t.heap_len--],y(t,o,1),r=t.heap[1],t.heap[--t.heap_max]=n,t.heap[--t.heap_max]=r,o[2*i]=o[2*n]+o[2*r],t.depth[i]=(t.depth[n]>=t.depth[r]?t.depth[n]:t.depth[r])+1,o[2*n+1]=o[2*r+1]=i,t.heap[1]=i++,y(t,o,1);while(t.heap_len>=2);t.heap[--t.heap_max]=t.heap[1],h(t,e),l(o,c,t.bl_count)}function E(t,e,n){var r,i,o=-1,a=e[1],s=0,u=7,c=4;for(0===a&&(u=138,c=3),e[2*(n+1)+1]=65535,r=0;r<=n;r++)i=a,a=e[2*(r+1)+1],++s<u&&i===a||(s<c?t.bl_tree[2*i]+=s:0!==i?(i!==o&&t.bl_tree[2*i]++,t.bl_tree[2*Z]++):s<=10?t.bl_tree[2*$]++:t.bl_tree[2*tt]++,s=0,o=i,0===a?(u=138,c=3):i===a?(u=6,c=3):(u=7,c=4))}function O(t,e,n){var r,i,o=-1,a=e[1],s=0,d=7,f=4;for(0===a&&(d=138,f=3),r=0;r<=n;r++)if(i=a,a=e[2*(r+1)+1],!(++s<d&&i===a)){if(s<f){do c(t,i,t.bl_tree);while(0!==--s)}else 0!==i?(i!==o&&(c(t,i,t.bl_tree),s--),c(t,Z,t.bl_tree),u(t,s-3,2)):s<=10?(c(t,$,t.bl_tree),u(t,s-3,3)):(c(t,tt,t.bl_tree),u(t,s-11,7));s=0,o=i,0===a?(d=138,f=3):i===a?(d=6,f=3):(d=7,f=4)}}function I(t){var e;for(E(t,t.dyn_ltree,t.l_desc.max_code),E(t,t.dyn_dtree,t.d_desc.max_code),w(t,t.bl_desc),e=J-1;e>=3&&0===t.bl_tree[2*it[e]+1];e--);return t.opt_len+=3*(e+1)+5+5+4,e}function S(t,e,n,r){var i;for(u(t,e-257,5),u(t,n-1,5),u(t,r-4,4),i=0;i<r;i++)u(t,t.bl_tree[2*it[i]+1],3);O(t,t.dyn_ltree,e-1),O(t,t.dyn_dtree,n-1)}function D(t){var e,n=4093624447;for(e=0;e<=31;e++,n>>>=1)if(1&n&&0!==t.dyn_ltree[2*e])return L;if(0!==t.dyn_ltree[18]||0!==t.dyn_ltree[20]||0!==t.dyn_ltree[26])return k;for(e=32;e<W;e++)if(0!==t.dyn_ltree[2*e])return k;return L}function T(t){vt||(p(),vt=!0),t.l_desc=new o(t.dyn_ltree,ht),t.d_desc=new o(t.dyn_dtree,lt),t.bl_desc=new o(t.bl_tree,pt),t.bi_buf=0,t.bi_valid=0,v(t)}function N(t,e,n,r){u(t,(U<<1)+(r?1:0),3),g(t,e,n,!0)}function M(t){u(t,B<<1,3),c(t,X,at),f(t)}function R(t,e,n,r){var i,o,a=0;t.level>0?(t.strm.data_type===P&&(t.strm.data_type=D(t)),w(t,t.l_desc),w(t,t.d_desc),a=I(t),i=t.opt_len+3+7>>>3,o=t.static_len+3+7>>>3,o<=i&&(i=o)):i=o=n+5,n+4<=i&&e!==-1?N(t,e,n,r):t.strategy===A||o===i?(u(t,(B<<1)+(r?1:0),3),m(t,at,st)):(u(t,(F<<1)+(r?1:0),3),S(t,t.l_desc.max_code+1,t.d_desc.max_code+1,a+1),m(t,t.dyn_ltree,t.dyn_dtree)),v(t),r&&_(t)}function C(t,e,n){return t.pending_buf[t.d_buf+2*t.last_lit]=e>>>8&255,t.pending_buf[t.d_buf+2*t.last_lit+1]=255&e,t.pending_buf[t.l_buf+t.last_lit]=255&n,t.last_lit++,0===e?t.dyn_ltree[2*n]++:(t.matches++,e--,t.dyn_ltree[2*(ct[n]+W+1)]++,t.dyn_dtree[2*a(e)]++),t.last_lit===t.lit_bufsize-1}var x=t("../utils/common"),A=4,L=0,k=1,P=2,U=0,B=1,F=2,V=3,z=258,j=29,W=256,H=W+1+j,Y=30,J=19,G=2*H+1,q=15,K=16,Q=7,X=256,Z=16,$=17,tt=18,et=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],nt=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],rt=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],it=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],ot=512,at=new Array(2*(H+2));r(at);var st=new Array(2*Y);r(st);var ut=new Array(ot);r(ut);var ct=new Array(z-V+1);r(ct);var dt=new Array(j);r(dt);var ft=new Array(Y);r(ft);var ht,lt,pt,vt=!1;n._tr_init=T,n._tr_stored_block=N,n._tr_flush_block=R,n._tr_tally=C,n._tr_align=M},{"../utils/common":1}],8:[function(t,e,n){"use strict";function r(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}e.exports=r},{}],"/lib/deflate.js":[function(t,e,n){"use strict";function r(t){if(!(this instanceof r))return new r(t);this.options=u.assign({level:b,method:m,chunkSize:16384,windowBits:15,memLevel:8,strategy:y,to:""},t||{});var e=this.options;e.raw&&e.windowBits>0?e.windowBits=-e.windowBits:e.gzip&&e.windowBits>0&&e.windowBits<16&&(e.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new f,this.strm.avail_out=0;var n=s.deflateInit2(this.strm,e.level,e.method,e.windowBits,e.memLevel,e.strategy);if(n!==v)throw new Error(d[n]);if(e.header&&s.deflateSetHeader(this.strm,e.header),e.dictionary){var i;if(i="string"==typeof e.dictionary?c.string2buf(e.dictionary):"[object ArrayBuffer]"===h.call(e.dictionary)?new Uint8Array(e.dictionary):e.dictionary,n=s.deflateSetDictionary(this.strm,i),n!==v)throw new Error(d[n]);this._dict_set=!0}}function i(t,e){var n=new r(e);if(n.push(t,!0),n.err)throw n.msg||d[n.err];return n.result}function o(t,e){return e=e||{},e.raw=!0,i(t,e)}function a(t,e){return e=e||{},e.gzip=!0,i(t,e)}var s=t("./zlib/deflate"),u=t("./utils/common"),c=t("./utils/strings"),d=t("./zlib/messages"),f=t("./zlib/zstream"),h=Object.prototype.toString,l=0,p=4,v=0,_=1,g=2,b=-1,y=0,m=8;r.prototype.push=function(t,e){var n,r,i=this.strm,o=this.options.chunkSize;if(this.ended)return!1;r=e===~~e?e:e===!0?p:l,"string"==typeof t?i.input=c.string2buf(t):"[object ArrayBuffer]"===h.call(t)?i.input=new Uint8Array(t):i.input=t,i.next_in=0,i.avail_in=i.input.length;do{if(0===i.avail_out&&(i.output=new u.Buf8(o),i.next_out=0,i.avail_out=o),n=s.deflate(i,r),n!==_&&n!==v)return this.onEnd(n),this.ended=!0,!1;0!==i.avail_out&&(0!==i.avail_in||r!==p&&r!==g)||("string"===this.options.to?this.onData(c.buf2binstring(u.shrinkBuf(i.output,i.next_out))):this.onData(u.shrinkBuf(i.output,i.next_out)))}while((i.avail_in>0||0===i.avail_out)&&n!==_);return r===p?(n=s.deflateEnd(this.strm),this.onEnd(n),this.ended=!0,n===v):r!==g||(this.onEnd(v),i.avail_out=0,!0)},r.prototype.onData=function(t){this.chunks.push(t)},r.prototype.onEnd=function(t){t===v&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=u.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg},n.Deflate=r,n.deflate=i,n.deflateRaw=o,n.gzip=a},{"./utils/common":1,"./utils/strings":2,"./zlib/deflate":5,"./zlib/messages":6,"./zlib/zstream":8}]},{},[])("/lib/deflate.js")})}).call(this)}).call(this,"undefined"!=typeof t?t:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],27:[function(t,e,n){var r=t(50),i=t(36),o=t(67);if(f()&&navigator&&navigator.userAgent)try{h();var a=t(150),s=t(151),u=window.JacoRecorder?window.JacoRecorder.q||window.JacoRecorder:[];window.JacoRecorder=new a(window,document,s),window.JacoRecorder.runQueuedMethods_(u,window.JacoRecorder)}catch(c){r.info("Error initializing JacoRecorder instance\t",c)}else window.JacoRecorder={init:function(){},startRecording:function(){},stopRecording:function(){},removeUserTracking:function(){},identify:function(){},trackEvent:function(){},push:function(){},state:{recordingDisabled:!0}};window.WalkMeInsightsAPI&&window.wmjQuery?window.WalkMeInsightsAPI=window.wmjQuery.extend({},window.WalkMeInsightsAPI,window.JacoRecorder):window.WalkMeInsightsAPI=window.JacoRecorder;function d(){try{return!!window.localStorage}catch(t){return!1}}function f(){return i(o)&&d()&&l()}function h(){t(97).patch(),t(96).patch()}function l(){return!p()||p()&&!v()}function p(){return window!==window.top}function v(){try{return!!window.parent.JacoRecorder||!!window.parent.parent.JacoRecorder}catch(t){return!1}}},{150:150,151:151,36:36,50:50,67:67,96:96,97:97}],28:[function(t,e,n){var r=["\f","\n","\r","\t","\x0B"," "],i="0";function o(t){for(var e,n,r=t.length;r;e=Math.floor(Math.random()*r),n=t[--r],t[r]=t[e],t[e]=n);return t}function a(t){var e=s(t).split(""),n=o(e);return u(t,n)}function s(t){var e=r.join(""),n=new RegExp("["+e+"]","g");return t.replace(n,"")}function u(t,e){var n=0;return t.split("").map(function(t){return r.indexOf(t)>-1?t:e[n++]}).join("")}n.censorString=function(t){if(t)return a(t);return""},n.censorInput=function(t,e){t=t||"";var n="";return n="number"==e?new Array(t.length+1).join(i):t.split(" ").map(function(t){return new Array(t.length+1).join("?")}).join(" ")}},{}],29:[function(t,e,n){var r="***";function i(t,e,n){if(!e)return t;var i=new RegExp(e,"g");return t.replace(i,n||r)}e.exports=i},{}],30:[function(t,e,n){var r="__jaco_should_censor__";function i(t,e){t[r]=e}function o(t){return t[r]}n.mark=i,n.isCensored=o},{}],31:[function(t,e,n){function r(t){if("*"===t)return new RegExp(".*");var e=t.replace(/^http(s)?:\/\//,"").replace(/\*\./g,"([^\\w]*\\.)?").replace(/\./g,"\\.").replace(/\*/g,".*");return new RegExp(e)}e.exports=r},{}],32:[function(t,e,n){var r=t(45).getWmUid,i=t(25).IpChecker,o=t(31),a=t(41).getHasher;function s(t,e){for(var n=c(t,"byUrlWildcard"),r=0;r<n.length;r++)for(var i=0;i<n[r].values.length;i++){var a=o(n[r].values[i]);if(a.test(e))return!0}return!1}function u(t,e){var n=c(t,"byIpWildcard");if(n.length>0)var o=new i(a());for(var s=r(),u=0;u<n.length;u++)for(var d=0;d<n[u].values.length;d++)if(!o.isAllowed(e,n[u].values[d],s))return!0;return!1}function c(t,e){for(var n=t&&t.trafficBlocker||[],r=[],i=0;i<n.length;i++)n[i]&&n[i].values&&n[i].type===e&&r.push(n[i]);return r}e.exports={isRestrictedHostname:s,isRestrictedIp:u}},{25:25,31:31,41:41,45:45}],33:[function(t,e,n){var r=t(30),i=t(57).includes,o="text",a=["range","color","button","submit","date","time","checkbox","radio","select-one","select-multiple"],s="password",u=["input","textarea"];function c(t,e){if(!y(t))return f(t,e);var n=d(t);if(void 0!==n)return n;return h(t,e)||l(t,e)||p(t,e)||v(t,e)||f(t,e)}function d(t){return r.isCensored(t)}function f(t,e){var n=t.parentNode;if(n){var i=c(n,e);return r.mark(n,i),i}return!1}function h(t,e){return t.tagName&&i(e.tags,t.tagName.toLowerCase())}function l(t,e){if(!t.tagName||!i(u,t.tagName.toLowerCase()))return!1;var n=(_(t,"type")||o).toLowerCase(),r=i(a,n),c=i(s,n),d=e.isCensorInputContents;return!r&&(c||d)}function p(t,e){var n=t.id||"";return n.length>0&&e.ids.some(function(t){return n===t})}function v(t,e){var n=e.classNames;return n&&g(t,n)}function _(t,e){return t.getAttribute?t.getAttribute(e):void 0}function g(t,e){return t.classList?e.some(function(e){return t.classList.contains(e)}):b(t).split(" ").some(function(t){return e.indexOf(t)>-1})}function b(t){var e;return e="string"==typeof t.className?t.className:t.getAttribute("class"),e||""}function y(t){return t.getAttribute}e.exports=c},{30:30,57:57}],34:[function(t,e,n){e.exports.assertIsFunction=function(t){if("function"!=typeof t)throw new TypeError("NOT A FUNCTION")}},{}],35:[function(t,e,n){var r=t(34).assertIsFunction,i=t(48).isObject;function o(t,e,n){var o,a,s,u,c,d,f,h=0,l=!1,p=!0;if(r(t),e=e<0?0:e,n===!0){var v=!0;p=!1}else i(n)&&(v=n.leading,l="maxWait"in n&&Math.max(+n.maxWait||0,e),p="trailing"in n?n.trailing:p);function _(){d&&clearTimeout(d),a&&clearTimeout(a),a=d=f=void 0}function g(){var n=e-(Date.now()-u);if(n<=0||n>e){a&&clearTimeout(a);var r=f;a=d=f=void 0,r&&(h=Date.now(),s=t.apply(c,o),d||a||(o=c=null))}else d=setTimeout(g,n)}function b(){d&&clearTimeout(d),a=d=f=void 0,(p||l!==e)&&(h=Date.now(),s=t.apply(c,o),d||a||(o=c=null))}function y(){if(o=arguments,u=Date.now(),c=this,f=p&&(d||!v),l===!1)var n=v&&!d;else{a||v||(h=u);var r=l-(u-h),i=r<=0||r>l;i?(a&&(a=clearTimeout(a)),h=u,s=t.apply(c,o)):a||(a=setTimeout(b,r))}return i&&d?d=clearTimeout(d):d||e===l||(d=setTimeout(g,e)),n&&(i=!0,s=t.apply(c,o)),!i||d||a||(o=c=null),s}return y.cancel=_,y}e.exports.debounce=o},{34:34,48:48}],36:[function(t,e,n){function r(t){return!!t.MutationObserver}e.exports=r},{}],37:[function(t,e,n){var r=t(38).getElementSelector,i=t(29),o=t(115);function a(t){var e=t.className,n=e&&void 0!==e.baseVal;return n?e.baseVal:e}function s(t,e,n,s,u,c){var d,f=t.target,h=a(f),l="";f.childNodes.length>0&&3===f.childNodes[0].nodeType&&(l=f.childNodes[0].textContent),"INPUT"!==f.tagName||"button"!==f.type&&"reset"!==f.type&&"submit"!==f.type||(l=f.value),l=e?"CENSORED":l,l=l||"",o(l)&&(l=l.slice(0,1e4)+"...");var p=r(f,c);return d=[t.which,t.clientX,t.clientY,t.screenX,t.screenY,t.pageX,t.pageY,n,f.id,f.tagName,f.href,l,h,p,e,i(location.href,s.urlRegex,s.urlReplaceText),u]}e.exports.getClickEventData=s},{115:115,29:29,38:38}],38:[function(t,e,n){var r=t(49),i=t(114),o=100;function a(t,e){if(null===s(t))return"";var n="";t.id&&(n="#"+t.id);var r=t.getAttribute("class");r&&(n+="."+r.split(/\s+/).join("."));var i=c(u(t,e));return n+=i,a(s(t),e)+" "+t.tagName.toLowerCase()+n}function s(t){var e=t.parentElement;return!e&&r(t)&&(e=t.parentNode),e}function u(t,e){for(var n=t.attributes,r=[],a=0;a<n.length;a++){var s=n[a];e.indexOf(s.name)>-1&&!i(t,s.name)&&s.value.length<o&&r.push(s)}return r}function c(t){for(var e="",n=0;n<t.length;n++){var r=t[n];e+="["+r.name+'="'+encodeURIComponent(r.value)+'"]'}return e}e.exports.getElementSelector=a},{114:114,49:49}],39:[function(t,e,n){var r;function i(){if(!r)try{r=window._walkmeInternals.ctx.get("WalkMeInfo").getLibVersion()}catch(t){}return r}e.exports=i},{}],40:[function(t,e,n){function r(t){return[t.clientX,t.clientY,t.screenX,t.screenY,t.pageX,t.pageY]}e.exports.getMousePositionData=r},{}],41:[function(t,e,n){var r;e.exports.getHasher=function(){if(!r)try{r=window._walkmeInternals.ctx.get("Hasher").hash}catch(t){}return r}},{}],42:[function(t,e,n){function r(){var t=window.JacoRecorder&&window.JacoRecorder.state&&window.JacoRecorder.state.config&&window.JacoRecorder.state.config.sessionId;if(t)return t;var e=window._walkmeInternals&&window._walkmeInternals.ctx;if(e&&e.has("SessionManager"))return window._walkmeInternals.ctx.get("SessionManager").getCurrentSession()}e.exports=r},{}],43:[function(t,e,n){var r=0;function i(){var t=window.performance,e=Math.round(1e3*(t.timing.navigationStart+t.now()));return e<=r&&(e=r+1),r=e,e}e.exports.getTimestamp=i},{}],44:[function(t,e,n){var r=t(38).getElementSelector,i=t(29);function o(t){var e=t.className,n=e&&void 0!==e.baseVal;return n?e.baseVal:e}function a(t,e){var n=o(t),i=r(t,e),a="";return t.childNodes.length>0&&3===t.childNodes[0].nodeType&&(a=t.childNodes[0].textContent),{targetId:t.id,targetClassName:n,targetTagName:t.tagName,targetText:a,elementSelector:i}}function s(t,e){var n=a(t.target,e);return{clientX:t.clientX,clientY:t.clientY,force:t.force,identifier:t.identifier,pageX:t.pageX,pageY:t.pageY,radiusX:t.radiusX,radiusY:t.radiusY,rotationAngle:t.rotationAngle,screenX:t.screenX,screenY:t.screenY,targetId:n.targetId,targetClassName:n.targetClassName,targetTagName:n.targetTagName,targetText:n.targetText,elementSelector:n.elementSelector}}function u(t,e,n,r,o){var u,c=t.target,d=a(c,o),f=t.touches[0]||t.changedTouches[0];function h(t){return s(t,o)}var l=Array.prototype.slice.call(t.touches).map(h),p=Array.prototype.slice.call(t.changedTouches).map(h),v=e&&d.targetText?"CENSORED":d.targetText;return u=[t.which,l,p,f.clientX,f.clientY,f.screenX,f.screenY,f.pageX,f.pageY,n,d.targetId,d.targetTagName,t.target.href,v,d.targetClassName,d.elementSelector,e,i(location.href,r.urlRegex,r.urlReplaceText)]}e.exports.getTouchEventData=u},{29:29,38:38}],45:[function(t,e,n){var r;e.exports.getWmUid=function(){if(!r)try{r=window._walkmeInternals.ctx.get("WalkMeInfo").getUserGuid()}catch(t){}return r}},{}],46:[function(t,e,n){e.exports.generateRandomGUID=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){var e=16*Math.random()|0,n="x"==t?e:3&e|8;return n.toString(16)})}},{}],47:[function(t,e,n){var r={}.hasOwnProperty;function i(t,e){for(var n in e)r.call(e,n)&&(t[n]=e[n]);function i(){this.constructor=t}return i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype,t}e.exports.extend=i},{}],48:[function(t,e,n){function r(t){var e=typeof t;return"function"==e||t&&"object"==e||!1}e.exports.isObject=r},{}],49:[function(t,e,n){function r(t){return null!==t.ownerSVGElement&&void 0!==t.ownerSVGElement||t.nodeName&&"svg"===t.nodeName.toLowerCase()}e.exports=r},{}],50:[function(t,e,n){var r={log:function(){i("log",arguments)},info:function(){i("info",arguments)},error:function(){i("error",arguments)}};function i(t,e){var n=Array().slice.call(e),r=Function.prototype.bind.call(console[t],console);r.apply(console,n)}e.exports=r},{}],51:[function(t,e,n){var r=t(58);function i(t,e){return t.length===e.length&&r(t,e).length===t.length}e.exports=i},{58:58}],52:[function(t,e,n){function r(t,e){if(void 0===t||null===t)throw new TypeError("Cannot convert first argument to object");for(var n=Object(t),r=1;r<arguments.length;r++){var i=arguments[r];if(void 0===i||null===i)continue;for(var o=Object.keys(Object(i)),a=0,s=o.length;a<s;a++){var u=o[a],c=Object.getOwnPropertyDescriptor(i,u);void 0!==c&&c.enumerable&&(n[u]=i[u])}}return n}e.exports=r},{}],53:[function(t,e,n){function r(t){return function(){return t}}e.exports=r},{}],54:[function(t,e,n){function r(t){return 0===t.length}e.exports=r},{}],55:[function(t,e,n){function r(t){return Array.prototype.concat.apply([],t)}e.exports=r},{}],56:[function(t,e,n){function r(t,e){return t.indexOf(e)>-1}e.exports=r},{}],57:[function(t,e,n){e.exports={empty:t(54),flatten:t(55),includes:t(56),keys:t(59),random:t(60),uniq:t(63),values:t(64),intersection:t(58),constant:t(53),reduce:t(61),some:t(62),areArraysEqual:t(51),assign:t(52)}},{51:51,52:52,53:53,54:54,55:55,56:56,58:58,59:59,60:60,61:61,62:62,63:63,64:64}],58:[function(t,e,n){var r=t(56);function i(t,e){return t.filter(function(t){return r(e,t)})}e.exports=i},{56:56}],59:[function(t,e,n){var r=t(48).isObject;function i(t){return r(t)?Object.keys(t):[]}e.exports=i},{48:48}],60:[function(t,e,n){function r(t,e){return t=Math.ceil(t),e=Math.floor(e),Math.floor(Math.random()*(e-t))+t}e.exports=r},{}],61:[function(t,e,n){function r(t,e,n){for(var r=void 0===n?void 0:n,i=0;i<t.length;i++)r=void 0!==r?e(r,t[i],i,t):t[i];return r}e.exports=r},{}],62:[function(t,e,n){function r(t,e){for(var n=0;n<t.length;n++)if(e(t[n]))return!0;return!1}e.exports=r},{}],63:[function(t,e,n){function r(t){return t.filter(function(t,e,n){return n.indexOf(t)===e})}e.exports=r},{}],64:[function(t,e,n){arguments[4][17][0].apply(n,arguments)},{17:17}],65:[function(t,e,n){function r(t,e){var n,r="NOT A FUNCTION";if("function"!=typeof e){if("function"!=typeof t)throw new TypeError(r);var i=t;t=e,e=i}return function(){return--t>0?n=e.apply(this,arguments):e=null,n}}function i(t){return r(t,2)}e.exports.once=i},{}],66:[function(t,e,n){function r(t){var e=Array.prototype.slice.call(arguments,1);return function(){return t.apply(null,e.concat.apply(e,arguments))}}e.exports=r},{}],67:[function(t,e,n){var r="undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope?self:window;e.exports=r},{}],68:[function(t,e,n){var r=t(6).Serializer,i=[r.Action.ERROR_OUR];function o(){this._counter=0}o.prototype.getAndIncrease=function(t){return i.indexOf(t)>-1?this._counter:(this._counter++,this._counter)},o.prototype.reset=function(){this._counter=0},e.exports=new o},{6:6}],69:[function(t,e,n){var r=t(162),i=t(39),o=t(42);function a(){this._eventSenderErrorLogger,this._logsQueue=[];try{this._setEventSenderErrorLoggerWhenReady()}catch(t){}}a.prototype.sendLog=function(t,e,n){if(e=e||{},e.sId=e.sId||o(),!this._eventSenderErrorLogger)return void this._logsQueue.push({message:t,data:e,level:n});e.app="visions-recorder",e.version=r,e.libVersion=i(),n&&(e.level=n);try{this._eventSenderErrorLogger.logError(t,e)}catch(a){}},a.prototype.info=function(t,e){this.sendLog(t,e,"info")},a.prototype._setEventSenderErrorLoggerWhenReady=function(){var t=this,e=window._walkmeInternals.ctx;if(e.has("EventSenderErrorLogger"))return void(this._eventSenderErrorLogger=e.get("EventSenderErrorLogger"));e.get("EventsListener").once("BeforeWalkmeReady",function(){t._eventSenderErrorLogger=e.get("EventSenderErrorLogger"),t._releaseQueue()})},a.prototype._releaseQueue=function(){for(;this._logsQueue.length>0;){var t=this._logsQueue.shift();this.sendLog(t.message,t.data,t.level)}},e.exports=new a},{162:162,39:39,42:42}],70:[function(t,e,n){var r=t(2).production;function i(t){var e="https";return e+":"+r+"/backoffice/sessions/"+t}n.get=i},{2:2}],71:[function(t,e,n){var r=t(34).assertIsFunction,i=t(48).isObject,o=t(35).debounce,a={leading:!1,maxWait:0,trailing:!1};function s(t,e,n){var s=!0,u=!0;return r(t),n===!1?s=!1:i(n)&&(s="leading"in n?!!n.leading:s,u="trailing"in n?!!n.trailing:u),a.leading=s,a.maxWait=+e,a.trailing=u,o(t,e,a)}e.exports.throttle=s},{34:34,35:35,48:48}],72:[function(t,e,n){var r=t(3).production,i=t(67),o="";function a(t){return(new Date).getTime()-t}function s(t,e,n){var r=a(e),i=new Error(t);return i.timeElapsed=r,i.requestBody=n,i}function u(t,e,n){var r,i=new XMLHttpRequest,o=(new Date).getTime();return i.open(t,e,!0),i.setRequestHeader("Content-Type","text/plain;charset=UTF-8"),i.overrideMimeType("text/plain"),i.onload=function(){f(i,n)},i.onerror=function(t){var i="network error for path: "+e,a=s(i,o,r);h(e,t,a,n)},i.sendRequest=function(t){r=t,this.send(t)},i}function c(t,e,n){var r=new XDomainRequest,i=(new Date).getTime();return e=e.replace("http:","").replace("https:",""),r.open(t,e),r.onprogress=function(){},r.onload=function(){r.status=200,f(r,n)},r.onerror=function(t){var r="network error for path: "+e,o=s(r,i);h(e,t,o,n)},r.sendRequest=function(t){setTimeout(function(){r.send(t)},0)},r}function d(t,e,n){return i.XDomainRequest?c(t,e,n):u(t,e,n)}function f(t,e){var n=t.status;return 200===t.status?"Unauthorized request"===t.responseText?e({status:403}):e(null,t.responseText):e(429===n?{status:429}:t)}function h(t,e,n,r){return e.preventDefault(),r(n)}function l(t,e,n,i){i=i||b;var a=o?o:r,s=d(t,a+e,i);return s.sendRequest(n)}function p(t,e){return l("GET",t,null,e)}function v(t,e,n){l("POST",t,e,n)}function _(t,e){if(navigator&&navigator.sendBeacon){var n=o?o:r;navigator.sendBeacon(n+t,e)}}function g(t){t&&(o=t)}function b(){}e.exports={getRequest:p,postRequest:v,beaconRequest:_,updateRapiUrl:g}},{3:3,67:67}],73:[function(t,e,n){var r=arguments[3],i=arguments[4],o=arguments[5],a=JSON.stringify;e.exports=function(t,e){for(var n,s=Object.keys(o),u=0,c=s.length;u<c;u++){var d=s[u],f=o[d].exports;if(f===t){n=d;break}}if(!n){n=Math.floor(Math.pow(16,8)*Math.random()).toString(16);for(var h={},u=0,c=s.length;u<c;u++){var d=s[u];h[d]=d}i[n]=["function(require,module,exports){"+t+"(self); }",h]}var l=Math.floor(Math.pow(16,8)*Math.random()).toString(16),p={};p[n]=n,i[l]=["function(require,module,exports){var f = require("+a(n)+");(f.default ? f.default : f)(self);}",p];var v={};_(l);function _(t){v[t]=!0;for(var e in i[t][1]){var n=i[t][1][e];v[n]||_(n)}}var g="("+r+")({"+Object.keys(v).map(function(t){return a(t)+":["+i[t][0]+","+a(i[t][1])+"]"}).join(",")+"},{},["+a(l)+"])",b=window.URL||window.webkitURL||window.mozURL||window.msURL,y=new Blob([g],{type:"text/javascript"});if(e&&e.bare)return y;var m=b.createObjectURL(y),w=new Worker(m);return w.objectURL=m,w}},{}],74:[function(t,e,n){var r=t(79),i=t(80),o=t(77),a=t(92),s=t(82),u=t(91),c=t(84),d=t(86),f=t(90),h=t(93),l=t(89),p=t(83),v=t(85),_=t(78),g=t(49),b={};b[t(5).Serializer.DOMNodeType.DOCUMENT_NODE]=r,b[t(5).Serializer.DOMNodeType.DOCUMENT_FRAGMENT_NODE]=_,b[t(5).Serializer.DOMNodeType.DOCUMENT_TYPE_NODE]=i,b[t(5).Serializer.DOMNodeType.COMMENT_NODE]=o,b[t(5).Serializer.DOMNodeType.TEXT_NODE]=a,e.exports=function(t){var e;return e=b[t.nodeType]?b[t.nodeType]:g(t)?u:y("img",t)?c:y("link",t)?d:y("style",t)?f:y("video",t)?h:y("source",t)?l:y("iframe",t)?p:y("input",t)||y("select",t)?v:s};function y(t,e){return e.tagName.toLowerCase()===t}},{49:49,5:5,77:77,78:78,79:79,80:80,82:82,83:83,84:84,85:85,86:86,89:89,90:90,91:91,92:92,93:93}],75:[function(t,e,n){var r="__jaco_node_map_id__",i=1;function o(){}o.prototype.getOrSet=function(t){return o.hasId(t)||o.set(t),o.get(t)},o.set=function(t,e){void 0===e?t[r]=i++:t[r]=e},o.get=function(t){if(!t)return null;return t[r]},o.hasId=function(t){return void 0!=t[r]},o.unset=function(t){t[r]=void 0},e.exports=o},{}],76:[function(t,e,n){var r=t(75);function i(t){t=t||{},this.nodes={},this.values={},this.nodeId=new r,this.onNodeAdd=t.onNodeAdd?t.onNodeAdd:function(){},this.onNodeRemove=t.onNodeRemove?t.onNodeRemove:function(){}}i.prototype.set=function(t,e,n){var r=this.nodeId.getOrSet(t);return this.nodes[r]=t,this.values[r]=e,n&&o(this.onNodeAdd,t),r},i.prototype.get=function(t){var e=this.nodeId.getOrSet(t);return this.values[e]},i.prototype.getById=function(t){return this.values[t]},i.prototype.has=function(t){return this.nodeId.getOrSet(t)in this.nodes},i.prototype.remove=function(t,e){e&&o(this.onNodeRemove,t);var n=this.nodeId.getOrSet(t);this.nodes[n]=void 0,this.values[n]=void 0},i.prototype.keys=function(){for(var t=[],e=this,n=Object.keys(this.nodes),r=0,i=n.length;r<i;r++){var o=n[r],a=e.nodes[o];a&&t.push(a)}return t},i.prototype.clear=function(){this.nodes=[],this.values=[],this.nodeId=new r};function o(t){var e=Array.prototype.slice.call(arguments,1);setTimeout(function(){t.apply(null,e)},0)}e.exports=i},{75:75}],77:[function(t,e,n){var r=t(87),i=t(47).extend,o={};i(o,r),o.type=t(5).Serializer.DOMNodeType.COMMENT_NODE,o._getNodeData=function(t){return[""]},e.exports=o},{47:47,5:5,87:87}],78:[function(t,e,n){var r=t(87),i=t(47).extend,o={};i(o,r),o.type=t(5).Serializer.DOMNodeType.DOCUMENT_FRAGMENT_NODE,e.exports=o},{47:47,5:5,87:87}],79:[function(t,e,n){var r=t(87),i=t(47).extend,o={};i(o,r),o.type=t(5).Serializer.DOMNodeType.DOCUMENT_NODE,o._getNodeData=function(t){return[t.URL,t.alinkColor,t.baseURI,t.bgColor,t.characterSet,t.charset,t.compatMode,t.contentType,"",t.dir,t.title,t.readyState]},e.exports=o},{47:47,5:5,87:87}],80:[function(t,e,n){var r=t(87),i=t(47).extend,o={};i(o,r),o.type=t(5).Serializer.DOMNodeType.DOCUMENT_TYPE_NODE,o._getNodeData=function(t){return[t.publicId,t.systemId,t.name]},e.exports=o},{47:47,5:5,87:87}],81:[function(t,e,n){var r,i=t(104),o=t(75),a={},s=[],u=[],c=null;function d(){return null===c&&(c=i.isFeatureEnabled(i.featuresNames.DYNAMIC_CSS)),c}function f(){if(void 0!==r)return;var t=-1;r=setInterval(function(){if(u.length>0){var e=window.performance.now();if(e-t>=1e3){t=e;for(var n=0;n<u.length;n++)try{y(u[n])}catch(r){}u=[]}}},100),b()}function h(t){if(!d())return;s.push(t),f()}function l(t){return"style"===t.localName&&!t.textContent&&t.sheet}function p(t){return"/* CSS-in-JS Polifill */"+[].slice.call(t.sheet.cssRules||[]).map(function(t){return t.cssText}).join(" ")}function v(t){if(!d()||!l(t))return{};var e=_(t);return a[o.get(t)]=o.get(e),{firstChild:e,_forceRecursive:!0}}function _(t,e){var n={nodeType:3,parentNode:t,textContent:p(t),_unlimitedText:!0};return o.set(n,e),n}function g(t){return{added:[],removed:[],reparented:[],reordered:[],attributeChanged:{},characterDataChanged:[t]}}function b(){for(var t=["addRule","deleteRule","insertRule","removeRule","replace","replaceSync"],e=0;e<t.length;e++)m(t[e],w)}function y(t){var e=t.ownerNode&&o.get(t.ownerNode);if(void 0!==e&&void 0!==a[e])for(var n=g(_(t.ownerNode,a[e])),r=0;r<s.length;r++)try{s[r](n)}catch(i){}}function m(t,e){var n=window.CSSStyleSheet&&window.CSSStyleSheet.prototype[t];if(!n)return;window.CSSStyleSheet.prototype[t]=function(){try{e(this)}catch(t){}return n&&n.apply(this,arguments)}}function w(t){t&&u.indexOf(t)===-1&&u.push(t)}n.createOverride=v,n.onChange=h},{104:104,75:75}],82:[function(t,e,n){var r=t(87),i=t(47).extend,o={};i(o,r),o.type=t(5).Serializer.DOMNodeType.ELEMENT_NODE,e.exports=o},{47:47,5:5,87:87}],83:[function(t,e,n){var r=t(87),i=t(47).extend,o=t(160).getIFrameId,a={};i(a,r),a.type=t(5).Serializer.DOMNodeType.IFRAME_NODE,a._getNodeData=function(t,e,n){var r;if(n){var i=n.get(t);if(i){var a=n.getById(i.nodeId);a&&a.__JACO_IFRAME_ID&&(r=a.__JACO_IFRAME_ID)}}return!r&&t.__JACO_IFRAME_ID&&(r=t.__JACO_IFRAME_ID),r||(r=o(),t.__JACO_IFRAME_ID=r),[r]},e.exports=a},{160:160,47:47,5:5,87:87}],84:[function(t,e,n){var r=t(87),i=t(47).extend,o={};i(o,r),o.type=t(5).Serializer.DOMNodeType.IMG_NODE,o._filterAttribute=function(t,e,n){return!(n&&("src"===t.name||"srcset"===t.name))},e.exports=o},{47:47,5:5,87:87}],85:[function(t,e,n){var r=t(87),i=t(47).extend,o=t(28).censorInput,a={};i(a,r),a.type=t(5).Serializer.DOMNodeType.INPUT_NODE,a._getNodeData=function(t,e){var n=[],r=void 0;switch(t.type.toLowerCase()){case"checkbox":case"radio":n.push([t.checked,t.indeterminate]);break;case"select-one":case"select-multiple":n.push([t.selectedIndex]);break;case"hidden":"__viewstate"===(t.name||"").toLowerCase()&&(r="?"),n.push([]);break;default:n.push([])}return n.push(r||(e?o(t.value,t.type):t.value)),n.push(t.disabled),n.push(t.readOnly),n},e.exports=a},{28:28,47:47,5:5,87:87}],86:[function(t,e,n){var r=t(87),i=t(47).extend,o={};i(o,r),o.type=t(5).Serializer.DOMNodeType.LINK_NODE,e.exports=o},{47:47,5:5,87:87}],87:[function(t,e,n){var r=t(5).Serializer,i=t(12),o=t(28).censorInput,a=t(115),s=t(114);function u(t,e,n){var i=t.createString(e),o=t.createString(n);return r.KeyValue.startKeyValue(t),r.KeyValue.addKey(t,i),r.KeyValue.addValue(t,o),r.KeyValue.endKeyValue(t)}var c=function(t){return"http://www.w3.org/1999/xhtml"===t.namespaceURI?"__":t.namespaceURI||""},d={};d.serialize=function(t,e,n,o,a,s,u){var d=t.createString(e.tagName||""),f=t.createString(c(e)),h=r.DOMNodeData.createAttributesVector(t,this._serializeAttributes(t,e,s)),l=i(t,this._getNodeData(e,s,u)),p=r.DOMNodeData.createExtraDataVector(t,l),v=r.Vec3.createVec3(t,e.scrollLeft||0,e.scrollTop||0,0);return r.DOMNodeData.startDOMNodeData(t),r.DOMNodeData.addScrollPosition(t,v),r.DOMNodeData.addAttributes(t,h),r.DOMNodeData.addNodeType(t,this.type||e.nodeType),r.DOMNodeData.addTagName(t,d),r.DOMNodeData.addNs(t,f),r.DOMNodeData.addExtraData(t,p),r.DOMNodeData.addIsCensored(t,s),null!==o&&r.DOMNodeData.addParentNodeId(t,o),null!==n&&r.DOMNodeData.addPreviousSiblingId(t,n),r.DOMNodeData.addNodeId(t,a),r.DOMNodeData.endDOMNodeData(t)},d._serializeAttributes=function(t,e,n){var r=e.attributes,i=[];if(!r)return i;for(var c=0,d=r.length;c<d;c++){var f=r[c];if(f&&f.specified&&this._filterAttribute(f,e,n)){var h=f.value;"src"===f.name?h=e.currentSrc||e.src:"href"===f.name&&"A"!==e.tagName?h=e.href:"value"===f.name&&n&&h?h=o(h,e.getAttribute("type")):"poster"===f.name?h=e.poster:"srcset"===f.name?(i.push(u(t,"nodeWidth",e.width||"")),i.push(u(t,"nodeHeight",e.height||"")),i.push(u(t,"pixelRatio",window.devicePixelRatio+"")),i.push(u(t,"hasSrcset","true")),h=""):s(e,f.name)&&(h=""),h=h||"",a(h,f.name)&&(h="");var l=u(t,f.name,h);i.push(l)}}return n&&(r.width||e.style.width||i.push(u(t,"width",e.clientWidth+"")),r.height||e.style.height||i.push(u(t,"height",e.clientHeight+""))),i},d._filterAttribute=function(t,e,n){return!0},d._getNodeData=function(t,e){return[]},e.exports=d},{114:114,115:115,12:12,
28:28,5:5}],88:[function(t,e,n){var r=t(5).Serializer,i=t(33),o=t(30),a=t(74),s=t(81);function u(t,e,n,r,i,o){return c(t,e,n,r,i,o,!0)}function c(t,e,n,u,d,f,h){var l=i(e,f),p="IFRAME"===e.tagName&&!l,v=d.set(e,e,p);o.mark(e,l);var _=s.createOverride(e),g=a(e).serialize(t,e,n,u,v,l),b=[];if(h||_._forceRecursive)for(var y=_.firstChild||e.firstChild;y;){var m=c(t,y,null,null,d,f,h||_._forceRecursive);b.push(m),y=y.nextSibling}var w=r.DOMNode.createChildrenVector(t,b);return r.DOMNode.startDOMNode(t),r.DOMNode.addData(t,g),r.DOMNode.addChildren(t,w),r.DOMNode.endDOMNode(t)}function d(t,e,n,i,o,s,u){var c=a(e).serialize(t,e,i,o,n,s,u),d=r.DOMNode.createChildrenVector(t,[]);return r.DOMNode.startDOMNode(t),r.DOMNode.addData(t,c),r.DOMNode.addChildren(t,d),r.DOMNode.endDOMNode(t)}n.serializeSubTree=u,n.serializeNodeWithCensorship=c,n.serializeNode=d},{30:30,33:33,5:5,74:74,81:81}],89:[function(t,e,n){var r=t(87),i=t(47).extend,o={};i(o,r),o.type=t(5).Serializer.DOMNodeType.SOURCE_NODE,e.exports=o},{47:47,5:5,87:87}],90:[function(t,e,n){var r=t(87),i=t(47).extend,o={};i(o,r),o.type=t(5).Serializer.DOMNodeType.STYLE_NODE,e.exports=o},{47:47,5:5,87:87}],91:[function(t,e,n){var r=t(87),i=t(47).extend,o={};i(o,r),o.type=t(5).Serializer.DOMNodeType.SVG_NODE,o._getNodeData=function(t){return[t.namespaceURI]},e.exports=o},{47:47,5:5,87:87}],92:[function(t,e,n){var r=t(87),i=t(28),o=t(47).extend,a={};o(a,r),a.type=t(5).Serializer.DOMNodeType.TEXT_NODE,a._getNodeData=function(t,e,n){var r,o="",a=t.parentNode;if(!a&&n){var u=n.get(t);u&&u.parentNodeId&&(a=n.getById(u.parentNodeId))}return a&&"script"!==a.nodeName.toLowerCase()&&(o=t.textContent),r=e?s(a)?i.censorInput(o):i.censorString(o):o,[r]};function s(t){return t&&t.tagName&&"textarea"===t.tagName.toLowerCase()}e.exports=a},{28:28,47:47,5:5,87:87}],93:[function(t,e,n){var r=t(87),i=t(47).extend,o={};i(o,r),o.type=t(5).Serializer.DOMNodeType.VIDEO_NODE,o._getNodeData=function(t){return[t.currentSrc||t.src,t.currentTime]},e.exports=o},{47:47,5:5,87:87}],94:[function(t,e,n){e.exports=function(){var t=window._testhook_hostname||document.location.hostname;if(!t){t=document.location.host;var e=t.lastIndexOf(":");t.substring(0,e)}return t}},{}],95:[function(t,e,n){function r(){this.pairs=[]}r.prototype.set=function(t,e){var n=this._getIndex(t);if(n>=0)this.pairs[n][1]=e;else{var r=[t,e];this.pairs.push(r)}},r.prototype.get=function(t){var e=this._getIndex(t);return e>=0?this.pairs[e][1]:void 0},r.prototype.has=function(t){return this._getIndex(t)>-1},r.prototype._getIndex=function(t){for(var e in this.pairs){var n=this.pairs[e];if(n[0]===t)return e}return-1},e.exports=function(t){if(t&&t.Map)return t.Map;return r}},{}],96:[function(t,e,n){var r=t(67);function i(){var t=Math.pow(10,10),e=1;if("performance"in r==!1&&(r.performance={}),Date.now=Date.now||function(){return(new Date).getTime()},"timing"in r.performance==0&&(r.performance.timing={}),"navigationStart"in r.performance.timing==0&&(r.performance.timing.navigationStart=Date.now()),"now"in r.performance==0){var n=r.performance.timing.navigationStart;r.performance.now=function(){var r=e++%t/t;return Date.now()-n+r}}}e.exports={patch:i}},{67:67}],97:[function(t,e,n){"use strict";var r=t(67);function i(){!function(t){var e=void 0,n=1e5;function r(t){switch(typeof t){case"undefined":return"undefined";case"boolean":return"boolean";case"number":return"number";case"string":return"string";default:return null===t?"null":"object"}}function i(t){return Object.prototype.toString.call(t).replace(/^\[object *|\]$/g,"")}function o(t){return"function"==typeof t}function a(t){if(null===t||t===e)throw TypeError();return Object(t)}function s(t){return t>>0}function u(t){return t>>>0}var c=Math.LN2,d=Math.abs,f=Math.floor,h=Math.log,l=Math.max,p=Math.min,v=Math.pow,_=Math.round;!function(){var t=Object.defineProperty,e=!function(){try{return Object.defineProperty({},"x",{})}catch(t){return!1}}();t&&!e||(Object.defineProperty=function(e,n,r){if(t)try{return t(e,n,r)}catch(i){}if(e!==Object(e))throw TypeError("Object.defineProperty called on non-object");return Object.prototype.__defineGetter__&&"get"in r&&Object.prototype.__defineGetter__.call(e,n,r.get),Object.prototype.__defineSetter__&&"set"in r&&Object.prototype.__defineSetter__.call(e,n,r.set),"value"in r&&(e[n]=r.value),e})}();function g(e){if("TYPED_ARRAY_POLYFILL_NO_ARRAY_ACCESSORS"in t)return;if(e.length>n)throw RangeError("Array too large for polyfill");function r(t){Object.defineProperty(e,t,{get:function(){return e._getter(t)},set:function(n){e._setter(t,n)},enumerable:!0,configurable:!1})}var i;for(i=0;i<e.length;i+=1)r(i)}function b(t,e){var n=32-e;return t<<n>>n}function y(t,e){var n=32-e;return t<<n>>>n}function m(t){return[255&t]}function w(t){return b(t[0],8)}function E(t){return[255&t]}function O(t){return y(t[0],8)}function I(t){return t=_(Number(t)),[t<0?0:t>255?255:255&t]}function S(t){return[255&t,t>>8&255]}function D(t){return b(t[1]<<8|t[0],16)}function T(t){return[255&t,t>>8&255]}function N(t){return y(t[1]<<8|t[0],16)}function M(t){return[255&t,t>>8&255,t>>16&255,t>>24&255]}function R(t){return b(t[3]<<24|t[2]<<16|t[1]<<8|t[0],32)}function C(t){return[255&t,t>>8&255,t>>16&255,t>>24&255]}function x(t){return y(t[3]<<24|t[2]<<16|t[1]<<8|t[0],32)}function A(t,e,n){var r=(1<<e-1)-1;function i(t){var e=f(t),n=t-e;if(n<.5)return e;if(n>.5)return e+1;return e%2?e+1:e}var o,a,s;if(t!==t)a=(1<<e)-1,s=v(2,n-1),o=0;else if(t===1/0||t===-(1/0))a=(1<<e)-1,s=0,o=t<0?1:0;else if(0===t)a=0,s=0,o=1/t===-(1/0)?1:0;else if(o=t<0,t=d(t),t>=v(2,1-r)){a=p(f(h(t)/c),1023);var u=t/v(2,a);u<1&&(a-=1,u*=2),u>=2&&(a+=1,u/=2);var l=v(2,n);s=i(u*l)-l,a+=r,s/l>=1&&(a+=1,s=0),a>2*r&&(a=(1<<e)-1,s=0)}else a=0,s=i(t/v(2,1-r-n));var _,g=[];for(_=n;_;_-=1)g.push(s%2?1:0),s=f(s/2);for(_=e;_;_-=1)g.push(a%2?1:0),a=f(a/2);g.push(o?1:0),g.reverse();for(var b=g.join(""),y=[];b.length;)y.unshift(parseInt(b.substring(0,8),2)),b=b.substring(8);return y}function L(t,e,n){var r,i,o,a,s,u,c,d,f=[];for(r=0;r<t.length;++r)for(o=t[r],i=8;i;i-=1)f.push(o%2?1:0),o>>=1;return f.reverse(),a=f.join(""),s=(1<<e-1)-1,u=parseInt(a.substring(0,1),2)?-1:1,c=parseInt(a.substring(1,1+e),2),d=parseInt(a.substring(1+e),2),c===(1<<e)-1?0!==d?NaN:u*(1/0):c>0?u*v(2,c-s)*(1+d/v(2,n)):0!==d?u*v(2,-(s-1))*(d/v(2,n)):u<0?-0:0}function k(t){return L(t,11,52)}function P(t){return A(t,11,52)}function U(t){return L(t,8,23)}function B(t){return A(t,8,23)}!function(){function n(t){if(t=s(t),t<0)throw RangeError("ArrayBuffer size is not a small enough positive integer.");Object.defineProperty(this,"byteLength",{value:t}),Object.defineProperty(this,"_bytes",{value:Array(t)}),n.prototype.slice=function(t,r){var i=new b(this);r==e&&(r=i.length);for(var o=new n(r-t),a=new b(o),s=0;s<a.length;s++)a[s]=i[s+t];return o};for(var r=0;r<t;r+=1)this._bytes[r]=0}t.ArrayBuffer=t.ArrayBuffer||n;function c(){if(!arguments.length||"object"!=typeof arguments[0])return function(t){if(t=s(t),t<0)throw RangeError("length is not a small enough positive integer.");Object.defineProperty(this,"length",{value:t}),Object.defineProperty(this,"byteLength",{value:t*this.BYTES_PER_ELEMENT}),Object.defineProperty(this,"buffer",{value:new n(this.byteLength)}),Object.defineProperty(this,"byteOffset",{value:0})}.apply(this,arguments);if(arguments.length>=1&&"object"===r(arguments[0])&&arguments[0]instanceof c)return function(t){if(this.constructor!==t.constructor)throw TypeError();var e=t.length*this.BYTES_PER_ELEMENT;Object.defineProperty(this,"buffer",{value:new n(e)}),Object.defineProperty(this,"byteLength",{value:e}),Object.defineProperty(this,"byteOffset",{value:0}),Object.defineProperty(this,"length",{value:t.length});for(var r=0;r<this.length;r+=1)this._setter(r,t._getter(r))}.apply(this,arguments);if(arguments.length>=1&&"object"===r(arguments[0])&&!(arguments[0]instanceof c)&&!(arguments[0]instanceof n||"ArrayBuffer"===i(arguments[0])))return function(t){var e=t.length*this.BYTES_PER_ELEMENT;Object.defineProperty(this,"buffer",{value:new n(e)}),Object.defineProperty(this,"byteLength",{value:e}),Object.defineProperty(this,"byteOffset",{value:0}),Object.defineProperty(this,"length",{value:t.length});for(var r=0;r<this.length;r+=1){var i=t[r];this._setter(r,Number(i))}}.apply(this,arguments);if(arguments.length>=1&&"object"===r(arguments[0])&&(arguments[0]instanceof n||"ArrayBuffer"===i(arguments[0])))return function(t,n,r){if(n=u(n),n>t.byteLength)throw RangeError("byteOffset out of range");if(n%this.BYTES_PER_ELEMENT)throw RangeError("buffer length minus the byteOffset is not a multiple of the element size.");if(r===e){var i=t.byteLength-n;if(i%this.BYTES_PER_ELEMENT)throw RangeError("length of buffer minus byteOffset not a multiple of the element size");r=i/this.BYTES_PER_ELEMENT}else r=u(r),i=r*this.BYTES_PER_ELEMENT;if(n+i>t.byteLength)throw RangeError("byteOffset and length reference an area beyond the end of the buffer");Object.defineProperty(this,"buffer",{value:t}),Object.defineProperty(this,"byteLength",{value:i}),Object.defineProperty(this,"byteOffset",{value:n}),Object.defineProperty(this,"length",{value:r})}.apply(this,arguments);throw TypeError()}Object.defineProperty(c,"from",{value:function(t){return new this(t)}}),Object.defineProperty(c,"of",{value:function(){return new this(arguments)}});var h={};c.prototype=h,Object.defineProperty(c.prototype,"_getter",{value:function(t){if(arguments.length<1)throw SyntaxError("Not enough arguments");if(t=u(t),t>=this.length)return e;var n,r,i=[];for(n=0,r=this.byteOffset+t*this.BYTES_PER_ELEMENT;n<this.BYTES_PER_ELEMENT;n+=1,r+=1)i.push(this.buffer._bytes[r]);return this._unpack(i)}}),Object.defineProperty(c.prototype,"get",{value:c.prototype._getter}),Object.defineProperty(c.prototype,"_setter",{value:function(t,e){if(arguments.length<2)throw SyntaxError("Not enough arguments");if(t=u(t),t>=this.length)return;var n,r,i=this._pack(e);for(n=0,r=this.byteOffset+t*this.BYTES_PER_ELEMENT;n<this.BYTES_PER_ELEMENT;n+=1,r+=1)this.buffer._bytes[r]=i[n]}}),Object.defineProperty(c.prototype,"constructor",{value:c}),Object.defineProperty(c.prototype,"copyWithin",{value:function(t,n){var r=arguments[2],i=a(this),o=i.length,c=u(o);c=l(c,0);var d,f=s(t);d=f<0?l(c+f,0):p(f,c);var h,v=s(n);h=v<0?l(c+v,0):p(v,c);var _;_=r===e?c:s(r);var g;g=_<0?l(c+_,0):p(_,c);var b,y=p(g-h,c-d);for(h<d&&d<h+y?(b=-1,h=h+y-1,d=d+y-1):b=1;y>0;)i._setter(d,i._getter(h)),h+=b,d+=b,y-=1;return i}}),Object.defineProperty(c.prototype,"every",{value:function(t){if(this===e||null===this)throw TypeError();var n=Object(this),r=u(n.length);if(!o(t))throw TypeError();for(var i=arguments[1],a=0;a<r;a++)if(!t.call(i,n._getter(a),a,n))return!1;return!0}}),Object.defineProperty(c.prototype,"fill",{value:function(t){var n=arguments[1],r=arguments[2],i=a(this),o=i.length,c=u(o);c=l(c,0);var d,f=s(n);d=f<0?l(c+f,0):p(f,c);var h;h=r===e?c:s(r);var v;for(v=h<0?l(c+h,0):p(h,c);d<v;)i._setter(d,t),d+=1;return i}}),Object.defineProperty(c.prototype,"filter",{value:function(t){if(this===e||null===this)throw TypeError();var n=Object(this),r=u(n.length);if(!o(t))throw TypeError();for(var i=[],a=arguments[1],s=0;s<r;s++){var c=n._getter(s);t.call(a,c,s,n)&&i.push(c)}return new this.constructor(i)}}),Object.defineProperty(c.prototype,"find",{value:function(t){var n=a(this),r=n.length,i=u(r);if(!o(t))throw TypeError();for(var s=arguments.length>1?arguments[1]:e,c=0;c<i;){var d=n._getter(c),f=t.call(s,d,c,n);if(f)return d;++c}return e}}),Object.defineProperty(c.prototype,"findIndex",{value:function(t){var n=a(this),r=n.length,i=u(r);if(!o(t))throw TypeError();for(var s=arguments.length>1?arguments[1]:e,c=0;c<i;){var d=n._getter(c),f=t.call(s,d,c,n);if(f)return c;++c}return-1}}),Object.defineProperty(c.prototype,"forEach",{value:function(t){if(this===e||null===this)throw TypeError();var n=Object(this),r=u(n.length);if(!o(t))throw TypeError();for(var i=arguments[1],a=0;a<r;a++)t.call(i,n._getter(a),a,n)}}),Object.defineProperty(c.prototype,"indexOf",{value:function(t){if(this===e||null===this)throw TypeError();var n=Object(this),r=u(n.length);if(0===r)return-1;var i=0;if(arguments.length>0&&(i=Number(arguments[1]),i!==i?i=0:0!==i&&i!==1/0&&i!==-(1/0)&&(i=(i>0||-1)*f(d(i)))),i>=r)return-1;for(var o=i>=0?i:l(r-d(i),0);o<r;o++)if(n._getter(o)===t)return o;return-1}}),Object.defineProperty(c.prototype,"join",{value:function(t){if(this===e||null===this)throw TypeError();for(var n=Object(this),r=u(n.length),i=Array(r),o=0;o<r;++o)i[o]=n._getter(o);return i.join(t===e?",":t)}}),Object.defineProperty(c.prototype,"lastIndexOf",{value:function(t){if(this===e||null===this)throw TypeError();var n=Object(this),r=u(n.length);if(0===r)return-1;var i=r;arguments.length>1&&(i=Number(arguments[1]),i!==i?i=0:0!==i&&i!==1/0&&i!==-(1/0)&&(i=(i>0||-1)*f(d(i))));for(var o=i>=0?p(i,r-1):r-d(i);o>=0;o--)if(n._getter(o)===t)return o;return-1}}),Object.defineProperty(c.prototype,"map",{value:function(t){if(this===e||null===this)throw TypeError();var n=Object(this),r=u(n.length);if(!o(t))throw TypeError();var i=[];i.length=r;for(var a=arguments[1],s=0;s<r;s++)i[s]=t.call(a,n._getter(s),s,n);return new this.constructor(i)}}),Object.defineProperty(c.prototype,"reduce",{value:function(t){if(this===e||null===this)throw TypeError();var n=Object(this),r=u(n.length);if(!o(t))throw TypeError();if(0===r&&1===arguments.length)throw TypeError();var i,a=0;for(i=arguments.length>=2?arguments[1]:n._getter(a++);a<r;)i=t.call(e,i,n._getter(a),a,n),a++;return i}}),Object.defineProperty(c.prototype,"reduceRight",{value:function(t){if(this===e||null===this)throw TypeError();var n=Object(this),r=u(n.length);if(!o(t))throw TypeError();if(0===r&&1===arguments.length)throw TypeError();var i,a=r-1;for(i=arguments.length>=2?arguments[1]:n._getter(a--);a>=0;)i=t.call(e,i,n._getter(a),a,n),a--;return i}}),Object.defineProperty(c.prototype,"reverse",{value:function(){if(this===e||null===this)throw TypeError();for(var t=Object(this),n=u(t.length),r=f(n/2),i=0,o=n-1;i<r;++i,--o){var a=t._getter(i);t._setter(i,t._getter(o)),t._setter(o,a)}return t}}),Object.defineProperty(c.prototype,"set",{value:function(){if(arguments.length<1)throw SyntaxError("Not enough arguments");var t,e,n,r,i,o,a,s,c,d;if("object"==typeof arguments[0]&&arguments[0].constructor===this.constructor){if(t=arguments[0],n=u(arguments[1]),n+t.length>this.length)throw RangeError("Offset plus length of array is out of range");if(s=this.byteOffset+n*this.BYTES_PER_ELEMENT,c=t.length*this.BYTES_PER_ELEMENT,t.buffer===this.buffer){for(d=[],i=0,o=t.byteOffset;i<c;i+=1,o+=1)d[i]=t.buffer._bytes[o];for(i=0,a=s;i<c;i+=1,a+=1)this.buffer._bytes[a]=d[i]}else for(i=0,o=t.byteOffset,a=s;i<c;i+=1,o+=1,a+=1)this.buffer._bytes[a]=t.buffer._bytes[o]}else{if("object"!=typeof arguments[0]||"undefined"==typeof arguments[0].length)throw TypeError("Unexpected argument type(s)");if(e=arguments[0],r=u(e.length),n=u(arguments[1]),n+r>this.length)throw RangeError("Offset plus length of array is out of range");for(i=0;i<r;i+=1)o=e[i],this._setter(n+i,Number(o))}}}),Object.defineProperty(c.prototype,"slice",{value:function(t,n){for(var r=a(this),i=r.length,o=u(i),c=s(t),d=c<0?l(o+c,0):p(c,o),f=n===e?o:s(n),h=f<0?l(o+f,0):p(f,o),v=h-d,_=r.constructor,g=new _(v),b=0;d<h;){var y=r._getter(d);g._setter(b,y),++d,++b}return g}}),Object.defineProperty(c.prototype,"some",{value:function(t){if(this===e||null===this)throw TypeError();var n=Object(this),r=u(n.length);if(!o(t))throw TypeError();for(var i=arguments[1],a=0;a<r;a++)if(t.call(i,n._getter(a),a,n))return!0;return!1}}),Object.defineProperty(c.prototype,"sort",{value:function(t){if(this===e||null===this)throw TypeError();for(var n=Object(this),r=u(n.length),i=Array(r),o=0;o<r;++o)i[o]=n._getter(o);function a(n,r){if(n!==n&&r!==r)return 0;if(n!==n)return 1;if(r!==r)return-1;if(t!==e)return t(n,r);if(n<r)return-1;if(n>r)return 1;return 0}for(i.sort(a),o=0;o<r;++o)n._setter(o,i[o]);return n}}),Object.defineProperty(c.prototype,"subarray",{value:function(t,e){function n(t,e,n){return t<e?e:t>n?n:t}t=s(t),e=s(e),arguments.length<1&&(t=0),arguments.length<2&&(e=this.length),t<0&&(t=this.length+t),e<0&&(e=this.length+e),t=n(t,0,this.length),e=n(e,0,this.length);var r=e-t;return r<0&&(r=0),new this.constructor(this.buffer,this.byteOffset+t*this.BYTES_PER_ELEMENT,r)}});function v(t,e,n){var r=function(){Object.defineProperty(this,"constructor",{value:r}),c.apply(this,arguments),g(this)};"__proto__"in r?r.__proto__=c:(r.from=c.from,r.of=c.of),r.BYTES_PER_ELEMENT=t;var i=function(){};return i.prototype=h,r.prototype=new i,Object.defineProperty(r.prototype,"BYTES_PER_ELEMENT",{value:t}),Object.defineProperty(r.prototype,"_pack",{value:e}),Object.defineProperty(r.prototype,"_unpack",{value:n}),r}var _=v(1,m,w),b=v(1,E,O),y=v(1,I,O),A=v(2,S,D),L=v(2,T,N),F=v(4,M,R),V=v(4,C,x),z=v(4,B,U),j=v(8,P,k);t.Int8Array=t.Int8Array||_,t.Uint8Array=t.Uint8Array||b,t.Uint8ClampedArray=t.Uint8ClampedArray||y,t.Int16Array=t.Int16Array||A,t.Uint16Array=t.Uint16Array||L,t.Int32Array=t.Int32Array||F,t.Uint32Array=t.Uint32Array||V,t.Float32Array=t.Float32Array||z,t.Float64Array=t.Float64Array||j}(),function(){function n(t,e){return o(t.get)?t.get(e):t[e]}var r=function(){var t=new Uint16Array([4660]),e=new Uint8Array(t.buffer);return 18===n(e,0)}();function a(t,n,r){if(!(t instanceof ArrayBuffer||"ArrayBuffer"===i(t)))throw TypeError();if(n=u(n),n>t.byteLength)throw RangeError("byteOffset out of range");if(r=r===e?t.byteLength-n:u(r),n+r>t.byteLength)throw RangeError("byteOffset and length reference an area beyond the end of the buffer");Object.defineProperty(this,"buffer",{value:t}),Object.defineProperty(this,"byteLength",{value:r}),Object.defineProperty(this,"byteOffset",{value:n})}function s(t){return function(e,i){if(e=u(e),e+t.BYTES_PER_ELEMENT>this.byteLength)throw RangeError("Array index out of range");e+=this.byteOffset;for(var o=new Uint8Array(this.buffer,e,t.BYTES_PER_ELEMENT),a=[],s=0;s<t.BYTES_PER_ELEMENT;s+=1)a.push(n(o,s));return Boolean(i)===Boolean(r)&&a.reverse(),n(new t(new Uint8Array(a).buffer),0)}}Object.defineProperty(a.prototype,"getUint8",{value:s(Uint8Array)}),Object.defineProperty(a.prototype,"getInt8",{value:s(Int8Array)}),Object.defineProperty(a.prototype,"getUint16",{value:s(Uint16Array)}),Object.defineProperty(a.prototype,"getInt16",{value:s(Int16Array)}),Object.defineProperty(a.prototype,"getUint32",{value:s(Uint32Array)}),Object.defineProperty(a.prototype,"getInt32",{value:s(Int32Array)}),Object.defineProperty(a.prototype,"getFloat32",{value:s(Float32Array)}),Object.defineProperty(a.prototype,"getFloat64",{value:s(Float64Array)});function c(t){return function(e,i,o){if(e=u(e),e+t.BYTES_PER_ELEMENT>this.byteLength)throw RangeError("Array index out of range");var a,s,c=new t([i]),d=new Uint8Array(c.buffer),f=[];for(a=0;a<t.BYTES_PER_ELEMENT;a+=1)f.push(n(d,a));Boolean(o)===Boolean(r)&&f.reverse(),s=new Uint8Array(this.buffer,e,t.BYTES_PER_ELEMENT),s.set(f)}}Object.defineProperty(a.prototype,"setUint8",{value:c(Uint8Array)}),Object.defineProperty(a.prototype,"setInt8",{value:c(Int8Array)}),Object.defineProperty(a.prototype,"setUint16",{value:c(Uint16Array)}),Object.defineProperty(a.prototype,"setInt16",{value:c(Int16Array)}),Object.defineProperty(a.prototype,"setUint32",{value:c(Uint32Array)}),Object.defineProperty(a.prototype,"setInt32",{value:c(Int32Array)}),Object.defineProperty(a.prototype,"setFloat32",{value:c(Float32Array)}),Object.defineProperty(a.prototype,"setFloat64",{value:c(Float64Array)}),t.DataView=t.DataView||a}()}(r)}e.exports={patch:i}},{67:67}],98:[function(t,e,n){"use strict";var r=t(112),i={sendMessage:r};function o(t,e){return function(n){a(n,t,e)}}function a(t,e,n){e.postMessage({error:t,messageId:n})}function s(){self.addEventListener("message",function(t){var e=t.data.messageId,n=t.data.params.concat([o(self,e)]),r=i[t.data.command];r&&r.apply(null,n)})}e.exports=s},{112:112}],99:[function(t,e,n){var r="jaco_uid",i="jaco_referer",o="jaco_provided_id",a="/",s="_pub";function u(){var t=new Date;return t.setFullYear(t.getFullYear()+1),t.toUTCString()}function c(t,e){var n=d(t,e);return n||(n=d(t,e+s)),n}function d(t,e){for(var n,r,i=0,o=1,a={},s=t.split(";"),u=0,c=s.length;u<c;u++)if(r=s[u],n=r.replace(/^\s+|\s+$/g,"").split("="),""!==n[o])try{a[n[i]]=decodeURIComponent(n[o])}catch(d){a[n[i]]=n[o]}return a[e]}function f(t,e,n,r,i){var o=t+"="+encodeURIComponent(e),a=[];if(a.push(o),null!==n){var s="domain=."+encodeURIComponent(n);a.push(s)}return a.push("expires="+r),a.push("path="+i),a.join(";")}function h(t,e){var n;if(t&&"all"!==t)n=t;else if(e){var r=document.location.hostname.match(/[a-z0-9][a-z0-9-]+\.[a-z.]{2,6}$/i);n=r?r[0]:null}else n=document.location.hostname;return n}function l(){}l._saveCookie=function(t,e,n){var r,i=u();return this.domain=h(n,!0),document.cookie=f(t,e,this.domain,i,a),r=d(document.cookie,t),r||(t+=s,this.domain=h(n,!1),document.cookie=f(t,e,this.domain,i,a),r=d(document.cookie,t)),r||""},l._removeCookie=function(t){var e=u();d(document.cookie,t)?document.cookie=f(t,"",this.domain,e,a):(t+=s,d(document.cookie,t)&&(document.cookie=f(t,"",this.domain,e,a)))},l.getUid=function(){return c(document.cookie,r)},l.getReferer=function(){return c(document.cookie,i)},l.getProvidedId=function(t){return c(document.cookie,p(t))},l.setUid=function(t,e){return e=e||"all",this._saveCookie(r,t,e)},l.setProvidedId=function(t,e,n){return this._saveCookie(p(e),t,n)},l.removeUid=function(){this._removeCookie(r)},l.removeReferer=function(){this._removeCookie(i)},l.removeProvidedId=function(t){this._removeCookie(p(t))},l.getValueFromCookie=c;function p(t){return o+"_"+t}e.exports=l},{}],100:[function(t,e,n){var r,i="wm-visions-init-response",o=43200;function a(){r||(r=window._walkmeInternals.ctx.get("ClientStorageManager"))}function s(t){a();var e=r.getData(i,{});return e[t]}function u(t,e){a(),r.addToDictionary(i,e,t,o)}e.exports={get:s,set:u}},{}],101:[function(t,e,n){var r=t(55),i=["wm-hide","jaco-hide"],o="[?#].+",a="###";function s(t){var e=t.element||{},n=e.censorshipRules||[],r=t.page||{},s=r.censorship||{},c=u(n,"tagInElementTree");"remove"===s.title&&c.push("title");var d=u(n,"idInElementTree"),f=u(n,"classInElementTree").concat(i),h="collect"!==e.inputValues,l=s.url?o:void 0,p=s.url?a:void 0;return{enabled:!0,tags:c,ids:d,classNames:f,isCensorInputContents:h,urlRegex:l,urlReplaceText:p}}function u(t,e){return r(t.filter(function(t){return t.type===e}).map(function(t){return t.values}))}e.exports=s},{55:55}],102:[function(t,e,n){var r=t(57);function i(t){var e={},n=Object.getOwnPropertyNames(t),r=["filename","message","lineno","colno","timeStamp","name","stack","status","statusText","responseText","response","timeElapsed","requestBody"];n=n.concat(r);for(var i=0;i<n.length;i++){var o=n[i];t[o]&&(e[o]=t[o])}return e}e.exports=function(t,e,n){var o=i(e),a=r.assign({},o,n);return t&&t.mainFrame?(a.apiToken=t.apiToken,a.uId=t.uid,a.sessionStart=t.session&&t.session.startTime,a.state={isRecording:t.isRecording,isInitialized:t.isInitialized,windowId:t.mainFrame.windowId}):(a.apiToken=null,a.state=null),a}},{57:57}],103:[function(t,e,n){var r=t(68);e.exports=function(t,e,n,i,o){return{data:t,dataType:e,isCensored:n,timestamp:i,action:o,sequenceIndex:r.getAndIncrease(o)}}},{68:68}],104:[function(t,e,n){var r,i={INTERVAL_MUTATIONS:"visionsIntervalMutations",NO_TRANSFERABLE_LIST:"visionsNoTransferableList",RECURSIVE_IFRAME_DETECTOR:"visionsRecursiveIframeDetector",DYNAMIC_CSS:"visionsDynamicCSS"};function o(t){return r||(r=window._walkmeInternals.ctx.get("FeaturesManager")),r.isFeatureEnabled(t)}n.featuresNames=i,n.isFeatureEnabled=o},{}],105:[function(t,e,n){function r(){this._isReadyToHost=null,this._subscribers=[]}r.prototype.clearReadyFlag=function(){this._isReadyToHost=!1},r.prototype.notifyReady=function(){this._isReadyToHost=!0;for(var t=0;t<this._subscribers.length;t++)this._subscribers[t]();this._subscribers=[]},r.prototype.isReadyToHost=function(){return!!this._isReadyToHost},r.prototype.onReady=function(t){this.isReadyToHost()?t():this._subscribers.push(t)},e.exports=new r},{}],106:[function(t,e,n){e.exports=function(){return!1}},{}],107:[function(t,e,n){var r=t(4).production,i="prelib-plugin";function o(t){return t.filename.indexOf(r)>-1||t.filename.indexOf(i)>-1}e.exports=o},{4:4}],108:[function(t,e,n){var r=t(69),i=t(102);e.exports=function(t,e,n){n=n||{};var o=n.extraInformation;e.preventDefault&&e.preventDefault();var a=i(t,e,o);r.sendLog(e.message,a)}},{102:102,69:69}],109:[function(t,e,n){var r=t(69),i=t(102),o=t(106),a=t(50);e.exports=function(t,e,n){e.preventDefault&&e.preventDefault(),o()&&a.error(e,n);var s=i(t,e,n);r.sendLog(e.message,s)}},{102:102,106:106,50:50,69:69}],110:[function(t,e,n){e.exports=function(t,e,n){return t.requestIdleCallback?t.requestIdleCallback(e,n):t.setTimeout(e,50)}},{}],111:[function(t,e,n){var r=t(57);e.exports=function(t,e,n){var o=0,a=e.retries||1/0,s=e.retryCooldown||0,u=e.retryCallback||function(){},c=e.shouldDisableRetryPredicate||r.constant(!1);if(0===a&&s===1/0)throw new Error("Retry infinity times with 0 interval is dangerous and not supported");n=n||function(){};var d=function f(){t(function(t){if(t&&++o<a&&!c(t)){var r=i(e,o);u.call(this,t,o),setTimeout(f,r)}else{var s=Array.prototype.slice.call(arguments).concat(o);setTimeout(function(){n.apply(this,s)},0)}})};d()};function i(t,e){return t.retryCooldown instanceof Function?t.retryCooldown(e):t.retryCooldown}},{57:57}],112:[function(t,e,n){var r=t(10),i=t(113),o=t(57),a=t(1),s=8283750.4;function u(t,e,n,u){var d=!e,f=d?a.recordJSON:a.record,h=r.build(t,e),l=d?JSON.stringify(o.values(h.asUint8Array())):c(h),p=d?l.length:l.byteLength;if(p>s)return void u(new Error("Payload size exceeds limit. r message skipped."));i(f,l,{rapiUrl:n},u)}function c(t){var e=t.dataBuffer(),n=e.bytes();return n.buffer.slice(e.position(),e.position()+t.offset())}e.exports=u},{1:1,10:10,113:113,57:57}],113:[function(t,e,n){var r=t(72),i=t(111);function o(t,e,n,o){n=n||{};var s=n.retryCallback,u=n.shouldDisableRetryPredicate;n.rapiUrl&&r.updateRapiUrl(n.rapiUrl);var c=function(n){r.postRequest(t,e,n)};i(c,{retryCooldown:a,retryCallback:s,shouldDisableRetryPredicate:u},o)}function a(t){return t<10?1e3:t<30?5e3:2e4}e.exports=o},{111:111,72:72}],114:[function(t,e,n){var r=["type","class","id","style","accept","accesskey","autocomplete","autofocus","capture","checked","disabled","form","formaction","formenctype","formmethod","formnovalidate","formtarget","height","inputmode","max","maxlength","min","minlength","multiple","name","pattern","placeholder","readonly","required","selectionDirection","selectionEnd","selectionStart","size","spellcheck","src","step","tabindex","usemap","width","autocorrect","incremental","mozactionhint","results","webkitdirectory","x-moz-errormessage","autocapitalize","contenteditable","contextmenu","dir","draggable","dropzone","hidden","is","itemid","itemprop","itemref","itemscope","itemtype","lang","slot","title","translate"];function i(t){return"INPUT"===t.tagName&&"password"===t.getAttribute("type")}function o(t,e){return i(t)&&r.indexOf(e.toLowerCase())<0}e.exports=o},{}],115:[function(t,e,n){var r=1e4,i=5e4;e.exports=function(t,e){var n=r;return"style"===e&&(n=i),t.length>=n}},{}],116:[function(t,e,n){var r=6e4;function i(t,e){var n=(new Date).getTime(),i=t[e]||[],o=i[0],a=i[1]||n;if(n-a<=r&&e&&e===o)return!1;return!0}e.exports=i},{}],117:[function(t,e,n){function r(){this._isSuspended=!1}r.prototype.setSuspended=function(t){this._isSuspended=t},r.prototype.isSuspended=function(){return this._isSuspended},e.exports=new r},{}],118:[function(t,e,n){var r=t(117),i=window._walkmeInternals.ctx,o=i.get("EventsListener");function a(){o.on("UBT:CollectionStatusChanged",function(t,e){var n=window.JacoRecorder.state,i=e.isCollecting;!i&&n.isRecording&&(window.JacoRecorder.stopRecording(),r.setSuspended(!0)),i&&!n.isRecording&&r.isSuspended()&&window.JacoRecorder.startPlaybackRecording()})}function s(){var t={shouldRecord:!0,isManual:!1},e=window._walkmeInternals.ctx.get("DataCollectionSettings").get();return t.isManual=e.loading&&"manual"===e.loading.mode,t.isManual&&(t.shouldRecord=!1),"function"==typeof window.isWalkmeUserBehaviorDataCollectionEnabled&&(t.shouldRecord=window.isWalkmeUserBehaviorDataCollectionEnabled()===!0),t}e.exports={startUbtSync:a,getUbtStatus:s}},{117:117}],119:[function(t,e,n){function r(t,e,n){var r="TrackEvent: ",i=null;return(t||e.length>0||n.length>0)&&(i=r,t&&(i+="a property with an empty string as a name is found and not saved because property names can't be empty.\n"),e.length>1&&(i+=e.length+" properties with a name longer than 200 characters found and weren't saved because property name's length should be no longer than 200 characters ("+e.join(",")+").\n"),1===e.length&&(i+="1 property with a name longer than 200 characters found and wasn't saved because property name's length should be no longer than 200 characters ("+e[0]+").\n"),n.length>1&&(i+=n.length+" properties with a string value longer than 1000 characters found and weren't saved because string property value should be no longer than 1000 characters ("+n.join(",")+").\n"),1===n.length&&(i+="1 property with a string value longer than 1000 characters found and wasn't saved because string property value should be no longer than 1000 characters ("+n[0]+").\n"),i=i.slice(0,-1)),i}function i(t,e){var n=null;return e&&(n="Invalid timestamp override provided #{"+t.timestamp+"}, please either omit the timestamp or provide a valid UNIX timestamp"),n}function o(e){var n,o,a=t(22),s=!1,u=[],c=[],d=!1,f={};return e&&Object.keys(e).forEach(function(t){t.length<1?s=!0:t.length>200?u.push(t):a(e[t])&&e[t].length>1e3?c.push(t):"timestamp"===t&&e[t]!==parseInt(e[t],10)?d=!0:f[t]=e[t]}),n=r(s,u,c),o=i(e,d),{validatedData:f,warning:n,error:o}}e.exports=o},{22:22}],120:[function(t,e,n){var r=t(104);function i(t,e,n){this.callbacks=e,this.element=n,this.observer=void 0,this.isRecursive=r.isFeatureEnabled(r.featuresNames.RECURSIVE_IFRAME_DETECTOR)}function o(t,e,n,r){var i={attributes:!1,childList:!0,subtree:!0},o=function(t){for(var i=0;i<t.length;i++){var o=t[i];"childList"===o.type&&(s(o.addedNodes,e,r),s(o.removedNodes,n,r))}};this.observer=new MutationObserver(o),this.observer.observe(t,i)}function a(t,e){for(var n=t.getElementsByTagName("iframe"),r=0;r<n.length;r++){var i=n[r];e(i)}}function s(t,e,n){for(var r=0;r<t.length;r++){var i=t[r];"IFRAME"===i.nodeName?e(i):n&&i.children&&s(i.children,e,n)}}i.prototype.startDetectingIframes=function(){a(this.element,this.callbacks.onIframeAdded),window.MutationObserver&&o(this.element,this.callbacks.onIframeAdded,this.callbacks.onIframeRemoved,this.isRecursive)},i.prototype.disconnect=function(){this.observer&&this.observer.disconnect()},e.exports=i},{104:104}],121:[function(t,e,n){var r=t(112);function i(){}function o(t,e,n,i,o){r(e,n,i,o)}e.exports={start:i,sendMessage:o}},{112:112}],122:[function(t,e,n){var r=t(161),i=t(121);function o(t){return!!t.Worker&&!!t.MutationObserver}function a(){}a.get=function(){return o(window)?r:i},a.sendMessageToServer=function(t,e,n){var r=o(window),i=t.state.config.rapiUrl;return a.get().sendMessage(t,e,r,i,n)},a.load=function(){return a.get().load.apply(null,arguments)},a.start=function(){return a.get().start.apply(null,arguments)},e.exports=a},{121:121,161:161}],123:[function(t,e,n){var r=t(103);function i(t){this.document=t.window.document,this.window=t.window,this.nodeMap=t.nodeMap,this.element=t.element,this.beforeSnapshotDone=!0}i.prototype.shouldObserve=function(){throw Error("shouldObserve is not implemented")},i.prototype.observe=function(){},i.prototype.cleanUp=function(){this.document=void 0,this.window=void 0,this.nodeMap=void 0,this.element=void 0},i.prototype.setDomsnapshotDone=function(){this.beforeSnapshotDone=!1},i.createEvent=function(t,e,n,i,o){return r(t,e,n,i,o)},e.exports=i},{103:103}],124:[function(t,e,n){var r=t(123),i=t(6).Serializer.Action,o=t(75),a=t(43).getTimestamp,s=t(57).includes,u=t(6).Serializer,c={
SNAPSHOT:"snapshot",RECORD:"record"},d=1,f=c.SNAPSHOT;t(47).extend(h,r);function h(){return this.lastSnapshots={},this.takenCanvasesIds={},this.snapshotTimeout=0,h.__super__.constructor.apply(this,arguments)}h.emittedActions=[i.CANVAS_UPDATE],h.prototype.observe=function(t,e){var n=t.state.config.canvasRecordingMode||f,r=t.state.config.canvasRecordingFPS||d,i=t.state.censorshipSettings,o={censorshipSettings:i,canvasRecordingMode:n,canvasRecordingFPS:r};l(this,e,o)},h.prototype.disconnect=function(){this.window.clearTimeout(this.snapshotTimeout)};function l(t,e,n){t.snapshotTimeout=t.window.setTimeout(function(){p(t,e,n)},1e3/n.canvasRecordingFPS)}function p(t,e,n){for(var s=t.window.document.getElementsByTagName("canvas"),c=0;c<s.length;c++){var d=s[c],f=o.get(d);if(v(t,f,n.canvasRecordingMode,n.censorshipSettings)){g(t,f);var h;try{h=d.toDataURL("image/png",.2)}catch(p){h=""}t.lastSnapshots[f]!==h&&(t.lastSnapshots[f]=h,e(r.createEvent([f,h],u.DataType.StringList,!1,a(),i.CANVAS_UPDATE)))}}l(t,e,n)}function v(t,e,n,r){return!s(r.tags,"canvas")&&(n==c.RECORD||n==c.SNAPSHOT&&!_(t,e))}function _(t,e){return!!t.takenCanvasesIds[e]}function g(t,e){t.takenCanvasesIds[e]=!0}e.exports=h},{123:123,43:43,47:47,57:57,6:6,75:75}],125:[function(t,e,n){var r=t(123),i=t(6).Serializer.Action,o=t(43).getTimestamp,a=t(109),s=t(71).throttle,u=t(116),c=t(107),d=t(6).Serializer;t(47).extend(f,r);function f(){return this.errorMap={},f.__super__.constructor.apply(this,arguments)}f.emittedActions=[i.ERROR],f.prototype.observe=function(t,e){var n=this;this._onErrorListener=s(function(r){h(n,r,t,e)},1e3),this.window.addEventListener("error",this._onErrorListener,!1)},f.prototype.disconnect=function(){this.window.removeEventListener("error",this._onErrorListener,!1)};function h(t,e,n,r){var s,d=[e.filename,e.message,e.lineno,e.colno,e.timeStamp,void 0,void 0],f=e.message;return e.error&&(f=e.error.message||e.message,d[1]=f,d[5]=e.error.name,s=e.error.stack,d[6]=s),c(e)?(a(n.state,e),e.stopPropagation(),e.preventDefault(),!1):(this.beforeSnapshotDone||(u(t.errorMap,f)&&r(l(d,!1,o(),i.ERROR)),t.errorMap[f]=[f,(new Date).getTime()]),!0)}function l(t,e,n,i){return r.createEvent(t,d.DataType.StringList,e,n,i)}e.exports=f},{107:107,109:109,116:116,123:123,43:43,47:47,6:6,71:71}],126:[function(t,e,n){var r=t(6).Serializer.Action,i=t(123),o=t(43).getTimestamp,a=t(75),s=t(6).Serializer;t(47).extend(u,i);function u(){return u.__super__.constructor.apply(this,arguments)}u.emittedActions=[r.FOCUS,r.FOCUS_IN,r.FOCUS_OUT],u.prototype.observe=function(t,e){var n=this;this._onBlur=function(){d(e)},this._onFocus=function(){c(e)},this._onFocusIn=function(t){f(t,n,e)},this._onFocusOut=function(t){h(t,n,e)},this.window.addEventListener("focus",this._onFocus,!1),this.window.addEventListener("focusin",this._onFocusIn,!1),this.window.addEventListener("focusout",this._onFocusOut,!1),this.window.addEventListener("blur",this._onBlur,!1)},u.prototype.disconnect=function(){this.window.removeEventListener("focus",this._onFocus,!1),this.window.removeEventListener("focusin",this._onFocusIn,!1),this.window.removeEventListener("focusout",this._onFocusOut,!1),this.window.removeEventListener("blur",this._onBlur,!1)};function c(t){return t(l([!0],!1,o(),r.FOCUS))}function d(t){return t(l([!1],!1,o(),r.FOCUS))}function f(t,e,n){var i=o(),s=a.get(t.target),u=a.get(t.relatedTarget);if(!e.beforeSnapshotDone||s||u){var c=[s,u,t.timeStamp];return n(l(c,!1,i,r.FOCUS_IN))}}function h(t,e,n){var i=o(),s=a.get(t.target),u=a.get(t.relatedTarget);if(!e.beforeSnapshotDone||s||u){var c=[s,u,t.timeStamp];n(l(c,!1,i,r.FOCUS_OUT))}}function l(t,e,n,r){return i.createEvent(t,s.DataType.StringList,e,n,r)}e.exports=u},{123:123,43:43,47:47,6:6,75:75}],127:[function(t,e,n){var r=t(57),i=t(138).OBSERVERS;function o(t,e){return t.emittedActions.every(function(t){return e.indexOf(t)>-1})&&!r.empty(t.emittedActions)}function a(t,e){return o(t,e)}function s(t){return r.reduce(r.values(i),function(e,n){return e.concat(a(n,t)?[n]:[])},[])}e.exports=s},{138:138,57:57}],128:[function(t,e,n){var r=t(6).Serializer.Action,i=t(123),o=t(38).getElementSelector,a=t(43).getTimestamp,s=t(71).throttle,u=t(75),c=t(65).once,d=t(33),f=t(29),h=t(6).Serializer,l=t(28).censorInput;t(47).extend(v,i);var p=1e4;function v(){v.__super__.constructor.apply(this,arguments),this.lastTarget=null,this._patchOnce=c(E)}v.emittedActions=[r.INPUT,r.INPUT_PROGRAMMATIC_CHANGE],v.prototype.observe=function(t,e){var n=this,r=t.state.censorshipSettings;this.attributesToCollect=t.state.config.environmentSettings&&t.state.config.environmentSettings.element&&t.state.config.environmentSettings.element.attributesToCollect||[],this._onInput=s(function(t){g(t,n,r,e)},100),this._onChange=function(t){_(t,n,r,e)},this._patchActive=!1,this.window.addEventListener("input",this._onInput,!0),this.window.addEventListener("change",this._onChange,!0),this._patchOnce(this,function(t){b(t,n,r,e)}),this._patchActive=!0},v.prototype.disconnect=function(){this.window.removeEventListener("input",this._onInput,!0),this.window.removeEventListener("change",this._onChange,!0),this._patchActive=!1};function _(t,e,n,r){w(t)&&y(t.target,e,n,r)}function g(t,e,n,r){w(t)&&y(t.target,e,n,r)}function b(t,e,n,r){e._patchActive&&y(t,e,n,r,!0)}function y(t,e,n,i,o){var a=u.get(t);e.beforeSnapshotDone&&!t||(e.lastTarget!==t&&(e.lastTarget=t,o||i(m(t,a,r.INPUT,n,e.attributesToCollect))),i(m(t,a,r.INPUT_PROGRAMMATIC_CHANGE,n,[])))}function m(t,e,n,r,s){var u=d(t,r),c=t.value||"";c=u?l(c,t.type):c,c.length>=p&&(c=c.slice(0,p));var v="";t.labels&&t.labels.length>0&&(v=t.labels[0].textContent);var _=[];if("SELECT"===t.nodeName)for(var g=0,b=t.options,y=b.length;g<y;g++)b[g].selected&&_.push(b[g].index);var m=[e,c,t.type,t.name,v,t.checked,t.indeterminate,t.disabled,t.readOnly,_,o(t,s),f(location.href,r.urlRegex,r.urlReplaceText)];return i.createEvent(m,h.DataType.StringList,!1,a(),n)}function w(t){return u.hasId(t.target)||!!t.isTrusted}function E(t,e){var n=t.window;O()&&(I(n.HTMLInputElement,"value",e),I(n.HTMLInputElement,"checked",e),I(n.HTMLSelectElement,"value",e),I(n.HTMLTextAreaElement,"value",e))}function O(){var t=Object.getOwnPropertyDescriptor(HTMLInputElement.prototype,"value");return t&&t.set}function I(t,e,n){var r=Object.getOwnPropertyDescriptor(t.prototype,e);Object.defineProperty(t.prototype,e,{set:function(t){var i=this;return i[e]!==t&&setTimeout(function(){u.hasId(i)&&n(i)},0),r.set.call(this,t)},get:function(){return r.get.call(this)}})}e.exports=v},{123:123,28:28,29:29,33:33,38:38,43:43,47:47,6:6,65:65,71:71,75:75}],129:[function(t,e,n){var r=t(71).throttle,i=t(6).Serializer.Action,o=t(123),a=t(43).getTimestamp,s=t(37).getClickEventData,u=t(75),c=t(40).getMousePositionData,d=t(33),f=t(6).Serializer,h=t(44).getTouchEventData,l=t(109);t(47).extend(p,o);function p(){return p.__super__.constructor.apply(this,arguments)}p.emittedActions=[i.TOUCH_MOVE,i.TOUCH_START,i.TOUCH_END,i.TOUCH_CANCEL,i.MOUSE_POSITION,i.MOUSE_CLICK,i.MOUSE_OVER];var v=100,_=100;p.prototype.observe=function(t,e){var n=t.state.censorshipSettings,o=t.state.config.environmentSettings&&t.state.config.environmentSettings.visions&&parseInt(t.state.config.environmentSettings.visions.mousePositionThrottleMs,10)||v,a=t.state.config.environmentSettings&&t.state.config.environmentSettings.visions&&parseInt(t.state.config.environmentSettings.visions.mouseOverThrottleMs,10)||_,s=this;this.state=t.state,this.attributesToCollect=t.state.config.environmentSettings&&t.state.config.environmentSettings.element&&t.state.config.environmentSettings.element.attributesToCollect||[],this._moveEventCounter=0,this._onTouchMove=r(function(t){y(t,s,i.TOUCH_MOVE,n,e)},16),this._onTouchStart=function(t){m(s,i.TOUCH_START,n,e,t)},this._onTouchEnd=function(t){w(s,i.TOUCH_END,n,e,t)},this._onTouchCancel=function(t){w(s,i.TOUCH_CANCEL,n,e,t)},this._onMove=r(function(t){b(s,e,i.MOUSE_POSITION,t)},o),this._onClick=function(t){g(s,n,e,i.MOUSE_CLICK,t)},this._onMouseOver=function(t){E(s,e,t)},a>0&&(this._onMouseOver=r(this._onMouseOver,a)),this.window.addEventListener("touchstart",this._onTouchStart,!0),this.window.addEventListener("touchmove",this._onTouchMove,!0),this.window.addEventListener("touchcancel",this._onTouchCancel,!0),this.window.addEventListener("touchend",this._onTouchEnd,!0),this.window.addEventListener("mouseover",this._onMouseOver,!0),this.window.addEventListener("mousemove",this._onMove,!0),this.window.addEventListener("mouseup",this._onClick,!0)},p.prototype.disconnect=function(){this.window.removeEventListener("mouseup",this._onClick,!0),this.window.removeEventListener("mousemove",this._onMove,!0),this.window.removeEventListener("mouseover",this._onMouseOver,!0),this.window.removeEventListener("touchmove",this._onTouchMove,!0),this.window.removeEventListener("touchend",this._onTouchEnd,!0),this.window.removeEventListener("touchcancel",this._onTouchCancel,!0),this.window.removeEventListener("touchstart",this._onTouchStart,!0)};function g(t,e,n,r,i){if(t._isTouchMode)return void(t._isTouchMode=!1);if(t._moveEventCounter<2)return;var c=i.target,h=u.get(c),p=!1;if(!t.beforeSnapshotDone||h){var v=d(c,e);t.lastTarget===c&&(p=!0);var _;try{_=s(i,v,h,e,p,t.attributesToCollect)}catch(g){return void l(t.state,g,{})}t.lastTarget=c,n(o.createEvent(_,f.DataType.StringList,v,a(),r))}}function b(t,e,n,r){if(t._isTouchMode)return;if(t._moveEventCounter<2)return t._moveEventCounter=t._moveEventCounter+1,void(2===t._moveEventCounter&&window._testhook&&(window._testhook("ReadyToRecordClicks"),window._testhook_isReadyToRecordClicks=!0));var i=c(r);e(o.createEvent(i,f.DataType.StringList,!1,a(),n))}function y(t,e,n,r,i){var s=t.target,c=u.get(s);if(!e.beforeSnapshotDone||c){var l=d(s,r),p=h(t,l,c,r,e.attributesToCollect);i(o.createEvent(p,f.DataType.StringList,l,a(),n))}}function m(t,e,n,r,i){t._isTouchMode=!0,y(i,t,e,n,r)}function w(t,e,n,r,i){y(i,t,e,n,r)}function E(t,e,n){if(t._isTouchMode)return;var r=u.get(n.target),s=n.relatedTarget;if(!t.beforeSnapshotDone||r||u.get(s)){var c=[n.clientX,n.clientY,n.screenX,n.screenY,n.pageX,n.pageY,r,u.get(s)];e(o.createEvent(c,f.DataType.StringList,!1,a(),i.MOUSE_OVER))}}e.exports=p},{109:109,123:123,33:33,37:37,40:40,43:43,44:44,47:47,6:6,71:71,75:75}],130:[function(t,e,n){var r=t(88),i=t(134),o=t(76),a=t(6).Serializer.Action,s=t(123),u=t(75),c=t(33),d=t(28),f=t(30),h=t(8),l=t(9),p=t(6).Serializer,v=t(114),_=t(110),g=t(104),b=t(57),y=t(115),m=t(43).getTimestamp,w=t(81),E=200;t(47).extend(O,s);function O(){return O.__super__.constructor.apply(this,arguments)}O.emittedActions=[a.MUTATION_EVENT];var I=O.prototype;I.observe=function(t,e){var n=t.state.censorshipSettings,r=g.isFeatureEnabled(g.featuresNames.DELAYED_MUTATIONS),o=g.isFeatureEnabled(g.featuresNames.INTERVAL_MUTATIONS),a=this;w.onChange(function(t){S(n,a.nodeMap,t,e,r,m())}),this.observer=new i({rootNode:this.document,supportIntervalMutations:o,callback:function(t,i){S(n,a.nodeMap,t,e,r,i)}})},I.disconnect=function(){this.observer.disconnect()};function S(t,e,n,r,i,o){for(var a,s=h.getBuilder(),c=b.reduce(Object.keys(n.attributeChanged).map(function(e){return n.attributeChanged[e].map(function(n){var r=u.get(n);D(n,t);var i=n.getAttribute(e);return null!==i&&(y(i,e)||v(n,e))&&(i=""),[r,e,i]})}),function(t,e){return t.concat(e)},[]),d=R(s,n,e,t,i),f=new Array(n.characterDataChanged.length),l=0,p=n.characterDataChanged.length;l<p;l++){a=n.characterDataChanged[l];var _=T(a,t)||"";!a._unlimitedText&&y(_)&&(_=_.slice(0,1e4)+"..."),f[l]=[u.get(a),_]}var g,m=new Array(n.removed.length);for(l=0,p=n.removed.length;l<p;l++)a=n.removed[l],m[l]=u.get(a),g="IFRAME"===a.tagName,e.remove(a,g),u.unset(a);x(s,o,e,c,d,f,m,r,i)}function D(t,e){f.mark(t,c(t,e))}function T(t,e){return c(t,e)?d.censorString(t.textContent):t.textContent}function N(t){for(var e=new o,n=0,r=t.length;n<r;n++){var i=t[n],a=i.parentNode,s=e.get(a);s||(s=new o,e.set(a,s)),s.set(i,!0)}return e}function M(t,e,n,r,i){var o=c(t,e),a="IFRAME"===t.tagName&&!o,s=n.set(t,t,a);f.mark(t,o);var u=t.cloneNode(!1),d={domNode:u,nodeId:s,previousSiblingId:r,parentNodeId:i,shouldCensor:o};return n.set(u,d),d}function R(t,e,n,i,o){for(var a=e.added.concat(e.reparented,e.reordered),s=N(a),c=new Array(a.length),d=0,f=s.keys(),h=0,l=f.length;h<l;h++)for(var p=f[h],v=s.get(p),_=v.keys();_.length;){for(var g=_[0];g.previousSibling&&v.has(g.previousSibling);)g=g.previousSibling;for(;g&&v.has(g);){var b,y=g.previousSibling?u.get(g.previousSibling):null,m=g.parentNode?u.get(g.parentNode):null;b=o?M(g,i,n,y,m):r.serializeNodeWithCensorship(t,g,y,m,n,i),c[d++]=b,v.remove(g),g=g.nextSibling}_=v.keys()}return c}function C(t,e,n,r,i,o){return s.createEvent(l.build(t,e,n,r,i),p.DataType.MutationData,!1,o,a.MUTATION_EVENT)}function x(t,e,n,i,o,a,s,u,c){c?_(window,function(){for(var c=new Array(o.length),d=0,f=o.length;d<f;d++){var h=o[d],l=r.serializeNode(t,h.domNode,h.nodeId,h.previousSiblingId,h.parentNodeId,h.shouldCensor,n);c[d]=l}u(C(t,s,c,i,a,e))},{timeout:E}):u(C(t,s,o,i,a,e))}e.exports=O},{104:104,110:110,114:114,115:115,123:123,134:134,28:28,30:30,33:33,43:43,47:47,57:57,6:6,75:75,76:76,8:8,81:81,88:88,9:9}],131:[function(t,e,n){var r={};r[r.STAYED_OUT=0]="STAYED_OUT",r[r.ENTERED=1]="ENTERED",r[r.STAYED_IN=2]="STAYED_IN",r[r.REPARENTED=3]="REPARENTED",r[r.REORDERED=4]="REORDERED",r[r.EXITED=5]="EXITED",e.exports=r},{}],132:[function(t,e,n){var r;r="undefined"!=typeof window.WebKitMutationObserver?window.WebKitMutationObserver:window.MutationObserver,e.exports=r},{}],133:[function(t,e,n){var r=t(137),i=t(76),o=t(131);function a(){this.added=new i,this.removed=new i,this.maybeMoved=new i,this.oldPrevious=new i,this.moved=void 0}function s(t,e){this.rootNode=t,this.mutations=e,this.calcReordered=!0,this.treeChanges=new r(t,e),this.entered=[],this.exited=[],this.stayedIn=new i,this.visited=new i,this.childListChangeMap=void 0,this.processMutations()}s.prototype.processMutations=function(){if(!this.treeChanges.anyParentsChanged&&!this.treeChanges.anyAttributesChanged)return;for(var t=this.treeChanges.keys(),e=0,n=t.length;e<n;e++)this.visitNode(t[e],void 0)},s.prototype.visitNode=function(t,e){if(this.visited.has(t))return;this.visited.set(t,!0);var n=this.treeChanges.get(t),r=e;if((n&&n.childList||void 0==r)&&(r=this.treeChanges.reachabilityChange(t)),r===o.STAYED_OUT)return;if(r===o.ENTERED)this.entered.push(t);else if(r===o.EXITED)this.exited.push(t);else if(r===o.STAYED_IN){var i=o.STAYED_IN;n&&n.childList&&(n.oldParentNode!==t.parentNode?i=o.REPARENTED:this.calcReordered&&this.wasReordered(t)&&(i=o.REORDERED)),this.stayedIn.set(t,i)}if(r===o.STAYED_IN)return;for(var a=t.firstChild;a;a=a.nextSibling)this.visitNode(a,r)},s.prototype.getChanged=function(t){var e=this;this.entered.forEach(function(e){t.added.push(e)});var n=this.stayedIn.keys();n.forEach(function(n){if(t.reparented||t.reordered){var r=e.stayedIn.get(n);t.reparented&&r===o.REPARENTED?t.reparented.push(n):t.reordered&&r===o.REORDERED&&t.reordered.push(n)}}),this.exited.forEach(function(e){t.removed.push(e)})},s.prototype.getOldParentNode=function(t){var e=this.treeChanges.get(t);if(e&&e.childList)return e.oldParentNode?e.oldParentNode:null;var n=this.treeChanges.reachabilityChange(t);if(n===o.STAYED_OUT||n===o.ENTERED)throw Error("getOldParentNode requested on invalid node.");return t.parentNode},s.prototype.getOldPreviousSibling=function(t){var e=t.parentNode,n=this.treeChanges.get(t);n&&n.oldParentNode&&(e=n.oldParentNode);var r=this.childListChangeMap.get(e);if(!r)throw Error("getOldPreviousSibling requested on invalid node.");return r.oldPrevious.get(t)},s.prototype.getOldAttribute=function(t,e){var n=this.treeChanges.get(t);if(!n||!n.attributes)throw Error("getOldAttribute requested on invalid node.");var r=n.getAttributeOldValue(e);if(void 0===r)throw Error("getOldAttribute requested for unchanged attribute name.");return r},s.prototype.attributeChangedNodes=function(){if(!this.treeChanges.anyAttributesChanged)return{};for(var t,e={},n=this.treeChanges.keys(),r=0,i=n.length;r<i;r++){var a=n[r],s=this.treeChanges.get(a);if(!s.attributes)continue;if(o.STAYED_IN!==this.treeChanges.reachabilityChange(a))continue;for(var u=a,c=s.getAttributeNamesMutated(),d=0,f=c.length;d<f;d++){var h=c[d];if(t&&!t[h]&&!s.isCaseInsensitive)continue;var l=s.getAttributeOldValue(h);if(l===u.getAttribute(h))continue;e[h]=e[h]||[],e[h].push(u)}}return e},s.prototype.getOldCharacterData=function(t){var e=this.treeChanges.get(t);if(!e||!e.characterData)throw Error("getOldCharacterData requested on invalid node.");return e.characterDataOldValue},s.prototype.getCharacterDataChanged=function(){if(!this.treeChanges.anyCharacterDataChanged)return[];for(var t=this.treeChanges.keys(),e=[],n=0,r=t.length;n<r;n++){var i=t[n];if(o.STAYED_IN!==this.treeChanges.reachabilityChange(i))continue;var a=this.treeChanges.get(i);if(!a.characterData||i.textContent===a.characterDataOldValue)continue;e.push(i)}return e},s.prototype.getChildlistChange=function(t){var e=this.childListChangeMap.get(t);return e||(e=new a,this.childListChangeMap.set(t,e)),e},s.prototype.processChildlistChanges=function(){if(this.childListChangeMap)return;function t(t,e,n){if(!t||n.oldPrevious.has(t)||n.added.has(t)||n.maybeMoved.has(t))return;if(e&&(n.added.has(e)||n.maybeMoved.has(e)))return;n.oldPrevious.set(t,e)}this.childListChangeMap=new i;for(var e=0;e<this.mutations.length;e++){var n=this.mutations[e];if("childList"!=n.type)continue;if(this.treeChanges.reachabilityChange(n.target)!==o.STAYED_IN)continue;var r,a,s=this.getChildlistChange(n.target),u=n.previousSibling;for(r=0;r<n.removedNodes.length;r++)a=n.removedNodes[r],t(a,u,s),s.added.has(a)?s.added.remove(a):(s.removed.set(a,!0),s.maybeMoved.remove(a)),u=a;for(t(n.nextSibling,u,s),r=0;r<n.addedNodes.length;r++)a=n.addedNodes[r],s.removed.has(a)?(s.removed.remove(a),s.maybeMoved.set(a,!0)):s.added.set(a,!0)}},s.prototype.wasReordered=function(t){if(!this.treeChanges.anyParentsChanged)return!1;this.processChildlistChanges();var e=t.parentNode,n=this.treeChanges.get(t);n&&n.oldParentNode&&(e=n.oldParentNode);var r=this.childListChangeMap.get(e);if(!r)return!1;if(r.moved)return r.moved.get(t);r.moved=new i;var o=new i;function a(t){if(!t)return!1;if(!r.maybeMoved.has(t))return!1;var e=r.moved.get(t);if(void 0!==e)return e;return o.has(t)?e=!0:(o.set(t,!0),e=d(t)!==u(t)),o.has(t)?(o.remove(t),r.moved.set(t,e)):e=r.moved.get(t),e}var s=new i;function u(t){var e=s.get(t);if(void 0!==e)return e;for(e=r.oldPrevious.get(t);e&&(r.removed.has(e)||a(e));)e=u(e);return void 0===e&&(e=t.previousSibling),s.set(t,e),e}var c=new i;function d(t){if(c.has(t))return c.get(t);for(var e=t.previousSibling;e&&(r.added.has(e)||a(e));)e=e.previousSibling;return c.set(t,e),e}return r.maybeMoved.keys().forEach(a),r.moved.get(t)},e.exports=s},{131:131,137:137,76:76}],134:[function(t,e,n){var r=t(133),i=t(136),o=t(132),a=["added","removed","reordered","reparented","valueChanged","characterDataChanged"],s=t(43).getTimestamp,u=250;function c(t){var e=this;this.connected=!1,this.options=c.validateOptions(t),this.observerOptions=c.createObserverOptions(),this.root=this.options.rootNode,this.callback=this.options.callback,this.calcReordered=!0,this.options.supportIntervalMutations?(this.mutationRecordsQueue=[],this.nextRecordsTimestamp=0,this.processing=!1,window.setInterval(function(){if(!e.processing&&e.mutationRecordsQueue.length>0){e.processing=!0;var t=e.mutationRecordsQueue,n=e.nextRecordsTimestamp;e.mutationRecordsQueue=[],e.nextRecordsTimestamp=0,e.observerCallback(t,n),e.processing=!1}},u),this.observer=new o(function(t){e.nextRecordsTimestamp||(e.nextRecordsTimestamp=s()),e.mutationRecordsQueue=e.mutationRecordsQueue.concat(t)})):this.observer=new o(function(t){e.observerCallback(t,s())}),this.reconnect()}c.createObserverOptions=function(){return{childList:!0,subtree:!0,attributes:!0,attributeOldValue:!0,characterData:!0,characterDataOldValue:!0}},c.validateOptions=function(t){for(var e in t)if(!(e in c.optionKeys))throw Error("Invalid option: "+e);if("function"!=typeof t.callback)throw Error("Invalid options: callback is required and must be a function");return{callback:t.callback,rootNode:t.rootNode||document,oldPreviousSibling:!!t.oldPreviousSibling,supportIntervalMutations:t.supportIntervalMutations}},c.prototype.createSummary=function(t){if(!t||!t.length)return[];var e=new r(this.root,t);return new i(e)},c.prototype.changesToReport=function(t){if(a.some(function(e){return t[e]&&t[e].length}))return!0;if(t.attributeChanged){var e=Object.keys(t.attributeChanged),n=e.some(function(e){return!!t.attributeChanged[e].length});if(n)return!0}return!1},c.prototype.observerCallback=function(t,e){this.observer.disconnect();var n=this.createSummary(t);this.changesToReport(n)&&this.callback(n,e),this.connected&&this.observer.observe(this.root,this.observerOptions)},c.prototype.reconnect=function(){if(this.connected)throw Error("Already connected");this.observer.observe(this.root,this.observerOptions),this.connected=!0},c.prototype.takeSummaries=function(){if(!this.connected)throw Error("Not connected");var t=this.createSummary(this.observer.takeRecords());return this.changesToReport(t)?t:void 0},c.prototype.disconnect=function(){if(!this.connected)return[];var t=this.takeSummaries();return this.observer.disconnect(),this.connected=!1,t},c.optionKeys={callback:!0,rootNode:!0,oldPreviousSibling:!0,supportIntervalMutations:!0},e.exports=c},{132:132,133:133,136:136,43:43}],135:[function(t,e,n){function r(t,e,n,r,i,o,a,s){void 0===e&&(e=!1),void 0===n&&(n=!1),void 0===r&&(r=!1),void 0===i&&(i=null),void 0===o&&(o=!1),void 0===a&&(a=null),void 0===s&&(s=null),this.node=t,this.childList=e,this.attributes=n,this.characterData=r,this.oldParentNode=i,this.added=o,this.attributeOldValues=a,this.characterDataOldValue=s,this.isCaseInsensitive=this.node.nodeType===Node.ELEMENT_NODE&&this.node instanceof HTMLElement&&this.node.ownerDocument instanceof HTMLDocument}r.prototype.getAttributeOldValue=function(t){if(!this.attributeOldValues)return;return this.isCaseInsensitive&&(t=t.toLowerCase()),this.attributeOldValues[t]},r.prototype.getAttributeNamesMutated=function(){var t=[];if(!this.attributeOldValues)return t;return Object.keys(this.attributeOldValues)},r.prototype.attributeMutated=function(t,e){if(this.attributes=!0,this.attributeOldValues=this.attributeOldValues||{},t in this.attributeOldValues)return;this.attributeOldValues[t]=e},r.prototype.characterDataMutated=function(t){if(this.characterData)return;this.characterData=!0,this.characterDataOldValue=t},r.prototype.removedFromParent=function(t){this.childList=!0,this.added||this.oldParentNode?this.added=!1:this.oldParentNode=t},r.prototype.insertedIntoParent=function(){this.childList=!0,this.added=!0},r.prototype.getOldParent=function(){if(this.childList){if(this.oldParentNode)return this.oldParentNode;if(this.added)return null}return this.node.parentNode},e.exports=r},{}],136:[function(t,e,n){function r(t){this.projection=t,this.added=[],this.removed=[],this.reparented=[],this.reordered=[],t.getChanged(this),this.attributeChanged=t.attributeChangedNodes(),this.characterDataChanged=t.getCharacterDataChanged()}r.prototype.getOldParentNode=function(t){return this.projection.getOldParentNode(t)},r.prototype.getOldAttribute=function(t,e){return this.projection.getOldAttribute(t,e)},r.prototype.getOldCharacterData=function(t){return this.projection.getOldCharacterData(t)},e.exports=r},{}],137:[function(t,e,n){var r=t(76),i=t(135),o=t(131),a=this.__extends||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);function r(){this.constructor=t}r.prototype=e.prototype,t.prototype=new r};a(s,r);function s(t,e){var n,i,o=this;r.call(this),this.rootNode=t,this.reachableCache=void 0,this.wasReachableCache=void 0,this.anyParentsChanged=!1,this.anyAttributesChanged=!1,this.anyCharacterDataChanged=!1;for(var a=0,s=e.length;a<s;a++){var u=e[a];switch(u.type){case"childList":this.anyParentsChanged=!0;for(var c=0,d=u.removedNodes.length;c<d;++c)i=u.removedNodes[c],o.getChange(i).removedFromParent(u.target);for(var f=0,h=u.addedNodes.length;f<h;++f)i=u.addedNodes[f],o.getChange(i).insertedIntoParent(u.target);break;case"attributes":this.anyAttributesChanged=!0,n=this.getChange(u.target),n.attributeMutated(u.attributeName,u.oldValue);break;case"characterData":this.anyCharacterDataChanged=!0,n=this.getChange(u.target),n.characterDataMutated(u.oldValue)}}}s.prototype.getChange=function(t){var e=this.get(t);return e||(e=new i(t),this.set(t,e)),e},s.prototype.getOldParent=function(t){var e=this.get(t);return e?e.getOldParent():t.parentNode},s.prototype.getIsReachable=function(t){if(t===this.rootNode)return!0;if(!t)return!1;this.reachableCache=this.reachableCache||new r;var e=this.reachableCache.get(t);return void 0===e&&(e=this.getIsReachable(t.parentNode),this.reachableCache.set(t,e)),e},s.prototype.getWasReachable=function(t){if(t===this.rootNode)return!0;if(!t)return!1;this.wasReachableCache=this.wasReachableCache||new r;var e=this.wasReachableCache.get(t);return void 0===e&&(e=this.getWasReachable(this.getOldParent(t)),this.wasReachableCache.set(t,e)),e},s.prototype.reachabilityChange=function(t){if(this.getIsReachable(t))return this.getWasReachable(t)?o.STAYED_IN:o.ENTERED;return this.getWasReachable(t)?o.EXITED:o.STAYED_OUT},e.exports=s},{131:131,135:135,76:76}],138:[function(t,e,n){var r=t(57),i={INPUT:t(128),WINDOW_CLOSE:t(146),VISIBILITY:t(145),URL:t(142),VIEWPORT:t(144),SCROLL:t(140),MUTATION:t(130),MOUSE_AND_TOUCH:t(129),TEXT_SELECTION:t(141),FOCUS:t(126),VIDEO:t(143),ERROR:t(125),CANVAS:t(124),PAGE_HIDE:t(139)};function o(t,e,n){this.data={window:t,nodeMap:n,element:e},this.observers=[]}o.prototype.getInactiveObservers=function(t){var e=this.observers;return r.values(i).filter(function(e){return!r.includes(t,e)}).filter(function(t){return!a(e,t)})},o.prototype.startObservers=function(t,e,n){var r=this.data,i=this.observers;e.forEach(function(e){var o=new e(r);o.observe(t,n),i.push(o)})};function a(t,e){return r.some(t,function(t){return t instanceof e})}o.prototype.stop=function(){this.isObservedWindowClosed()||this.observers.forEach(function(t){t.disconnect(),t.cleanUp()}),this.observers=void 0},o.prototype.setDomSnapshotDone=function(){this.observers.forEach(function(t){t.setDomsnapshotDone()})},o.prototype.isObservedWindowClosed=function(){try{return this.data.window.document,this.data.window.closed||!this.data.window.addEventListener}catch(t){return!0}},o.OBSERVERS=i,e.exports=o},{124:124,125:125,126:126,128:128,129:129,130:130,139:139,140:140,141:141,142:142,143:143,144:144,145:145,146:146,57:57}],139:[function(t,e,n){var r=t(123);t(47).extend(i,r);function i(){return i.__super__.constructor.apply(this,arguments)}i.emittedActions=[],i.prototype.observe=function(t,e){return this._onPageHide=function(e){o(e,t)},this.window.addEventListener("pagehide",this._onPageHide,!0)},i.prototype.disconnect=function(){return this.window.removeEventListener("pagehide",this._onPageHide,!0)};function o(t,e){try{e.flush(e)}catch(n){e&&e.state&&e.state.eventsQueue&&e.state.eventsQueue.length&&e.state.eventsQueue.splice(0,e.state.eventsQueue.length),window.JacoRecorder?window.JacoRecorder.logOurError(new Error("pagehide error"),{eventType:t.type}):""}}e.exports=i},{123:123,47:47}],140:[function(t,e,n){var r=t(71).throttle,i=t(6).Serializer.Action,o=t(123),a=t(43).getTimestamp,s=t(75),u=t(6).Serializer;t(47).extend(c,o);function c(){return c.__super__.constructor.apply(this,arguments)}c.emittedActions=[i.SCROLL],c.prototype.observe=function(t,e){var n=this;this._onDocumentChange=function(t){d(t,n,e)},this._onWindowChange=function(t){f(t,n,e)},this._throttledOnWindowChange=r(this._onWindowChange,100),this._throttledOnDocumentChange=r(this._onDocumentChange,100),this.window.document.documentElement.addEventListener("scroll",this._throttledOnDocumentChange,!0),this.window.addEventListener("scroll",this._throttledOnWindowChange,!0)},c.prototype.disconnect=function(){this.window.document.documentElement.removeEventListener("scroll",this._throttledOnDocumentChange,!0),this.window.removeEventListener("scroll",this._throttledOnWindowChange,!0)};function d(t,e,n){var r=a(),c=s.get(t.target);if(!e.beforeSnapshotDone||c){var d=t.target.scrollLeft,f=t.target.scrollTop;n(o.createEvent([d,f,c],u.DataType.StringList,!1,r,i.SCROLL))}}function f(t,e,n){var r=a(),c=e.window.document.body,d=s.get(c),f=0,h=0;e.beforeSnapshotDone&&!d||("pageXOffset"in e.window?(f=e.window.pageXOffset,h=e.window.pageYOffset):(f=e.rootElement.body.scrollLeft,h=e.rootElement.body.scrollTop),n(o.createEvent([f,h,d],u.DataType.StringList,!1,r,i.SCROLL)))}e.exports=c},{123:123,43:43,47:47,6:6,71:71,75:75}],141:[function(t,e,n){var r=t(6).Serializer.Action,i=t(123),o=t(43).getTimestamp,a=t(109),s=t(75),u=t(6).Serializer;t(47).extend(c,i);function c(){return c.__super__.constructor.apply(this,arguments)}c.emittedActions=[r.SELECTION],c.prototype.observe=function(t,e){var n=this;return this._onChange=function(){d(n,e)},this.window.document.addEventListener("selectionchange",this._onChange,!0)},c.prototype.disconnect=function(){return this.window.document.removeEventListener("selectionchange",this._onChange,!0)};function d(t,e){try{var n="function"==typeof t.document.getSelection&&t.document.getSelection();if(!n)return;var c,d;if(c=s.get(n.anchorNode),d=s.get(n.focusNode),!t.beforeSnapshotDone||c||d){var f=[c,n.anchorOffset,d,n.focusOffset];e(i.createEvent(f,u.DataType.StringList,!1,o(),r.SELECTION))}}catch(h){return void a(t.state,h,{})}}e.exports=c},{109:109,123:123,43:43,47:47,6:6,75:75}],142:[function(t,e,n){var r=t(6).Serializer.Action,i=t(123),o=t(43).getTimestamp,a=t(29),s=t(6).Serializer;t(47).extend(u,i);function u(){return u.__super__.constructor.apply(this,arguments)}u.emittedActions=[r.URL_CHANGED],u.prototype.observe=function(t,e){var n=this,r=t.state.censorshipSettings;return this._onHashChange=function(t){d(t,r,n,e)},this._onHistoryChange=function(t,i,o){c(t,i,o,r,n,e)},this.lastUrl=a(location.href,r.urlRegex,r.urlReplaceText),history.pushState&&(this.window.addEventListener("popstate",this._onHistoryChange,!0),this.oldPushState=history.pushState,history.pushState=function(){n.oldPushState.apply(this,arguments),n._onHistoryChange.apply(n,arguments)},this.oldReplaceState=history.replaceState,history.replaceState=function(){n.oldReplaceState.apply(this,arguments),n._onHistoryChange.apply(n,arguments)}),this.window.addEventListener("hashchange",this._onHashChange,!0)},u.prototype.disconnect=function(){return history.pushState=this.oldPushState,history.replaceState=this.oldReplaceState,this.window.removeEventListener("popstate",this._onHistoryChange,!0),this.window.removeEventListener("hashchange",this._onHashChange,!0)};function c(t,e,n,i,s,u){var c=a(location.href,i.urlRegex,i.urlReplaceText);return s.lastUrl!==c&&(u(f([s.lastUrl,c],!1,o(),r.URL_CHANGED)),s.lastUrl=c),s}function d(t,e,n,i){var s=a(location.href,e.urlRegex,e.urlReplaceText),u=[n.lastUrl,s];i(f(u,!1,o(),r.URL_CHANGED)),n.lastUrl=s}function f(t,e,n,r){return i.createEvent(t,s.DataType.StringList,e,n,r)}e.exports=u},{123:123,29:29,43:43,47:47,6:6}],143:[function(t,e,n){var r=t(6).Serializer.Action,i=t(71).throttle,o=t(123),a=t(43).getTimestamp,s=t(75),u=t(6).Serializer;t(47).extend(c,o);function c(){return c.__super__.constructor.apply(this,arguments)}c.emittedActions=[r.VIDEO_PLAY,r.VIDEO_PAUSE,r.VIDEO_TIME_UPDATE,r.VIDEO_VOLUME_CHANGE],c.prototype.observe=function(t,e){var n=this;this._onPlay=function(t){d(t,n,e)},this._onPause=function(t){f(t,n,e)},this._onTimeupdate=i(function(t){h(t,n,e)},200),this._onVolumechange=function(t){l(t,n,e)},this.window.addEventListener("play",this._onPlay,!0),this.window.addEventListener("pause",this._onPause,!0),this.window.addEventListener("timeupdate",this._onTimeupdate,!0),this.window.addEventListener("volumechange",this._onVolumechange,!0)},c.prototype.disconnect=function(){
this.window.removeEventListener("play",this._onPlay,!0),this.window.removeEventListener("pause",this._onPause,!0),this.window.removeEventListener("timeupdate",this._onTimeupdate,!0),this.window.removeEventListener("volumechange",this._onVolumechange,!0)};function d(t,e,n){return p(t,e.beforeSnapshotDone,r.VIDEO_PLAY,n)}function f(t,e,n){return p(t,e.beforeSnapshotDone,r.VIDEO_PAUSE,n)}function h(t,e,n){return p(t,e.beforeSnapshotDone,r.VIDEO_TIME_UPDATE,n)}function l(t,e,n){return p(t,e.beforeSnapshotDone,r.VIDEO_VOLUME_CHANGE,n)}function p(t,e,n,r){var i=a(),c=s.get(t.target);if(!e||c){var d=[c,t.target.currentTime,t.target.volume];r(o.createEvent(d,u.DataType.StringList,!1,i,n))}}e.exports=c},{123:123,43:43,47:47,6:6,71:71,75:75}],144:[function(t,e,n){var r=t(35).debounce,i=t(6).Serializer.Action,o=t(123),a=t(43).getTimestamp,s=t(6).Serializer,u=t(109);t(47).extend(f,o);function c(t){return t.innerWidth}function d(t){return t.innerHeight}function f(){return f.__super__.constructor.apply(this,arguments)}f.emittedActions=[i.VIEWPORT_CHANGED],f.prototype.observe=function(t,e){var n=this;this.state=t.state,this.windowX=this.windowY=0,this._onChange=r(function(t){h(t,n,e)},500),this.window.addEventListener("resize",this._onChange,!0)},f.prototype.disconnect=function(){this.window.removeEventListener("resize",this._onChange,!0)};function h(t,e,n){var r,f;try{r=c(e.window),f=d(e.window)}catch(h){return void("object expected"===h.message.toLowerCase()&&"permission denied"===h.message.toLowerCase()||u(e.state,h,{}))}var l=[e.windowX,e.windowY,r,f];n(o.createEvent(l,s.DataType.StringList,!1,a(),i.VIEWPORT_CHANGED))}e.exports=f},{109:109,123:123,35:35,43:43,47:47,6:6}],145:[function(t,e,n){var r=t(6).Serializer.Action,i=t(123),o=t(43).getTimestamp,a=t(6).Serializer;t(47).extend(s,i);function s(){return s.__super__.constructor.apply(this,arguments)}s.emittedActions=[r.VISIBILITY],s.prototype.observe=function(t,e){var n=this;this._onVisibilityChanged=function(t){u(n,e)},"undefined"!=typeof this.document.hidden?(this.hidden="hidden",this.visibilityChange="visibilitychange"):"undefined"!=typeof this.document.webkitHidden&&(this.hidden="webkitHidden",this.visibilityChange="webkitvisibilitychange"),this.window.document.addEventListener(this.visibilityChange,this._onVisibilityChanged,!1)},s.prototype.disconnect=function(){this.window.document.removeEventListener(this.visibilityChange,this._onVisibilityChanged,!1)};function u(t,e){e(i.createEvent([!t.document[t.hidden]],a.DataType.StringList,!1,o(),r.VISIBILITY))}e.exports=s},{123:123,43:43,47:47,6:6}],146:[function(t,e,n){var r=t(123),i=t(43).getTimestamp,o=t(6).Serializer,a=t(6).Serializer.Action;t(47).extend(s,r);function s(){return s.__super__.constructor.apply(this,arguments)}s.emittedActions=[a.WINDOW_CLOSE],s.prototype.observe=function(t,e){this._onUnload=function(){u(e)},this.window.addEventListener("beforeunload",this._onUnload,!1)},s.prototype.disconnect=function(){this.window.removeEventListener("beforeunload",this._onUnload,!1)};function u(t){t(r.createEvent([],o.DataType.StringList,!1,i(),a.WINDOW_CLOSE))}e.exports=s},{123:123,43:43,47:47,6:6}],147:[function(t,e,n){"use strict";var r=t(8),i=t(6).Serializer,o=t(88),a=i.Action,s=t(103),u=t(29),c=t(43).getTimestamp,d=t(105);function f(){}f.newPageEvents=function(t,e,n,r,i){var o=[p(n,t.urlRegex,t.urlReplaceText,c())];return e.indexOf(a.PAGE_SNAPSHOT_EVENTS)<0&&(o.push(_(n,c())),o.push(h(r,i,t,c())),o.push(v(n,c()))),o};function h(t,e,n,o){d.notifyReady();var u=r.getBuilder(),c=l(u,t,e,n);return s({offset:c,builder:u},i.DataType.Serializer_DOMNode,!1,o,a.DOM_SNAPSHOT)}function l(t,e,n,r){return e.clear(),o.serializeSubTree(t,n,null,null,e,r)}function p(t,e,n,r){var o=u(t.location.href,e,n),c=[null,o];return s(c,i.DataType.StringList,!1,r,a.URL_CHANGED)}function v(t,e){var n=[t.scrollX,t.scrollY,null];return s(n,i.DataType.StringList,!1,e,a.SCROLL)}function _(t,e){var n=[t.screenLeft-t.screen.availLeft,t.screenTop-t.screen.availTop,t.innerWidth,t.innerHeight];return s(n,i.DataType.StringList,!1,e,a.VIEWPORT_CHANGED)}e.exports=f},{103:103,105:105,29:29,43:43,6:6,8:8,88:88}],148:[function(t,e,n){function r(){this.__timeoutID=null,this.__lastBatchTimeInMS=0}function i(t,e,n){e.pollingIntervalInMS=void 0!==e.pollingIntervalInMS?e.pollingIntervalInMS:500,e.timeoutInMS=void 0!=e.timeoutInMS?e.timeoutInMS:2e3,e.batchSize=void 0!=e.batchSize?e.batchSize:50,this.__timeoutID&&clearTimeout(this.__timeoutID),this.__lastBatchTimeInMS=performance.now(),this.pollQueue(t,e,n)}Object.defineProperty(r.prototype,"watch",{value:i}),r.prototype.stop=function(){clearTimeout(this.__timeoutID),this.__timeoutID=null},r.prototype.pollQueue=function(t,e,n){var r=!1;if(o(t,e.batchSize)||a(this.__lastBatchTimeInMS,e.timeoutInMS)){var i=s(t,e.batchSize);if(this.__lastBatchTimeInMS=performance.now(),i.length>0){r=!0;var c=this;n(i,function(){u(t,i.length),c.scheduleNextIteration(t,e,n)})}}r||this.scheduleNextIteration(t,e,n)},r.prototype.flushSync=function(t){return t.splice(0,t.length)},r.prototype.scheduleNextIteration=function(t,e,n){var r=this;clearTimeout(this.__timeoutID),this.__timeoutID=setTimeout(function(){r.pollQueue(t,e,n)},e.pollingIntervalInMS)};function o(t,e){return t.length>=e}function a(t,e){return 0!=t&&performance.now()-t>e}function s(t,e){return t.slice(0,e)}function u(t,e){return t.splice(0,e)}e.exports=r},{}],149:[function(t,e,n){var r=t(6).Serializer,i=t(6).Serializer.Action,o=t(43).getTimestamp,a=t(103);function s(t){return t.timestamp?1e3*t.timestamp:o()}function u(t,e,n,i){var o=a(n,r.DataType.StringList,!1,i,e);t.handleManualEvent(o)}function c(t,e,n){var r=s(n),o=[e,JSON.stringify(n)];u(t,i.CUSTOM_EVENT,o,r)}function d(t,e){var n=s(e),r=[JSON.stringify(e)];u(t,i.IDENTIFY,r,n)}e.exports={recordCustomEvent:c,recordIdentifyEvent:d}},{103:103,43:43,6:6}],150:[function(t,e,n){var r=t(22),i=t(162),o=t(6),a=t(50),s=t(32).isRestrictedHostname,u=t(94);function c(t,e,n){this.config={},this.__state=d(t,e,n),this.state=this.__state.client.state}c.prototype.ACTIONS=o.Serializer.Action,c.prototype.__VERSION=i,c.prototype.push=function(){for(var t=Array.prototype.slice.call(arguments),e=0;e<t.length;e++){var n=t[e];if(void 0===this[n[0]]){var r="string"==typeof n[0]?n[0].substring(0,100):"";this.logOurError(new Error("Unsupported function: JacoRecorder.push"),{functionName:r})}else this[n[0]].apply(this,n.slice(1))}return this},c.prototype.exec=function(){this.push.apply(this,arguments)},c.prototype.init=function(t,e,n){try{e instanceof Function&&(n=e,e={}),n=n||l;var i=u();if(s(e.environmentSettings,i))return n("Init: Blocked domain");var o=/^([0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12})|(.*__\d+)$/i;if(r(t)&&!t.match(o))return n("Init: Invalid API Key, expected 'String' UUID or {guid}__{envId}, received "+Object.prototype.toString.call(t));if(this.__state.initCalled)return this;return this.__state.initCalled=!0,e=e?e:{},this.__state.initConfig=e,this.__state.client.init(this.__state.client,t,e,n),this}catch(a){return this.logOurError(a),!1}},c.prototype.identify=function(t,e){try{var n=h(this,this.state.apiToken,t,e||l);this.__state.client.identify(this.__state.client,t,this.__state.initCalled,n)}catch(r){return this.logOurError(r),!1}},c.prototype.trackEvent=function(t,e,n){try{var r=n||l;this.__state.client.trackEvent(this.__state.client,t,e,this.__state.initCalled,r)}catch(i){return this.logOurError(i),!1}},c.prototype.removeUserTracking=function(t){try{return this.__state.client.removeUserTracking(this.__state.client,f(this,this.__state.windowObject,this.__state.rootElement,this.__state.ClientObject,t)),this}catch(e){return this.logOurError(e),!1}},c.prototype.startRecording=function(){return this.__state.client.startRecording(this.__state.client),this},c.prototype.stopRecording=function(){try{return this.__state.client.stopRecording(this.__state.client),this}catch(t){return this.logOurError(t),!1}},c.prototype.runQueuedMethods_=function(t){for(;t.length;){var e=t.shift();this.push(e)}},c.prototype.logOurError=function(t,e){try{this.__state.client.logOurError(this.__state.client,t,e)}catch(n){return!1}},c.prototype.startPlaybackRecording=function(t){t=t||function(){};try{this.__state.initConfig.isProcessingManualStart=!0,this.__state.client.startPlaybackRecording(this.__state.client,t)}catch(e){return this.logOurError(e),!1}};function d(t,e,n,r){return{windowObject:t,rootElement:e,ClientObject:n,client:new n(t,e),initCalled:!1,initConfig:r}}function f(t,e,n,r,i){return function(){t.__state=d(e,n,r,t.__state.initConfig),t.state=t.__state.client.state,i instanceof Function&&i()}}function h(t,e,n,i){return function(o){if(o&&r(o.message)&&o.message.indexOf("Already identified")>-1)return t.removeUserTracking(function(){return t.init(e,t.__state.initConfig,function(){return t.__state.client.identify(t.__state.client,n,t.__state.initCalled,i)})});i(o)}}function l(t){t&&a.log(t)}e.exports=c},{162:162,22:22,32:32,50:50,6:6,94:94}],151:[function(t,e,n){var r=t(76),i=t(138),o=t(120),a=t(152),s=t(158),u=t(153),c=t(109),d=t(108),f=t(66),h=t(99),l=t(156),p=t(157),v=t(154),_=t(70).get,g=t(155),b=t(148),y=t(8),m=t(43).getTimestamp,w=t(147),E=t(127),O=t(95)(window),I=t(57),S=t(160),D=t(11),T=t(160).getIFrameId,N=t(122),M=t(6).Serializer.Action,R=t(68),C=t(101),x=t(46).generateRandomGUID,A=t(105),L=22,k=1014,P="access is denied";function U(t,e){this.state={mainFrame:{window:t,windowId:S.getWindowId(),rootElement:e},eventsQueue:[],eventsQueueWatcher:new b,isInitialized:!1,isRecording:!1,waitingForInit:[],apiToken:null,uid:null,worker:null,lastBatchTime:m(),observerManagers:{},crossOriginWindowsToIFrameIdMap:new O,iframeStates:{}}}U.prototype.init=u,U.prototype.identify=a,U.prototype.trackEvent=s,U.prototype.startRecording=l,U.prototype.stopRecording=p,U.prototype.removeUserTracking=v,U.prototype.startPlaybackRecording=g,U.prototype.flush=ot,U.prototype.handleManualEvent=tt,U.prototype.logOurError=ht,U.prototype.newPageEvent=H,U.prototype.__observeWindow=W,U.prototype.__onInitDone=V,U.prototype.__onWorkerError=ft,U.prototype.__startQueueWatchers=B,U.prototype.__updateUntrackedEvents=Y;function B(t){t.state.eventsQueueWatcher.watch(t.state.eventsQueue,{timeoutInMS:3e3,batchSize:50},function(e,n){if(!t.state.isInitialized)return;nt(t,e,function(e){e?c(t.state,e):n()})})}function F(t,e){e instanceof Array||(e=[e]);for(var n=0;n<e.length;n++){var r=e[n].asUint8Array();t.state.eventsQueue.push(r)}}function V(t,e,n){try{R.reset(),t.state.session={id:t.state.sessionId,startTime:Date.now()};var r=t.state.identityStorage.getUid();r&&"undefined"!==r||(r=x(),t.state.identityStorage.setUid(r)),t.state.uid=r,t.state.censorshipSettings=C(t.state.config.environmentSettings),t.state.isInitialized=!0,t.state.initResponse=e;var i=[];t.state.untrackedEvents=i.map(D),t.state.providedId=t.state.identityStorage.getProvidedId(t.state.apiToken),st(t),t.startRecording(t);var o={id:t.state.session.id,startTime:t.state.session.startTime,sessionUrl:_(t.state.session.id),providedId:t.state.providedId};n(null,o),z(t),t.state.waitingForInit.forEach(function(e){e[0].apply(t,e[1])}),t.state.waitingForInit=[],h.removeReferer()}catch(a){c(t.state,a)}}function z(t){t.state.mainFrame.window.addEventListener("message",function(e){if("request-init-cross-origin-iframe"===e.data.type){var n=e.source,r=t.state.crossOriginWindowsToIFrameIdMap.get(n);r&&j(t,n,r)}})}function j(t,e,n){var r={type:"init-cross-origin-iframe",data:{initResponse:t.state.initResponse,iframeId:n,parentWindowId:t.state.mainFrame.windowId}};A.onReady(function(){e.postMessage(r,"*")})}function W(t,e){var n=new r;e.nodeMap=n;var a=E(t.state.untrackedEvents);e.parentWindowId&&a.push(i.OBSERVERS.PAGE_HIDE);var s=new i(e.window,e.rootElement,n),u=s.getInactiveObservers(a);if(s.startObservers(t,u,f(Z,t,e)),t.state.untrackedEvents.indexOf(M.URL_CHANGED)<0){var c=et(t,e);c.forEach(f(Z,t,e))}s.setDomSnapshotDone(),t.state.observerManagers[e.windowId]=s;var d={onIframeAdded:function(n){J(t,n,e.windowId)},onIframeRemoved:function(e){q(t,e)}},h=new o(t,d,e.rootElement);h.startDetectingIframes(),e.iframeDetector=h}function H(t){t||(t=this.state.mainFrame);var e=et(this,t);e.forEach(f(Z,this,t))}function Y(t,e){var n=I.areArraysEqual(t.state.untrackedEvents,e);if(n)return;t.state.untrackedEvents=e,t.state.initResponse.settings.untrackedEvents=e;var r=t.state.observerManagers;Object.keys(r).forEach(function(n){var r,o=t.state.observerManagers[n],a=e;t.state.mainFrame.windowId===n?r=t.state.mainFrame:(a=a.concat([i.OBSERVERS.PAGE_HIDE]),r=t.state.iframeStates[n]);var s=et(t,r);s.shift(-1),s.forEach(f(Z,t,r));var u=o.getInactiveObservers(a);o.startObservers(t,u,f(Z,t,r))})}function J(t,e,n){if(n!==t.state.mainFrame.windowId)return;var r;e.__JACO_IFRAME_ID?r=e.__JACO_IFRAME_ID:(r=T(),e.__JACO_IFRAME_ID=r);var i=!X(e),o=!i&&K(e),a=i&&Q(e)||o;a&&G(t,e,n),e.addEventListener("load",function(){if(!Q(e))return;var r=t.state.crossOriginWindowsToIFrameIdMap.has(e.contentWindow),i=X(e)&&e.contentWindow.__JACO_IFRAME_OBSERVED,o=r||i;o||G(t,e,n)})}function G(t,e,n){var r=e.__JACO_IFRAME_ID,i={windowId:r,parentWindowId:n,window:e.contentWindow};t.state.iframeStates[r]=i,X(e)?(e.contentWindow.__JACO_IFRAME_OBSERVED=!0,e.contentWindow.JacoRecorder=t.state.mainFrame.window.JacoRecorder,i.rootElement=e.contentDocument,W(t,i)):(i.isCrossOrigin=!0,t.state.crossOriginWindowsToIFrameIdMap.set(e.contentWindow,r),j(t,e.contentWindow,r))}function q(t,e){var n=e.__JACO_IFRAME_ID;if(t.state.observerManagers[n]&&(t.state.observerManagers[n].stop(),delete t.state.observerManagers[n]),t.state.iframeStates[n]){var r=t.state.iframeStates[n];t.state.crossOriginWindowsToIFrameIdMap["delete"](r.window),r.nodeMap&&r.nodeMap.clear(),delete t.state.iframeStates[n]}}function K(t){return t.contentWindow&&t.contentWindow.document&&t.contentWindow.document.documentElement&&"about:blank"!=t.contentWindow.location.href}function Q(t){return t.contentWindow}function X(t){try{var e=t.contentDocument||t.contentWindow.document}catch(n){return!1}return!!e}function Z(t,e,n){if(window._testhook&&window._testhook("NewEvent",n),$(t,n.action)){var r=y.build(n,e.windowId,e.parentWindowId);F(t,r),t.state.onEventHandled&&t.state.onEventHandled(n)}}function $(t,e){if(t.state.untrackedEvents.indexOf(e)>-1)return!1;return!0}function tt(t){var e=this.state.mainFrame.windowId,n=y.build(t,e,null);F(this,n)}function et(t,e){return w.newPageEvents(t.state.censorshipSettings,t.state.untrackedEvents,e.window,e.nodeMap,e.rootElement)}function nt(t,e,n){var r=rt(t,e);it(t,r,n)}function rt(t,e){var n=m(),r=n-t.state.lastBatchTime;return t.state.lastBatchTime=n,{uid:t.state.uid,sessionId:t.state.session.id,apiToken:t.state.apiToken,sessionStartTime:t.state.session.startTime.toString(),eventsUint8Array:e,batchDelta:r.toString()}}function it(t,e,n){N.sendMessageToServer(t,e,n)}function ot(t){var e=t.state.eventsQueueWatcher.flushSync(t.state.eventsQueue).filter(at);if(e.length>0){var n=rt(t,e),r=ut(n);try{window.localStorage.setItem("__jaco."+m(),r)}catch(i){var o={};i.code===L||i.code===k||i.message.toLowerCase().indexOf(P)>-1||c(t.state,i,o),N.sendMessageToServer(t,n)}}}function at(t){return t.buffer.byteLength>0}function st(t){Object.keys(localStorage).forEach(function(e){if("__jaco"===e.split(".")[0]){var n=localStorage.getItem(e);if(localStorage.removeItem(e),n){var r=dt(n);N.sendMessageToServer(t,r)}}})}function ut(t){return JSON.stringify(t,function(t,e){if("eventsUint8Array"===t)return e.map(ct);return e})}function ct(t){for(var e=new Array(t.length),n=0;n<t.length;n++)e[n]=t[n];return e}function dt(t){return JSON.parse(t,function(t,e){if("eventsUint8Array"===t)return e.map(function(t){return new Uint8Array(t)});return e})}function ft(t,e,n){c(e.state,n)}function ht(t,e,n){d(t.state,e,{extraInformation:n})}e.exports=U},{101:101,105:105,108:108,109:109,11:11,120:120,122:122,127:127,138:138,147:147,148:148,152:152,153:153,154:154,155:155,156:156,157:157,158:158,160:160,43:43,46:46,57:57,6:6,66:66,68:68,70:70,76:76,8:8,95:95,99:99}],152:[function(t,e,n){var r=t(22),i=t(149).recordIdentifyEvent;e.exports=function(t,e,n,o){var a,s=t.state.identityStorage.getProvidedId(t.state.apiToken),u=r(e),c=""+e,d=null==e;if(d&&s)a="Identify: Already identified with "+s;else{if(d)return o();u?c.length<1||c.length>100?a="Identify: user id should be between 1 and 100 characters":n?s&&s!==c&&(a="Identify: Already identified with "+s):a="Identify: Please call init before calling identify":a="Identify: invalid user id, expected 'String', received "+Object.prototype.toString.call(e)}var f={isString:""+u,userId:""+e,oldId:""+s,errorMessage:""+a};if(d||i(t,f),a){var h=new Error(a);return o(h)}return t.state.identityStorage.setProvidedId(e,t.state.apiToken),o()}},{149:149,22:22}],153:[function(t,e,n){var r=t(46).generateRandomGUID,i=t(45).getWmUid,o=t(113),a=t(108),s=t(1),u=t(99),c=t(122),d=t(50),f=t(32).isRestrictedIp,h=t(118),l=t(117),p=t(105),v=t(69),_=t(100);function g(t){return 403===t.status}e.exports=function(t,e,n,a){var c=r();t.state.apiToken=e,t.state.identityStorage=n.identityStorage||u,t.state.config=n,t.state.sessionId=n.sessionId,p.clearReadyFlag();var d=function(t){a.apply(this,arguments),t||window._walkmeInternals.ctx.get("EventsTrigger").sync("VisionsRecorder:RecordingStarted")};if(n.crossOriginIFrame)b(t,n,d);else{var f={sId:t.state.sessionId,wm:{uId:i()}},h=JSON.stringify(f);function l(e,n,r){_.set(n,t.state.sessionId),m(e,n,{client:t,retryCount:r,initRequestId:c},d)}if(w(n)&&!n.isProcessingManualStart)return void d("Init aborted: waiting for manual start command");var v=_.get(t.state.sessionId);if(v)return void m(null,v,{client:t,retryCount:0,initRequestId:c},d);o(s.init,h,{shouldDisableRetryPredicate:g,rapiUrl:n.rapiUrl},l)}};function b(t,e,n){var r=e.allowedOrigin||"*";t.state.mainFrame.window.parent.postMessage({type:"request-init-cross-origin-iframe"},r),t.state.mainFrame.window.addEventListener("message",function(e){if("*"!==r&&e.origin!==r)return;var i=e.data.data,o=e.data.type;if("init-cross-origin-iframe"===o)t.state.mainFrame.windowId=i.iframeId,t.state.mainFrame.parentWindowId=i.parentWindowId,y(t),t.__onInitDone(t,i.initResponse,n);else if("start-playback-recording-corss-origin-iframe"===o){var a=i.untrackedEvents;t.__updateUntrackedEvents(t,a)}})}function y(t){t.state.worker=c.start(function(e){t.__onWorkerError(t.state.worker,t,e)})}function m(t,e,n,r){var i,o=n.client,s=n.retryCount,u=n.initRequestId;if(t&&403===t.status)i="JacoRecorder: you're unauthorized to record this domain",r(new Error(i)),d.log(i);else if(t)a(o.state,t,{extraInformation:{errMessage:"failed to init session and retry stopped",retryCount:s,initRequestId:u}}),r(t);else{var c=JSON.parse(e);if(c.error)return r(c.error);if(c.throttling===!0)return i="JacoRecorder: Rate limit exceeded",r(i);var p=c.env&&c.env.ip;if(!p)return r("Init: Missing IP address");try{if(f(o.state.config.environmentSettings,p))return r("Init: Blocked IP address")}catch(t){return a(o.state,t,{extraInformation:{errMessage:"failed to check IP restriction rules",initRequestId:u}}),r("Init: Blocked IP address")}s>0&&a(o.state,new Error("init started with retries"),{extraInformation:{errMessage:"init started with retries",retryCount:s,initRequestId:u}}),h.startUbtSync();var _=h.getUbtStatus();if(!_.shouldRecord)return _.isManual||l.setSuspended(!0),r("Can not start recording because UBT is not recording");y(o),o.__onInitDone(o,c,r),v.info("init done")}}function w(t){var e=t.environmentSettings.loading;return e&&"manual"===e.visionsLoadingMode}},{1:1,100:100,105:105,108:108,113:113,117:117,118:118,122:122,32:32,45:45,46:46,50:50,69:69,99:99}],154:[function(t,e,n){e.exports=function(t,e){t.stopRecording(t,r(e,t))};function r(t,e){return function(){e.state.identityStorage.removeUid(),e.state.identityStorage.removeProvidedId(e.state.apiToken),t()}}},{}],155:[function(t,e,n){var r=t(153),i=t(52),o=t(117),a=t(118);e.exports=function(t,e){var n=a.getUbtStatus();if(!n.shouldRecord)throw window.JacoRecorder&&window.JacoRecorder.logOurError(new Error("Attempt to start Visions Recorder while DXA is not recording")),new Error("Can not start Visions Recorder because DXA is not recording.");var s=i({},t.state.config,{isProcessingManualStart:!0}),u=t.state.apiToken;r(t,u,s,e),o.setSuspended(!1)}},{117:117,118:118,153:153,52:52}],156:[function(t,e,n){var r=t(159);e.exports=function(t){return r(t,i)};function i(t){if(window._testhook&&window._testhook("RecordingStarted",t),t.state.isRecording)return t.__startQueueWatchers(t),this;t.state.isRecording=!0,t.__startQueueWatchers(t),t.__observeWindow(t,t.state.mainFrame)}},{159:159}],157:[function(t,e,n){var r=t(159),i=t(117);e.exports=function(t,e){return i.setSuspended(!1),r(t,o(e))};function o(t){return function(e){if(e.state.isRecording){e.state.isRecording=!1;for(var n in e.state.observerManagers){var r=e.state.observerManagers[n];r.stop()}e.state.mainFrame.iframeDetector.disconnect()}if(t instanceof Function)return t()}}},{117:117,159:159}],158:[function(t,e,n){var r=t(22),i=t(149).recordCustomEvent,o=t(119),a=t(109),s=t(108);e.exports=function(t,e,n,u,c){var d,f,h,l=""+e,p="TrackEvent: track failed - ";if(u?r(e)?l.length<1?d=p+"event name can't be empty":l.length>200?d=p+"event name's length should be no longer than 200 characters":n&&"[object Object]"!==Object.prototype.toString.call(n)?d=p+"event's properties are optional but if passed - must be an object":n&&Object.keys(n).length>500?d=p+"event can have up to 500 data parameters":(h=o(n),f=h.warning,h.error&&(d=p+h.error)):d=p+"event name must be a string":d=p+"please call init before calling trackEvent",d){var v=new Error(d);return v.requestBody=JSON.stringify(n),a(t.state,v),s(t.state,v),c(v)}return i(t,l,h.validatedData),f?c(new Error(f)):c()}},{108:108,109:109,119:119,149:149,22:22}],159:[function(t,e,n){var r=t(109);e.exports=function(t,e,n){if(t.state.isInitialized)return e.apply(t,[t]);n?r(t.state,new Error(e+" called before init, illegal")):t.state.waitingForInit.push([e,[t]])}},{109:109}],160:[function(t,e,n){var r,i=t(46).generateRandomGUID,o=window.sessionStorage,a="__jacoWindowId",s="__jacoUsedWindowId_";function u(){if(r)return r;var t=d();return t&&!p(t)||(t=i(),f(t)),h(t),window.addEventListener("beforeunload",function(){l(t)}),r=t,t}function c(){return i()}function d(){return o.getItem(a)}function f(t){_(o,a,t)}function h(t){var e=v(t);_(localStorage,e,!0)}function l(t){var e=v(t);localStorage.removeItem(e)}function p(t){var e=v(t);return!!localStorage.getItem(e)}function v(t){return s+"__"+t}function _(t,e,n){try{t.setItem(e,n)}catch(r){return!1}return!0}n.getWindowId=u,n.getIFrameId=c},{46:46}],161:[function(t,e,n){var r=t(46).generateRandomGUID,i=t(73),o=t(8),a=t(11),s=t(104),u=["customEvent","mouseClick","input","url","error"],c={};function d(e){var n=i(t(98));return n.addEventListener("message",function(t){var e=t.data.messageId,n=t.data.error;h(e)&&(l(n,e),delete c[e])}),n.addEventListener("error",e),n}function f(t,e,n,i,o){var a=r();c[a]=o,t.postMessage({command:e,params:n,messageId:a},i)}function h(t){return!!c[t]}function l(t,e){var n=c[e];n(t)}function p(t,e,n,r,i){var o=s.isFeatureEnabled(s.featuresNames.NO_TRANSFERABLE_LIST),a=o?[]:e.eventsUint8Array.filter(v).map(function(t){return t.buffer});f(t.state.worker,"sendMessage",[e,n,r],a,i)}function v(t){var e=o.fromBuffer(t).action(),n=a(e);return u.indexOf(n)===-1}e.exports={start:d,sendToWorker:f,sendMessage:p}},{104:104,11:11,46:46,73:73,8:8,98:98}],162:[function(t,e,n){e.exports="2.0.12"},{}]},{},[27])}).call(e,function(){return this}())}])});

"undefined"!=typeof _walkmeInternals&&_walkmeInternals.wmloader&&_walkmeInternals.wmloader.define("wm-plugin-user-behavior@5.0.67@prelib",{name:"wm-plugin-user-behavior",version:"5.0.67",toolbelt:"1.2.9",packageDate:"2022-01-18T14:57:59.792Z",entry:"prelib"},function(e){return function(e){var t={};function r(n){if(t[n])return t[n].exports;var i=t[n]={exports:{},id:n,loaded:!1};return e[n].call(i.exports,i,i.exports,r),i.loaded=!0,i.exports}return r.m=e,r.c=t,r.p="",r(0)}([function(e,t,r){e.exports=r(1)},function(e,t,r){var n=r(2).createPluginEntry;e.exports=n(function(e){var t=r(3).WmPluginAbra;e(new t)})},function(e,t){var r,n={createPluginEntry:i,getCtx:s};function i(e){return function(t){r=t(),e(o)}}function s(){return r.ctx}function o(e){r.plugin(e)}t.__esModule=!0,t["default"]=n,t.createPluginEntry=n.createPluginEntry,t.getCtx=n.getCtx},function(e,t,r){var n=r(2).getCtx;function i(){this.run=e;function e(){return r(4).start(n())}}t.WmPluginAbra=i},function(e,t,r){var n=function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function n(){this.constructor=e}n.prototype=t.prototype,e.prototype=new n},i=function(){function e(){}return e.registerClass=function(t,r,n){e.classRegistrations.push({name:t,ctor:r,dependencies:n})},e.getCtx=function(){if(e.ctx)return e.ctx;throw new Error("ctx is not set")},e.load=function(t){e.ctx=t,e.loadMockDependencies(t),e.loadModules(t);for(var r=0,n=e.classRegistrations;r<n.length;r++){var i=n[r],s=t.register(i.name).asCtor(i.ctor);i.dependencies&&s.dependencies(i.dependencies)}e.classRegistrations=[]},e.loadMockDependencies=function(e){e.register("Abra:Walkme").asInstance(window._walkMe)},e.loadModules=function(e){e.register("Abra:EventObfuscator").asCtor(r(5).Encoder).dependencies("Abra:JSON"),e.register("Abra:QueryGenerator").asFunction(function(e){var t=r(7)({}),n=r(10)(e,t);return{generate:function(t){return n.generate(e(t))}}}).dependencies("wmjQuery"),e.register("Abra:XpathEscaper").asInstance(r(12).XpathEscaper)},e.classRegistrations=[],e}(),s=function(){function e(e,t,r,n,i,s){this.jQuery=e,this.xPathGenerator=t,this.elementDescriptionGenerator=r,this.meaningfulElementGetter=n,this.commonEventAttributesProvider=i,this.privacyUtils=s}return e.prototype.getLocation=function(e){var t=this.commonEventAttributesProvider.get();return t&&t.ctx&&t.ctx.location},e.prototype.getElementAttributes=function(e){var t=this.privacyUtils.shouldCensorText(null,e);return this.xPathGenerator.getAttributes(this.jQuery(e),t)},e.prototype.getElementId=function(e){return this.xPathGenerator.getId(this.jQuery(e))},e.prototype.getElementClasses=function(e){return this.xPathGenerator.getClasses(this.jQuery(e))},e.prototype.getElementText=function(e){if(!this.privacyUtils.shouldCensorText(null,e)){var t=this.meaningfulElementGetter.get(e);return this.elementDescriptionGenerator.getText(t?t.element:e).text}},e.prototype.load=function(){a.AbraObject=this.jQuery.extend(a.AbraObject,{getLocation:this.getLocation.bind(this),getElementAttributes:this.getElementAttributes.bind(this),getElementId:this.getElementId.bind(this),getElementClasses:this.getElementClasses.bind(this),getElementText:this.getElementText.bind(this)})},e}();i.registerClass("Abra:CaptureElementApiLoader",s,"wmjQuery, Abra:XPathGenerator, Abra:ElementDescriptionGenerator, Abra:MeaningfulElementGetter, CommonEventAttributesProvider, Abra:PrivacyUtils");var o=function(){function e(e,t,r,n){var i=this;this.logger=e,this.eventsTrigger=t,this.timingUtils=r,this.lastNotification=null,this.cachedResult=null,this.collectByDefault=!this.isManualMode(n),a.AbraObject.isCollecting=function(){return i.shouldCollect()},this.cleanCachedResultOnNextEventLoop=this.timingUtils.createOnNextEventLoopFunc(function(){i&&(i.cachedResult=null)})}return e.prototype.shouldCollect=function(){if(null!==this.cachedResult)return this.cachedResult;try{this.cachedResult=this.querySite(),null!==this.cachedResult&&this.cleanCachedResultOnNextEventLoop()}catch(e){this.cachedResult=null,this.logger.error("Error on ShouldCollectUserData",e)}var t=null!==this.cachedResult?this.cachedResult:this.collectByDefault;return this.notifyChange(t),t},e.prototype.querySite=function(){var e=window.isWalkmeUserBehaviorDataCollectionEnabled;if(e&&e.constructor&&e.call&&e.apply){var t=e();if(t===!0||t===!1)return t;throw new Error("return value expected to be boolean")}return null},e.prototype.isManualMode=function(e){var t=e.get();return!(!t||!t.loading||"manual"!==t.loading.mode)},e.prototype.notifyChange=function(e){this.lastNotification!==e&&(this.lastNotification=e,this.eventsTrigger.async("UBT:CollectionStatusChanged",{isCollecting:e}))},e}();i.registerClass("Abra:CollectionIndicator",o,"Abra:Logger, EventsTrigger, Abra:TimingUtils, Abra:DataCollectionSettingsWrapper");var a;!function(e){e.App={name:"abra",version:"5.0.67",rev:"9a2f416"},e.WalkmeInternals=window._walkmeInternals,e.AbraObject={version:e.App.version,rev:e.App.rev};function t(t){e.WalkmeInternals.abraState=t}e.setState=t;function r(r){t("errored"),e.AbraObject.errorInfo=r}e.setErrorInfo=r;function n(e){try{var t=e.get("EventsListener"),n=function(){!e.has("Abra:InsightsConfigurationGetter")&&e.has("wmjQuery")&&e.has("SettingsFile")&&e.has("PromiseManager")&&e.has("TimerManager")&&e.has("CommonUtils")&&(e.register("Abra:InsightsConfigurationGetter").asCtor(u).dependencies("wmjQuery, SettingsFile, PromiseManager, TimerManager, CommonUtils"),e.get("Abra:InsightsConfigurationGetter").get())};t.once("DICreated",n);var i=R.allowOnce(function(){n(),o(e)});t.once("wm.pagescript.envIdInjected",i),t.once("BeforeWalkmeReady",i),T.enable(e),s(e)}catch(a){r({error:a})}return null}e.start=n;function s(e){var t={initializationData:void 0};e.get("EventsListener").once("PageVisitIdUpdated",function(e,r){t.initializationData=r}),e.register("Abra:PageLoadSync").asInstance(t)}function o(n){n.register("Abra:UbtPerformance").asCtor($).dependencies("PerformanceBILogger"),e.AbraObject.dbg=new h(n).getApi();var s=q.registerLogger(n),o="verify requirements";try{if((e.WalkmeInternals.abra||e.WalkmeInternals.ubt)&&"removed"!==e.WalkmeInternals.abraState)return s.error("Abra was already loaded");e.WalkmeInternals.abra=e.AbraObject,e.WalkmeInternals.ubt=e.AbraObject;var a=n.get("HostData");if(a.isIE()&&!a.isIE(9,"gte"))return r({error:new Error("Browser is not supported")});if(!n.get("AuditingEnabledIndicator").isEnabled())return r({error:new Error("Disabled due to noAudit feature enabled")});var u=s.perf("load");t("preload"),o="load abra to ctx",i.load(n),n.get("EventsTrigger").sync("Abra:CtxLoaded"),o="load abra";var l=!!n.get("IsInEditor").get(),c=n.get("Abra:InsightsConfigurationGetter");c.get()["catch"](function(e){s.error("error loading ubt, using fallback",e),c.overrideConfiguration()}).then(function(){return n.get("Abra:Loader").load(l).then(function(e){e&&u.stop()})})["catch"](function(e){s.error("error loading ubt",e),r({error:e})})}catch(p){s.error("could not "+o,p),r({error:p})}}}(a||(a={})),e.exports=a;var u=function(){function e(e,t,r,n,i){this.wmjQuery=e,this.settingsFile=t,this.promiseManager=r,this.timerManager=n,this.commonUtils=i,this.promiseResolved=!1}return e.prototype.get=function(){return this.promise=this.promise||this.fetch(),this.promise},e.prototype.getSync=function(){if(!this.promiseResolved)throw new Error('InsightsConfigurationGetter.getSync should be called within "get" function scope');return this.configuration},e.prototype.overrideConfiguration=function(e){this.promise=this.promiseManager.resolve(e),this.configuration=e,this.promiseResolved=!0},e.prototype.getFileExtension=function(e){return e.substring(e.lastIndexOf(".")+1)},e.prototype.fetch=function(){var e=this,t=new this.promiseManager.Promise(function(t,r){var n=localStorage["ubt-te-whitelist-url"]||e.settingsFile.getSettingsFile().InsightsConfigurationFile;if(n){var i=e.getFileExtension(n);"js"===i?e.commonUtils.addScriptWithCallback(n,"InsightsConfigurationCallback",t,r,!0):e.ajax(n,t,r,1)}else t()});return t.then(function(t){e.promiseResolved=!0,e.configuration=t}),t},e.prototype.ajax=function(e,t,r,n){var i=this;void 0===n&&(n=0),this.wmjQuery.ajax({url:e,dataType:"json",success:function(e){t(e)},error:function(s,o,a){if(n>0)i.timerManager.libSetTimeout(function(){i.ajax(e,t,r,n-1)},500);else{var u={message:"error getting configuration",extraData:{file:e,errorThrown:a,textStatus:o,status:s.status}};r(u)}}})},e}(),l=function(){function e(e,t,r,n,i,s,o,a,u,l,c,h,p,g,d,f,v,m){this.logger=e,this.storageSynchronizer=t,this.eventsSenderWrapper=r,this.eventsTrigger=n,this.jQuery=i,this.userEventCreator=s,this.idleEventCreator=o,this.windowIdGetter=a,this.errorUtils=u,this.frameBinder=l,this.pageInfoCreator=c,this.timingUtils=h,this.eventsListener=p,this.userEventListener=g,this.keypressEventCreator=d,this.captureElementApiLoader=f,this.insightsConfigurationGetter=v,this.featuresManager=m,this.isUnloaded=!1}return e.prototype.load=function(e){var t=this;void 0===e&&(e=!1);var r;return a.setState("loading"),this.storageSynchronizer.getStorageKey()["catch"](this.errorUtils.wrapCatch("get storage key")).then(function(){return t.windowIdGetter.load()})["catch"](this.errorUtils.wrapCatch("get winId")).then(function(){e||(t.errorUtils.wrapCall(function(){return t.eventsSenderWrapper.init(r)},"load sender"),t.errorUtils.wrapCall(function(){return t.frameBinder.load()},"bind frames"),t.errorUtils.wrapCall(function(){return t.userEventCreator.load()},"load event creator"),t.featuresManager.isFeatureEnabled("UbtEnableKeypressEvent")&&t.errorUtils.wrapCall(function(){return t.keypressEventCreator.load()},"load keypress event creator"),t.errorUtils.wrapCall(function(){return t.idleEventCreator.load()},"load idle event creator"),t.errorUtils.wrapCall(function(){return t.pageInfoCreator.load()},"load page info creator")),t.errorUtils.wrapCall(function(){return t.captureElementApiLoader.load()},"load capture element api"),a.WalkmeInternals.removeAbra=function(e){t.unload({message:e||"no error provided"},{failPoint:"API call"})},t.eventsListener.once("removeWalkMe",function(){t.unload({message:"removeWalkMe"},void 0,!0)});var n=t.insightsConfigurationGetter.getSync();return n&&n.trackedEventsWhitelist||t.disableHeartbeat(),a.setState(e?"silent":"loaded"),t.eventsTrigger.sync("Abra:Ready"),!0})["catch"](function(e){return t.unload(e),!1})},e.prototype.disableHeartbeat=function(){i.getCtx().has("HeartbeatEventSender")&&i.getCtx().get("HeartbeatEventSender").disable()},e.prototype.unload=function(e,t,r){if(void 0===r&&(r=!1),this.isUnloaded===!0)return;a.setState("removing"),a.WalkmeInternals.removeAbra=void 0,this.isUnloaded=!0,t=t?this.jQuery.extend(e.extraData||{},t):e.extraData||{},a.setErrorInfo({error:e,extraData:t});try{this.userEventListener.disable(),this.eventsSenderWrapper.disable(),this.timingUtils.disable(),this.frameBinder.unload(),this.windowIdGetter.unload(),this.userEventCreator.unload(),this.idleEventCreator.unload(),this.pageInfoCreator.unload(),this.keypressEventCreator.unload(),a.setState("removed")}catch(n){this.logger.warn("error unloading abra",n)}t.failPoint=t.failPoint||"unknown reason",r||this.logger.error("abra unload: "+t.failPoint,e,t)},e}();i.registerClass("Abra:Loader",l,"Abra:Logger, Abra:StorageSynchronizer, Abra:EventsSenderWrapper, EventsTrigger, wmjQuery, Abra:UserEventCreator, Abra:IdleEventCreator, Abra:WindowIdGetter, Abra:ErrorUtils, Abra:FrameBinder, Abra:PageInfoCreator, Abra:TimingUtils, EventsListener, Abra:UserEventListener, Abra:KeypressEventCreator, Abra:CaptureElementApiLoader, Abra:InsightsConfigurationGetter, FeaturesManager");var c=function(){function e(e){this.ctx=e}return e.prototype.get=function(){return{disableEventListeners:this.disableEventListeners.bind(this),disableEventSender:this.disableEventSender.bind(this),disableXpathBuilder:this.disableXpathBuilder.bind(this),disableAutoQuery:this.disableAutoQuery.bind(this),disableMeaningfulElement:this.disableMeaningfulElement.bind(this),disableLabel:this.disableLabel.bind(this),disableText:this.disableText.bind(this),disableIdleActive:this.disableIdleActive.bind(this),enablePerformanceLogs:this.enablePerformanceLogs.bind(this)}},e.prototype.decorateOnLoad=function(e,t){var r=this;this.ctx.get("EventsListener").once("Abra:CtxLoaded",function(){r.ctx.decorate(e,t)})},e.prototype.disableEventListeners=function(){this.decorateOnLoad("Abra:UserEventListener",function(e){return e.register=function(){return-1},e})},e.prototype.disableEventSender=function(){this.decorateOnLoad("Abra:EventsSenderWrapper",function(e){return e.init=function(){return},e.send=function(){return},e})},e.prototype.disableXpathBuilder=function(){this.decorateOnLoad("Abra:XPathGenerator",function(e){return e.generate=function(){return{xpath:"mock[0]",xpathParts:null}},e})},e.prototype.disableAutoQuery=function(){this.decorateOnLoad("Abra:QueryGenerator",function(e){return e.generate=function(){return"mock"},e})},e.prototype.disableMeaningfulElement=function(){this.decorateOnLoad("Abra:MeaningfulElementGetter",function(e){return e.get=function(){return},e})},e.prototype.disableLabel=function(){this.decorateOnLoad("Abra:LabelGetter",function(e){return e.get=function(){return"mock"},e})},e.prototype.disableText=function(){this.decorateOnLoad("Abra:ElementDescriptionGenerator",function(e){return e.getText=function(){return{text:"mock"}},e})},e.prototype.disableIdleActive=function(){this.decorateOnLoad("Abra:IdleEventCreator",function(e){return e.load=function(){return},e})},e.prototype.enablePerformanceLogs=function(){var t=this;this.ctx.decorate("Abra:UbtPerformance",function(r){var n;return r.perf=function(r){return n=n||t.ctx.get("Abra:Logger"),e.createPerf(r,n)},r})},e.createPerf=function(e,t){var r=window.performance,n=r.now(),i=n;return{stop:function(){return t.info("performance: "+e+" took "+(r.now()-n).toFixed(2)+" ms")},step:function(s){var o=r.now();t.info("performance: "+e+"-"+s+" time from start "+(o-n).toFixed(2)+" ms (time from last step "+(o-i).toFixed(2)+" ms)"),i=o}}},e}(),h=function(){function e(e){this.enableIndicatorFlag="wm-ubt-dbg",this.storage=window.localStorage,this.storage&&this.checkFlag(this.enableIndicatorFlag)&&(this.options=new c(e).get(),this.activateFlags(),this.api=this.createApi())}return e.prototype.getApi=function(){return this.api},e.prototype.activateFlags=function(){for(var e in this.options)this.options.hasOwnProperty(e)&&this.checkFlag(this.getFlagName(e))&&this.options[e]()},e.prototype.getFlagName=function(e){return this.enableIndicatorFlag+"-"+e},e.prototype.checkFlag=function(e){return"true"===this.storage[e]},e.prototype.toggleFlag=function(e){return this.storage[e]=!this.checkFlag(e),this.checkFlag(e)},e.prototype.clearFlag=function(e){this.storage.removeItem(e)},e.prototype.createApi=function(){var e=this,t={},r=function(r){n.options.hasOwnProperty(r)&&(t[r]=function(){return e.toggleFlag(e.getFlagName(r))})},n=this;for(var i in this.options)r(i);return t.clear=function(){for(var t in e.options)e.options.hasOwnProperty(t)&&e.clearFlag(e.getFlagName(t));e.clearFlag(e.enableIndicatorFlag)},t},e}(),p=function(){function e(e,t,r,n){this.logger=e,this.jQuery=t,this.errorUtils=r,this.featuresManager=n,this.get=r.bindCall(this,this.get,"error getting element parents"),this.useJQueryParent=n.isFeatureEnabled("Abra-Use-JQuery-Parent")}return e.prototype.get=function(e){var t=e.path||e.composedPath&&e.composedPath()||[],r=g.isElement(t[0])?t[0]:e.target;if(!g.isElement(r))throw new Error("unexpected event target type: "+typeof r);return this.getFromElement(r)},e.prototype.getFromElement=function(t){var r,n=[],i=e.MaxClimbCount,s=t;do if(g.isElement(s)&&n.unshift(s),r=s,s=this.getParent(s),--i<=0)throw new Error("ElementParentsGetter loop reached its limit");while(s&&r!==s);return n},e.prototype.getParent=function(e){if(g.isDocument(e))return this.tryGetFrameElement(e);return this.useJQueryParent?this.jQuery(e).parent()[0]:this.getParentElementDefault(e)},e.prototype.getParentElementDefault=function(e){if(e.assignedSlot)return e.assignedSlot;if(e.parentNode)return e.parentNode;if(e.host)return e.host},e.prototype.tryGetFrameElement=function(e){try{var t=e.defaultView||e.parentWindow;if(t&&this.shouldClimbMore(t))return t.frameElement}catch(r){this.logger.error("error getting frame element",r)}},e.prototype.shouldClimbMore=function(e){try{return!e._makeTutorial}catch(t){return!1}},e.MaxClimbCount=1e3,e}();i.registerClass("Abra:ElementParentsGetter",p,"Abra:Logger, wmjQuery, Abra:ErrorUtils, FeaturesManager");var g=function(){function e(){}return e.isElementTextNode=function(e){return e.nodeType===ce.Text||e.nodeType===ce.CDATASection},e.isVisualDomElement=function(e){var t=e.nodeType===ce.Element&&!e.tagName.match(/^(script|style)$/i);return t},e.isElement=function(e){return e&&e.nodeType===ce.Element},e.isDocument=function(e){return e&&(e.nodeType===ce.Document||e.nodeType===ce.DocumentType)},e.getLowerCaseTagName=function(e){return(e.nodeName||e.localName).toLowerCase()},e}(),d=function(){function e(e,t){this.hostData=e,this.jQuery=t}return e.prototype.get=function(e){var t=this.getLabelElement(e);return t&&t.textContent&&ae.trim(t.textContent)},e.prototype.getLabelElement=function(e){var t=e.labels&&e.labels[0];if(t)return t;return this.getLabelElementIePolyfill(e)},e.prototype.getLabelElementIePolyfill=function(t){if((this.hostData.isIE()||this.hostData.isEdge())&&this.jQuery.inArray(g.getLowerCaseTagName(t),e.polyfillElementTypes)!==-1){var r=this.jQuery(t),n=r.attr("id");if(n&&"string"==typeof n){var i=this.jQuery('label[for="'+ae.escapeJQuerySelectorAttributeValue(n)+'"]',t.ownerDocument);if(0!==i.length)return i[0]}return r.closest("label")[0]}},e.polyfillElementTypes=["input","textarea","button","select","output"],e}();i.registerClass("Abra:LabelGetter",d,"HostData, wmjQuery");var f=function(){function e(e,t,r,n,i,s,o,a,u){this.jQuery=e,this.privacyUtils=t,this.textUtils=r,this.logger=n,this.xpathGenerator=i,this.queryGenerator=s,this.labelGetter=o,this.featuresManager=a,this.overlappedText=u,this.textOptions={maxLength:200}}return e.prototype.generate=function(e,t){var r=this.logger.perf("capture"),n={},i={desc:n},s=e.getParents();r.step("getParents");var o=this.privacyUtils.shouldCensorText(s);r.step("shouldCensorText");try{var a=this.generateXpath(e,o);n.xpath=a.xpath,i.xpathParts=a.xpathParts,r.step("generateXpath")}catch(u){this.logger.error("cannot generate xpath",u)}var l=e.getElement(),c=t||l;try{n.autoQuery=this.queryGenerator.generate(c),r.step("generateAutoQuery")}catch(u){this.logger.error("cannot generate autoQuery",u)}if(!o&&(n.label=this.labelGetter.get(c),r.step("getLabel"),!this.privacyUtils.isPrivacyUnsafeElementType(c))){var h=this.getText(c,!0);r.step("getText"),n.text=h.text,h.isOverlapped&&(i.misc={textSource:"overlapped"});var p=this.jQuery(c).val();n.value=p?ae.trim(p.toString(),this.textOptions.maxLength):void 0}return r.stop(),i},e.prototype.generateXpath=function(e,t){var r=e.getParents();return t=void 0!==t?t:this.privacyUtils.shouldCensorText(r),this.xpathGenerator.generate(r,t)},e.prototype.getSelectTagText=function(e){var t=this.jQuery(e),r=t.val();if("string"==typeof r&&r.indexOf("\n")===-1)return t.find('option[value="'+ae.escapeJQuerySelectorAttributeValue(r)+'"]').text()},e.prototype.getElementText=function(e,t){if(void 0===t&&(t=!1),!t&&(this.privacyUtils.isPrivacyUnsafeElementType(e)||this.privacyUtils.shouldCensorText(null,e)))return;if("select"===g.getLowerCaseTagName(e))return this.getSelectTagText(e);return ae.trim(this.textUtils.collectText(e,this.textOptions),this.textOptions.maxLength)},e.prototype.getText=function(e,t){void 0===t&&(t=!1);var r={};if(r.text=this.getElementText(e,t),!r.text&&this.featuresManager.isFeatureEnabled("UbtAddOverlappedText"))try{var n=this.overlappedText.getOverlappedTextElement(e);n&&(r.text=this.getElementText(n,!1),r.isOverlapped=!0)}catch(i){this.logger.error("cannot get overlapped text",i)}return r},e}();i.registerClass("Abra:ElementDescriptionGenerator",f,"wmjQuery, Abra:PrivacyUtils, Abra:TextUtils, Abra:Logger, Abra:XPathGenerator, Abra:QueryGenerator, Abra:LabelGetter, FeaturesManager, Abra:OverlappedText");var v=function(){function e(){}return e.getElementFirstAncestors=function(t){for(var r=[],n=t.parentElement,i=0;n&&i<e.maxDistToParent;)r.push(n),i++,n=n.parentElement;return r},e.isMaxDistanceToCommonAncestorExceeded=function(t,r){var n=t.length-1,i=r.length-1;if(t[n]!==r[i])return!0;for(;n>=0&&i>=0&&t[n]===r[i];)n--,i--;var s=n+2,o=i+2;return s>e.maxDistToParent||o>e.maxDistToParent},e.getElementCenter=function(e){var t=e.getBoundingClientRect(),r=t.left,n=t.right,i=t.top,s=t.bottom;return{x:(n+r)/2,y:(s+i)/2}},e.isPositiveZIndex=function(t){for(var r=t,n=0;r&&n<e.maxDistToParent;){if(parseInt(getComputedStyle(r).zIndex)>0)return!0;n++,r=r.parentElement}return!1},e.getElementsAtPoint=function(e,t,r){if(e.elementsFromPoint)return e.elementsFromPoint(t,r);var n=e.msElementsFromPoint(t,r),i=[];if(null!==n)for(var s=0;s<n.length;s++)i.push(n[s]);return i},e.getElementDescendantsNum=function(t,r){if(void 0===r&&(r=0),r>e.maxDescendants)return 1/0;var n=t.children;if(0===n.length)return 0;var i=n.length;if(r+i>e.maxDescendants)return 1/0;for(var s=0;s<n.length;s++){var o=e.getElementDescendantsNum(n[s],r+i);if(i+=o,r+i>e.maxDescendants)return 1/0}return i},e.isElementHasTooMuchDescendants=function(t){return e.getElementDescendantsNum(t)>e.maxDescendants},e.isElementHasInnerText=function(e){var t=e.innerText;return t&&(t=t.trim()),!!t},e.prototype.getOverlappedTextElement=function(t){if(!e.isPositiveZIndex(t))return;for(var r,n=e.getElementCenter(t),i=n.x,s=n.y,o=e.getElementsAtPoint(t.ownerDocument,i,s),a=e.getElementFirstAncestors(t),u=0;u<o.length&&!r;u++){var l=o[u];if(a.indexOf(l)>-1||l===t)continue;if(!e.isElementHasInnerText(l))continue;var c=e.getElementFirstAncestors(l);if(e.isMaxDistanceToCommonAncestorExceeded(a,c))continue;if(e.isElementHasTooMuchDescendants(l))continue;r=l}return r},e.maxDistToParent=3,e.maxDescendants=6,e}();i.registerClass("Abra:OverlappedText",v);var m=function(){function e(e){this.jQuery=e}return e.prototype.get=function(t){var r=this.jQuery(t),n=void 0,i=!0,s=-1;do{if(r[0].shadowRoot)break;if(s++,"button"===g.getLowerCaseTagName(r[0])){n={type:"button",element:r[0],climb:s};break}if(i===!0){var o=this.getElementCursor(r);this.isPointer(r,o)?n={type:"pointer",element:r[0],climb:s}:i=this.isCursorCouldBePointer(r[0],o)}void 0===n&&this.isStoppableAttribute(r[0])&&(n={type:"attribute",element:r[0],climb:s}),r=r.parent()}while(s<e.MaxClimbCount&&r.prop("nodeType")===ce.Element);if(void 0!==n&&n.climb>0&&void 0!==n.element&&n.element!==t)return n},e.prototype.isStoppableAttribute=function(e){if(!e||!e.attributes)return!1;var t=e.attributes.tabIndex;if(t&&t.value&&e.tabIndex>=0)return!0;return t=e.attributes.accesskey,!(!t||!t.value)},e.prototype.getElementCursor=function(e){try{return this.jQuery(e).css("cursor")}catch(t){return"auto"}},e.prototype.isPointer=function(e,t){if("pointer"===t)return!0;if("auto"!==t)return!1;switch(g.getLowerCaseTagName(e[0])){case"a":return void 0!==e.attr("href");default:return!1}},e.prototype.isCursorCouldBePointer=function(t,r){if("pointer"===r)return!0;if("auto"!==r)return!1;return this.jQuery.inArray(g.getLowerCaseTagName(t),e.cursorOverrideNotPointer)===-1},e.cursorOverrideNotPointer=["select","input","button","textarea","video","audio","label"],e.MaxClimbCount=1e3,e}();i.registerClass("Abra:MeaningfulElementGetter",m,"wmjQuery");var b=function(){function e(e,t,r,n,i){this.jQuery=e,this.dataCollectionSettings=t,this.xpathEscaper=r,this.urlCensorshipController=n,this.xpathReducer=i,this.textProperties=V.convertArrayToObject(["name","title"]),this.attributesToCollect=this.getAttributesToCollect(t.get()),this.settings=t.get().element.xpath}return e.prototype.getAttributesToCollect=function(e){var t=e.element&&e.element.attributesToCollect;if(t&&0!==t.length){var r=t.slice();return this.urlCensorshipController.shouldCensorUrl()&&(r=this.filterAttributesByCensorship(r)),r.sort(),r}},e.prototype.filterAttributesByCensorship=function(e){var t=this,r=["src","href"];return this.jQuery.grep(e,function(e){return t.jQuery.inArray(e,r)===-1})},e.prototype.generate=function(e,t){void 0===t&&(t=!1);var r=this.generateXpathParts(e,t),n=this.convertXpathToStringArray(r),i=this.applyXpathLengthLimitation(n).join("");return{xpath:i,xpathParts:r}},e.prototype.generateXpathParts=function(e,t){var r=this;return this.jQuery(e).map(function(e,n){var i=r.jQuery(n);return{tagName:g.getLowerCaseTagName(n),tagIndex:r.getTagIndex(n),classes:r.getClasses(i),id:r.getId(i),attributes:r.getAttributes(i,t)}}).toArray()},e.prototype.getAttributes=function(t,r){var n=this,i=[];return this.attributesToCollect&&this.xpathReducer.shouldCollectAttributesOrClasses(t)&&this.jQuery.each(this.attributesToCollect,function(s,o){if(r&&n.textProperties[o])return;var a=t.attr(o);if(void 0!==a){var u=n.attributesToCollect[s];a.length<=n.settings.attributeMaxLength&&e.shouldCollectAttribute(a)?i.push(V.createKeyValuePair(u,a)):i.push(V.createKeyValuePair(u))}}),i},e.prototype.getClasses=function(t){var r=this,n=[];if(this.xpathReducer.shouldCollectAttributesOrClasses(t)){var i=t.attr("class");i&&(n=this.jQuery.grep(i.split(e.classDelimiter),e.shouldCollectClassOrId),n=this.jQuery.map(n,function(e){return ae.trim(e)}),n=this.jQuery.grep(n,function(e){return e&&e.length<=r.settings.classMaxLength}),n.sort())}return n},e.prototype.getId=function(t){var r=t.attr("id");if(e.shouldCollectClassOrId(r)){var n=ae.trim(r);if(n.length<=this.settings.idMaxLength)return n}},e.prototype.convertXpathToStringArray=function(t){for(var r=this,n=[],i=0;i<t.length;i++){var s=t[i];if(n.push(s.tagName),n.push("["),n.push((s.tagIndex+1).toString()),n.push("]"),s.id&&(n.push("#"),n.push(s.id)),s.classes){var o=this.jQuery.map(s.classes,function(e){return"."+e});n.push.apply(n,o)}if(s.attributes){var a=this.jQuery.map(s.attributes,function(e){return e.value?"&"+e.key+"="+r.xpathEscaper.escape(e.value):"&"+e.key});n.push.apply(n,a)}n.push(e.delimiter)}return n.pop(),n},e.prototype.applyXpathLengthLimitation=function(e){for(var t=0,r=0;r<e.length;r++)t+=e[r].length;for(var r=0;t>this.settings.xpathMaxLength&&r<e.length;r++){var n=e[r];"."===n[0]&&(t-=n.length,e[r]="")}if(t>this.settings.xpathMaxLength){for(var i=0,s=0,r=0;r<e.length&&0===s;r++){var n=e[r];i+=n.length,"/"===n&&t-i<=this.settings.xpathMaxLength&&(s=r)}e=0!==s?e.slice(s+1):[]}return e},e.prototype.getTagIndex=function(e){for(var t=0,r=e.previousSibling;r;r=r.previousSibling)r.localName===e.localName&&t++;return t},e.shouldCollectClassOrId=function(t){return t&&!e.forbiddenCharsRegex.test(t)},e.shouldCollectAttribute=function(e){return e&&!z.isCreditCard(e)},e.forbiddenCharsRegex=/[&=\.\]\[\/\#]/,e.classDelimiter=/[\s\uFEFF\xA0]+/,e.delimiter="/",e}();i.registerClass("Abra:XPathGenerator",b,"wmjQuery, Abra:DataCollectionSettingsWrapper, Abra:XpathEscaper, Abra:UrlCensorshipController, Abra:XpathReducer");var y=function(){function e(){}return e.prototype.shouldCollectAttributesOrClasses=function(e){if(e&&g.isElement(e[0])){var t=g.getLowerCaseTagName(e[0]);return"html"!==t&&"body"!==t}return!0},e}();i.registerClass("Abra:XpathReducer",y);var C=function(){function e(e,t,r,n,s,o,a,u,l,c,h,p){this.eventBuilder=e,this.eventsSenderWrapper=t,this.eventsTrigger=r,this.logger=n,this.windowIdGetter=s,this.commonEventAttributesProvider=o,this.jQuery=a,this.obfuscator=u,this.textValueCensorship=l,this.collectionIndicator=c,this.webhooksIdsAdder=h,this.shouldEncode=!0,this.shouldEncode=!p.isFeatureEnabled("Abra-DisableEncoding"),i.getCtx().has("CleanObject")&&(this.cleanObject=i.getCtx().get("CleanObject"))}return e.prototype.initiate=function(e){var t=this;if(!this.collectionIndicator.shouldCollect())return;var r=ue.now();this.eventBuilder.build(e).then(function(n){return n.time=r,n.ctx=n.ctx||{},t.addTimingData(n),t.addIframeData(n),t.addApplicationData(n),t.addWindowData(n).then(function(){t.substringEvent(n),t.textValueCensorship.censorEvent(e),n=t.jQuery.extend(!0,n,t.commonEventAttributesProvider.get()),t.cleanObject&&(n=t.cleanObject(n)),t.webhooksIdsAdder&&t.webhooksIdsAdder.add(n),t.sendEvent(n)})})["catch"](function(e){t.logger.error("error sending event",e)})},e.prototype.substringEvent=function(e){ae.substringObject(ie.Value,e)},e.prototype.addTimingData=function(e){e.ctx.timing=ue.getTimingData()},e.prototype.addWindowData=function(e){return this.windowIdGetter.getOrCreate().then(function(t){e.ctx.winId=t})},e.prototype.addIframeData=function(e){try{B.isIframe()&&(e.ctx.topTitle=B.getTopTitle())}catch(t){}},e.prototype.addApplicationData=function(e){e.version={abra:a.App.version}},e.prototype.sendEvent=function(e){this.eventsSenderWrapper.send(this.shouldEncode?this.obfuscator.encode(e):e),this.eventsTrigger.sync("Abra:EventSent",e),this.logger.debug(e)},e}();i.registerClass("Abra:EventHandler",C,"Abra:EventBuilder, Abra:EventsSenderWrapper, EventsTrigger, Abra:Logger, Abra:WindowIdGetter, CommonEventAttributesProvider, wmjQuery, Abra:EventObfuscator, Abra:TextValueCensorship, Abra:CollectionIndicator, WebhooksIdsAdder, FeaturesManager");var E={active:"active",idle:"idle",pageChange:"pageChange"},x=function(){function e(e,t,r,n,i){this.eventHandler=e,this.userEventListener=t,this.reusableTimerFactory=r,this.errorUtils=n,this.throttle=i,this.delay=6e4,this.isIdle=!1,this.isEnabled=!1,this.throttleIntervalMS=1e3}return e.prototype.load=function(){var e=this;this.timer||(this.timer=this.reusableTimerFactory.create(function(){return e.setIdle()},this.delay),this.registerId=this.userEventListener.register(this.throttle(function(t){return e.setActive(t)},this.throttleIntervalMS),["blur","change","click","dblclick","focus","focusin","focusout","hover","keydown","keypress","keyup","mousedown","mouseenter","mouseleave","mousemove","mouseout","mouseover","mouseup","resize","scroll","select","submit"]),this.timer.set(),this.isEnabled=!0)},e.prototype.unload=function(){this.timer&&(this.userEventListener.unregister(this.registerId),this.timer.clear(),this.isEnabled=!1)},e.prototype.setDelay=function(e){this.delay=e},e.prototype.setThrottleInterval=function(e){this.throttleIntervalMS=e},e.prototype.setActive=function(e){this.isEnabled&&(this.isIdle&&(this.isIdle=!1,this.raiseEvent(E.active,e.getEventType())),this.timer.set())},e.prototype.setIdle=function(){this.isEnabled&&(this.isIdle=!0,this.raiseEvent(E.idle))},e.prototype.raiseEvent=function(e,t){var r=this;this.errorUtils.wrapCallAndLog(function(){r.eventHandler.initiate({event:{type:e,misc:{trigger:t}}})},"error at IdleEventCreator",{type:e,trigger:t})},e}();i.registerClass("Abra:IdleEventCreator",x,"Abra:EventHandler, Abra:UserEventListener, Abra:ReusableTimerFactory, Abra:ErrorUtils, Throttle");var A=function(){function e(e,t,r,n,i,s,o){var a=this;this.userEventListener=e,this.errorUtils=t,this.eventHandler=r,this.reusableTimerFactory=n,this.elementDescriptionGenerator=i,this.textValueCensorship=s,this.collectionIndicator=o,this.isEnabled=!1,this.timer=this.reusableTimerFactory.create(function(){return a.feedEvent()},1e3)}return e.prototype.load=function(){var e=this;this.isEnabled||(this.registerId=this.userEventListener.register(function(t){return e.feedEvent(t)},["keypress"]),this.registerBeforeUnload(),this.isEnabled=!0)},e.prototype.unload=function(){this.isEnabled&&(this.timer.clear(),this.userEventListener.unregister(this.registerId),this.eventData=void 0,this.isEnabled=!1)},e.prototype.feedEvent=function(e){if(!this.isEnabled)return;e&&this.collectionIndicator.shouldCollect()?this.eventData?this.eventData.desc.xpath===this.elementDescriptionGenerator.generateXpath(e).xpath?(this.timer.set(),this.eventData.count++):(this.raiseEvent(),this.createNew(e)):this.createNew(e):this.raiseEvent()},e.prototype.createNew=function(e){this.eventData={desc:this.elementDescriptionGenerator.generate(e).desc,
censorshipData:this.textValueCensorship.createCensorshipData(e),count:1,t1:ue.now()},this.timer.set()},e.prototype.raiseEvent=function(){this.timer.clear(),this.eventData&&(this.eventHandler.initiate({event:{type:"keypress",element:this.eventData.desc,misc:{count:this.eventData.count,t1:this.eventData.t1}},data:{censorshipData:this.eventData.censorshipData}}),this.eventData=void 0)},e.prototype.registerBeforeUnload=function(){var e=this,t=window.onbeforeunload;window.onbeforeunload=function(r){if(e.isEnabled&&e.errorUtils.wrapCallAndLog(function(){return e.feedEvent()},"error on onbeforeunload keypress"),t)return t.call(window,r)}},e}();i.registerClass("Abra:KeypressEventCreator",A,"Abra:UserEventListener, Abra:ErrorUtils, Abra:EventHandler, Abra:ReusableTimerFactory, Abra:ElementDescriptionGenerator, Abra:TextValueCensorship, Abra:CollectionIndicator");var w=function(){function e(e,t,r,n,s){var o=this;this.logger=e,this.pageVisitIdProvider=t,this.eventHandler=r,this.pageLoadSync=n,this.eventsListener=s,this.disabledByWalkmePlayer=i.getCtx().has("PageChangeEventSender"),this.eventCallback=function(){return o.distribute()}}return e.prototype.distribute=function(){this.eventHandler.initiate({event:{type:E.pageChange}})},e.prototype.load=function(){if(this.disabledByWalkmePlayer)return;this.pageLoadSync.initializationData&&(this.pageVisitIdProvider.get()!==this.pageLoadSync.initializationData.id&&this.logger.error("Data inconsistency in pageVisitId"),this.distribute()),this.eventsListener.on("PageVisitIdUpdated",this.eventCallback)},e.prototype.unload=function(){if(this.disabledByWalkmePlayer)return;this.eventsListener.off("PageVisitIdUpdated",this.eventCallback)},e}();i.registerClass("Abra:PageInfoCreator",w,"Abra:Logger, PageVisitIdProvider, Abra:EventHandler, Abra:PageLoadSync, EventsListener");var T=function(){function e(){}return e.enable=function(e){e.get("EventsListener").once("EventSenderContextDataProviderReferrerEnablement",function(){return!0})},e}(),I=function(){function e(e,t){this.jQuery=e,this.compatibilityUtils=t,this.initBindingFunctions()}return e.prototype.initBindingFunctions=function(){var e;i.getCtx().has("NativeEventListenerFunctionsProvider")&&(e=i.getCtx().get("NativeEventListenerFunctionsProvider").get()),e=e||{},this.addEventListener=e.addEventListener||document.addEventListener,this.removeEventListener=e.removeEventListener||document.removeEventListener},e.prototype.bindEvents=function(e,t,r){var n=this,i=function(t){return n.jQuery(e).on(t+".abra",r)},s=i;this.compatibilityUtils.isCaptureBindCompatible()&&(s=function(t){try{n.addEventListener.apply(e,[t,r,!0])}catch(s){i(t)}}),this.jQuery.each(t,function(e,t){s(t)})},e.prototype.unbindEvents=function(e,t,r){var n=this,i=function(t){try{n.removeEventListener.apply(e,[t,r,!0]),n.jQuery(e).off(t+".abra",r)}catch(i){}};this.jQuery.each(t,function(e,t){i(t)})},e}();i.registerClass("Abra:UserEventBinder",I,"wmjQuery, Abra:CompatibilityUtils");var S=function(){function e(e,t,r,n,i,s,o,a,u,l){this.userEventListener=e,this.eventHandler=t,this.elementDescriptionGenerator=r,this.jQuery=i,this.errorUtils=s,this.textValueCensorship=o,this.collectionIndicator=a,this.eventThrottle=u,this.trackedElementsFilter=l,this.generateElementDescription=this.errorUtils.bindCall(this.elementDescriptionGenerator,this.elementDescriptionGenerator.generate,"element capture"),this.meaningfulElementGetter=this.errorUtils.bindCall(this,function(e,t){if("mousedown"===e||"dblclick"===e)return n.get(t)},"meaningful element")}return e.prototype.createEvent=function(e){if(!this.collectionIndicator.shouldCollect())return;var t=e.getElement(),r=e.getEventType();if(!t||!this.shouldCreateEvent(t,r))return;var n,i=this.meaningfulElementGetter(r,t);i&&(n={type:i.type,climb:i.climb});var s=i?i.element:t,o=this.generateElementDescription(e,s),a=o.desc,u=o.misc,l=o.xpathParts;u&&(n=this.jQuery.extend(u,n));var c=l&&this.trackedElementsFilter.shouldSend(e,a,l);if(!c||!c.result)return;if(this.eventThrottle.shouldThrottle(a,r))return;this.eventHandler.initiate({event:{type:r,element:a,misc:n,reason:c.reason},data:{event:e,censorshipData:this.textValueCensorship.createCensorshipData(e)}})},e.prototype.shouldCreateEvent=function(t,r){if(this.jQuery.inArray(g.getLowerCaseTagName(t),e.BlockedTags)!==-1)return!1;if(this.jQuery.inArray(r,["mousedown","dblclick"])!==-1&&t.textContent&&t.textContent.length>e.MaxTextContent)return!1;return!0},e.prototype.load=function(){var e=this;this.registerId=this.userEventListener.register(function(t){return e.createEvent(t)},["change","mousedown","dblclick","submit"])},e.prototype.unload=function(){this.userEventListener.unregister(this.registerId)},e.BlockedTags=["html","body"],e.MaxTextContent=250,e}();i.registerClass("Abra:UserEventCreator",S,"Abra:UserEventListener, Abra:EventHandler, Abra:ElementDescriptionGenerator, Abra:MeaningfulElementGetter, wmjQuery, Abra:ErrorUtils, Abra:TextValueCensorship, Abra:CollectionIndicator, Abra:EventThrottle, Abra:TrackedElementsFilter");var L=function(){function e(e,t,r,n){var i=this;this.userEventBinder=e,this.frameBinder=t,this.errorUtils=r,this.userEventWrapper=n,this.runningCallbackId=-1,this.distributeMap={},this.unregisterData={},this.enabled=!0,this.mainCallback=function(e){return i.distribute(e)}}return e.prototype.register=function(e,t){for(var r=++this.runningCallbackId,n=[],i=0;i<t.length;i++){var s=t[i];this.distributeMap[s]?this.distributeMap[s].push(e):(this.distributeMap[s]=[e],n.push(s))}return this.bind(n,this.mainCallback),this.unregisterData[r]={callback:e,events:t},r},e.prototype.unregister=function(e){var t=this.unregisterData[e];if(!t)return!1;for(var r=[],n=0;n<t.events.length;n++)for(var i=t.events[n],s=this.distributeMap[i],o=0;o<s.length;o++)if(s[o]===t.callback){s.splice(o,1),0===s.length&&(r.push(i),delete this.distributeMap[i]);break}return this.unbind(r,this.mainCallback),delete this.unregisterData[e],!0},e.prototype.disable=function(){this.enabled=!1},e.prototype.distribute=function(e){var t=this;if(this.enabled)for(var r=this.distributeMap[e.type]||[],n=function(n){i.errorUtils.wrapCallAndLog(function(){return r[n](t.userEventWrapper.wrap(e))},"error distributing event",{trigger:e.type})},i=this,s=0;s<r.length;s++)n(s)},e.prototype.bind=function(e,t){var r=this;this.frameBinder.forEach(function(n){r.userEventBinder.bindEvents(n,e,t)})},e.prototype.unbind=function(e,t){var r=this;this.frameBinder.forEach(function(n){r.userEventBinder.unbindEvents(n,e,t)})},e}();i.registerClass("Abra:UserEventListener",L,"Abra:UserEventBinder, Abra:FrameBinder, Abra:ErrorUtils, Abra:UserEventWrapper");var P=function(){function e(e){this.elementParentsGetter=e}return e.prototype.wrap=function(e){return new D(this.elementParentsGetter,e)},e}(),D=function(){function e(e,t){this.elementParentsGetter=e,this.event=t}return e.prototype.getParents=function(){return this.parents=this.parents||this.elementParentsGetter.get(this.event),this.parents},e.prototype.getElement=function(){var e=this.getParents();return e[e.length-1]},e.prototype.getEvent=function(){return this.event},e.prototype.getEventType=function(){return this.event.type},e}();i.registerClass("Abra:UserEventWrapper",P,"Abra:ElementParentsGetter");var M=function(){function e(e){this.jQuery=e}return e.prototype.get=function(){var e=this;return{classInElementTree:function(t,r){return e.classInElementTree(t,r)},idInElementTree:function(t,r){return e.idInElementTree(t,r)}}},e.prototype.classInElementTree=function(e,t){e.compiled||(e.compiled=this.convertClassArrayToRegex(e.values));for(var r=t.length-1;r>=0;r--){var n=this.jQuery(t[r]).attr("class");if(n&&e.compiled.test(n))return!0}return!1},e.prototype.convertClassArrayToRegex=function(e){var t=[];return this.jQuery.each(e,function(e,r){var n=ae.escapeRegExp(r);t.push("(^|[\\s\\uFEFF\\xA0]{1})"+n+"($|[\\s\\uFEFF\\xA0]{1})")}),new RegExp(t.join("|"),"i")},e.prototype.idInElementTree=function(e,t){if(this.isIdsExistInElementArray(t,e.values))return!0;return!1},e.prototype.isIdsExistInElementArray=function(e,t){for(var r=0;r<e.length;r++)for(var n=0;n<t.length;n++)if(e[r].id===t[n])return!0;return!1},e}();i.registerClass("Abra:CensorshipConditionsGetter",M,"wmjQuery");var j=function(){function e(e,t,r,n){this.jQuery=e,this.logger=t,this.censorshipRules=this.getCensorshipRules(n.get()),this.conditionDictionary=r.get()}return e.prototype.getCensorshipRules=function(e){var t=e&&e.element&&e.element.censorshipRules;return t||[]},e.prototype.provide=function(e){for(var t={},r=this.censorshipRules.length-1;r>=0;r--)if(this.conditionDictionary[this.censorshipRules[r].type]){if(this.conditionDictionary[this.censorshipRules[r].type](this.censorshipRules[r],e)){var n=this.censorshipRules[r].methods;n&&n.length>0&&this.jQuery.each(n,function(e,r){t[r]=!0})}}else this.logger.error("censorship type does not exist: "+this.censorshipRules[r].type);return t},e}();i.registerClass("Abra:CensorshipMethodsProvider",j,"wmjQuery, Abra:Logger, Abra:CensorshipConditionsGetter, Abra:DataCollectionSettingsWrapper");var O=function(){function e(e){this.privacyUtils=e,this.propertiesToIgnore=V.convertArrayToObject(["xpath"])}return e.prototype.censorEvent=function(e){var t=e.event;if(t.element){if(this.privacyUtils.removeInputValues&&("keypress"===t.type||"change"===t.type)){var r=e.data&&e.data.censorshipData&&e.data.censorshipData.tagName;"select"!==r&&(t.element.value=void 0,t.element.text=void 0)}t.element=this.privacyUtils.filterCreditCard(t.element,this.propertiesToIgnore)}},e.prototype.createCensorshipData=function(e){return{tagName:g.getLowerCaseTagName(e.getElement())}},e}();i.registerClass("Abra:TextValueCensorship",O,"Abra:PrivacyUtils");var k;!function(e){e[e.Creating=0]="Creating",e[e.Altering=1]="Altering",e[e.Finalizing=1e3]="Finalizing"}(k||(k={}));var F=function(){function e(e,t,r){this.promiseManager=e,this.jQuery=t,this.logger=r,this.providers=[],this.providersCount=0}return e.prototype.build=function(t){var r=this;if(0===this.providersCount)return this.promiseManager.resolve(t.event);return this.jQuery(e.ProvidersTypeOrder).reduce(function(e,n){return e.then(function(){return r.runProvidersGroup(t,r.providers[n])})},this.promiseManager.resolve()).then(function(){return t.event})},e.prototype.runProvidersGroup=function(e,t){var r=this,n=[];if(t)for(var i=function(i){var o=t[i];try{var a=o.handler(e);if(a){var u=a["catch"](function(e){r.logger.error("failed to run provider",e,{providerName:o.name,promise:!0})});n.push(u)}}catch(l){s.logger.error("failed to run provider",l,{providerName:o.name})}},s=this,o=0;o<t.length;o++)i(o);return this.promiseManager.all(n)},e.prototype.register=function(e,t,r){void 0===r&&(r=k.Creating),this.providers[r]=this.providers[r]||[],this.providers[r].push({name:e,handler:t}),this.providersCount++},e.ProvidersTypeOrder=[k.Creating,k.Altering,k.Finalizing],e}();i.registerClass("Abra:EventBuilder",F,"PromiseManager, wmjQuery, Abra:Logger");var U=function(){function e(){this.throttleTTL=6e4,this.cache={}}return e.prototype.shouldThrottle=function(e,t){var r=ue.now();return!!this.existsInCache(e,t,r)||(this.saveToCache(e,t,r),!1)},e.prototype.existsInCache=function(e,t,r){var n=this.cache[t];return n&&r<=n.time+this.throttleTTL&&e.xpath===n.description.xpath&&e.value===n.description.value&&e.text===n.description.text&&e.label===n.description.label},e.prototype.saveToCache=function(e,t,r){var n={xpath:e.xpath,value:e.value,text:e.text,label:e.label};this.cache[t]={description:n,time:r}},e.prototype.setThrottleTTL=function(e){this.throttleTTL=e},e}();i.registerClass("Abra:EventThrottle",U);var Q=function(){function e(e){this.walkme=e}return e.prototype.isCaptureBindCompatible=function(){var e=this.walkme.getHostData();return e.isIE(9,"gte")||!e.isIE()},e}();i.registerClass("Abra:CompatibilityUtils",Q,"Abra:Walkme");var N=function(){function e(e,t,r){this.promiseManager=e,this.jQuery=t,this.logger=r}return e.prototype.wrapCatch=function(e){var t=this;return function(r){return t.promiseManager.reject(t.wrapError(r,e))}},e.prototype.wrapCall=function(e,t){try{return e()}catch(r){throw this.wrapError(r,t)}},e.prototype.bindCall=function(e,t,r){void 0===e&&(e=null);var n=this;return function(){try{return t.apply(e,arguments)}catch(i){throw n.wrapError(i,r)}}},e.prototype.wrapCallAndLog=function(e,t,r){try{return e()}catch(n){n=this.wrapError(n,r),this.logger.error(t,n,n.extraData)}},e.prototype.wrapError=function(e,t){var r="string"==typeof e?{message:e}:e||{message:"no error provided"};return t="string"!=typeof t?t||{}:{failPoint:t},r.extraData=this.jQuery.extend(t,r.extraData),r},e}();i.registerClass("Abra:ErrorUtils",N,"PromiseManager, wmjQuery, Abra:Logger");var G=function(){function e(e){this.eventsSenderFactory=e}return e.prototype.init=function(e){var t={name:"Abra",postEventAction:"/event/tell",storageConfig:{keyName:e,autoSave:!1,expiresSeconds:600},stagingStorageConfig:{keyName:e+"-s",autoSave:!1,expiresSeconds:600},failureStorageConfig:{keyName:e+"-f",autoSave:!0,expiresSeconds:86400},storageType:"session",dataSender:"accumulation",clientStorageManager:"ArrayBuffer",clientStagingStorageManager:"ArrayBuffer"};this.sender=this.eventsSenderFactory.generateAndGetEventsSender(t),this.sender.enable()},e.prototype.disable=function(){this.sender&&(this.sender.sleep(),this.sender.disable(),this.sender=void 0)},e.prototype.send=function(e){this.sender&&this.sender.send(e)},e}();i.registerClass("Abra:EventsSenderWrapper",G,"EventsSenderFactory");var W=function(){function e(e,t,r,n){this.iFramesManager=e,this.uIChangeTracker=t,this.featuresManager=r,this.logger=n}return e.prototype.load=function(){var t=this;if(this.isSpa()||this.iFramesManager.mapIframes(),this.featuresManager.isFeatureEnabled("Abra-ObserveIframes"))try{this.iframeObserver=new _(e.IframeObserverMaxDrillDown),this.iframeObserver.observe(function(){t.iFramesManager.remapTopIframes()},function(e){t.logger.error("iframe mutation observer callback error",e)})}catch(r){this.logger.error("error observing iframe mutations",r)}},e.prototype.unload=function(){this.iframeObserver&&(this.iframeObserver.disconnect(),this.iframeObserver=void 0)},e.prototype.forEach=function(e){var t=this;e(document);try{var r=function(r){var n=r.documentAccessible&&t.getDocument(r.iframe);n&&e(n)};this.iFramesManager.foreachIframe(r,!0),this.iFramesManager.onIframeLoad(r)}catch(n){}},e.prototype.getDocument=function(e){try{var t=e.contentWindow&&e.contentWindow.document;return t=t||e.contentWindow&&e.contentWindow.window&&e.contentWindow.window.document,t=t||e.contentDocument}catch(r){}},e.prototype.isSpa=function(){return this.uIChangeTracker.isActivated()},e.IframeObserverMaxDrillDown=3,e}();i.registerClass("Abra:FrameBinder",W,"IFramesManager, UIChangeTracker, FeaturesManager, Abra:Logger");var R,B=function(){function e(){}return e.isIframe=function(){return top!==window},e.getTopTitle=function(){return top.window.document.title},e}();!function(e){function t(e){var t=!1;return function(){if(!t)return t=!0,e()}}e.allowOnce=t}(R||(R={}));var V,_=function(){function e(e){this.maxDrillDown=e}return e.prototype.observe=function(e,t){var r=this,n=window.MutationObserver;if(n){var i={attributes:!1,childList:!0,subtree:!0};this.observer=new n(function(n){try{r.wasIframeAdded(n)&&e()}catch(i){t(i)}}),this.observer.observe(document,i)}},e.prototype.disconnect=function(){this.observer.disconnect()},e.prototype.wasIframeAdded=function(t){for(var r=0;r<t.length;r++){var n=t[r];if("childList"==n.type)for(var i=n.addedNodes,s=0;s<i.length;s++)if(e.isParentNodeContainsIframe(i[s],this.maxDrillDown))return!0}return!1},e.isParentNodeContainsIframe=function(t,r){if(t&&(t.nodeType===ce.Element||t.nodeType===ce.DocumentType||t.nodeType===ce.Document||t.nodeType===ce.DocumentFragment)){if("IFRAME"===t.nodeName)return!0;var n=t.children;if(r>0&&n)for(var i=0;i<n.length;i++)if(e.isParentNodeContainsIframe(n[i],r-1))return!0}return!1},e}();!function(e){function t(e,t){return{key:e,value:t}}e.createKeyValuePair=t;function r(e){for(var t={},r=0;r<e.length;r++)t[e[r]]=!0;return t}e.convertArrayToObject=r;function n(e){for(var t={},r=0;r<e.length;r++)t[e[r]]=r;return t}e.convertArrayToValueIndexMap=n}(V||(V={}));var z=function(){function e(e,t,r,n,i){this.jQuery=e,this.censorshipMethodsProvider=t,this.elementParentsGetter=r,this.featuresManager=n,this.dataCollectionSettings=i,this.allowedInputTypes=["radio","checkbox","button","reset","submit"],this.removeInputValues=!0,this.censorAllText=!1;var s=i.get();this.removeInputValues="collect"!==(s&&s.element&&s.element.inputValues),this.removeInputValues||(this.allowedInputTypes=e.merge(this.allowedInputTypes,["text","search","number","tel","email","url"])),n.isFeatureEnabled("UbtNoText")&&(this.censorAllText=!0)}return e.prototype.isPrivacyUnsafeElementType=function(e){if(e.nodeType===ce.Element&&e.tagName){if(this.removeInputValues&&"true"===this.jQuery(e).attr("contenteditable"))return!0;var t=g.getLowerCaseTagName(e);if(this.removeInputValues&&"textarea"===t)return!0;if("input"===t){var r=(e.type||"").toLowerCase();if(this.jQuery.inArray(r,this.allowedInputTypes)!==-1)return!1;return!0}}return!1},e.prototype.filterCreditCard=function(t,r){if(void 0===r&&(r={}),t){var n=typeof t;if("object"===n)if("number"!=typeof t.length||t.propertyIsEnumerable("length"))for(var i in t)t.hasOwnProperty(i)&&!r[i]&&(t[i]=this.filterCreditCard(t[i]));else for(var s=t.length-1;s>=0;s--)t[s]=this.filterCreditCard(t[s]);else if("string"===n&&t.length>=12){if(e.isCreditCard(t))return null}else if("number"===n&&t>=99999999999)return null}return t},e.isCreditCard=function(e){return e.length>=12&&this.creditCardRegex.test(e)},e.prototype.shouldCensorText=function(e,t){if(this.censorAllText)return!0;return e=e||this.elementParentsGetter.getFromElement(t),this.censorshipMethodsProvider.provide(e).removeTextValues},e.creditCardRegex=/(?:[\s\xA0-]{0,5}\d{4,}){3}/,e}();i.registerClass("Abra:PrivacyUtils",z,"wmjQuery, Abra:CensorshipMethodsProvider, Abra:ElementParentsGetter, FeaturesManager, Abra:DataCollectionSettingsWrapper");var H=function(){function e(){}return e.prototype.gamble=function(e){return Math.random()<=e},e}();i.registerClass("Abra:StatisticsUtils",H);var X=function(){function e(e){this.walkmeCommonUtils=e}return e.prototype.stringify=function(e){return this.walkmeCommonUtils.toJSON(e)},e.prototype.parse=function(e){return this.walkmeCommonUtils.secureEvalJSON(e)},e}();i.registerClass("Abra:JSON",X,"CommonUtils");var J=function(){function e(e,t,r,n,i){var s=this;this.storageManager=e,this.promiseManager=t,this.guidGenerator=r,this.sessionPersister=n,this.jQuery=i,this.libCallback=function(){return s.createNew()}}return e.prototype.load=function(){if(this.jQuery(a.WalkmeInternals).on(e.LibNewSessionEventName,this.libCallback),this.sessionPersister.isNewSession())return this.promiseManager.resolve(this.createNew());return this.getOrCreate()},e.prototype.unload=function(){this.jQuery(a.WalkmeInternals).off(e.LibNewSessionEventName,this.libCallback)},e.prototype.getOrCreate=function(){var e=this;return this.get().then(function(t){return t||e.createNew()})},e.prototype.get=function(){var t=this;return new this.promiseManager.Promise(function(r){t.storageManager.getStorage().getData(e.WindowIdStorageKey,void 0,void 0,function(e){r(e)})})},e.prototype.createNew=function(){var t=this.guidGenerator.generateGuid(!0);return this.storageManager.getStorage().saveData(e.WindowIdStorageKey,t),t},e.WindowIdStorageKey="__WMML_SESSION_ID__",e.LibNewSessionEventName="NewSession",e}();i.registerClass("Abra:WindowIdGetter",J,"Abra:StorageManager, PromiseManager, GuidGenerator, SessionPersister, wmjQuery");var K=function(){function e(e){this.customerLog=e.wrapCustomerLog("Abra")}return e.prototype.error=function(e,t){this.logError(1,e,t)},e.prototype.warn=function(e,t){this.logError(2,e,t)},e.prototype.info=function(e){this.log(3,e)},e.prototype.debug=function(e){this.log(4,e)},e.prototype.logError=function(e,t,r){var n=r&&r.stack||(r&&r.length?r:"");this.customerLog(t+": "+n,e)},e.prototype.log=function(e,t){this.customerLog(t,e)},e}(),q=function(e){n(t,e);function t(t,r,n,s,o,a){var u=e.call(this,n)||this;u.serverLogger=t,u.ubtPerformance=r,u.walkmeLogger=n,u.walkMeInfo=s,u.featuresManager=o,u.wmjQuery=a,u.enableServerLogger=!0;try{u.libVersion=s.getLibVersion(),o.isFeatureEnabled("UbtReduceServerLogs")&&Math.random()>.05&&(u.enableServerLogger=!1),i.getCtx().has("CleanObject")&&(u.cleanObject=i.getCtx().get("CleanObject"))}catch(l){}return u}return t.registerLogger=function(e){var r="Abra:Logger";return e.has(r)||e.register(r).asCtor(t).dependencies("EventSenderErrorLogger, Abra:UbtPerformance, Logger, WalkMeInfo, FeaturesManager, wmjQuery"),e.get(r)},t.prototype.error=function(t,r,n){void 0===n&&(n={}),n.app=a.App.name,n.version=a.App.version,n.rev=a.App.rev,n.libVersion=this.libVersion,r&&("string"==typeof r?n.errorMsg=r:(r.message||r.stack||r.extraData)&&(n.errorMsg=r.message,n.stack=r.stack,n=r.extraData?this.wmjQuery.extend(n,r.extraData):n)),void 0===n.errorMsg&&void 0!==r&&(n.errorMsg='could not get errorMsg, error type is "'+typeof r+'"'),this.cleanObject&&(n=this.cleanObject(n)),this.enableServerLogger&&this.serverLogger.logError(t,n),e.prototype.error.call(this,t,r)},t.prototype.perf=function(e){return this.ubtPerformance.perf(e)},t}(K),$=function(){function e(e){this.performanceLogger=e,this.perfOptions=this.createPerfOptions()}return e.prototype.createPerfOptions=function(){return{extraData:{app:a.App.name,version:a.App.version,gitRevision:a.App.rev}}},e.prototype.perf=function(e){var t=this.performanceLogger.measure(a.App.name+"-"+e,this.perfOptions);return{stop:function(){return t&&t.stop()},step:function(e){}}},e}(),Z=function(){function e(e,t,r){if(this.logger=e,this.settings={},i.getCtx().has("DataCollectionSettings")){var n=i.getCtx().get("DataCollectionSettings").get();this.settings=t.extend(!0,{},n),r.gamble(.02)&&this.validateSettings(this.settings)}this.settings.element=this.settings.element||{},this.applyCensorshipDefaults(),this.applyXpathDefaults()}return e.prototype.validateSettings=function(e){e.element||e.page||e.loading||this.logger.error("Collection settings are missing, using default")},e.prototype.applyCensorshipDefaults=function(){this.settings.element.censorshipRules=this.settings.element.censorshipRules||[],this.settings.element.censorshipRules.push({type:"classInElementTree",values:["jaco-hide","wm-hide"],methods:["removeTextValues"]})},e.prototype.applyXpathDefaults=function(){this.settings.element.xpath=this.settings.element.xpath||{},this.settings.element.xpath.classMaxLength=this.settings.element.xpath.classMaxLength||35,this.settings.element.xpath.idMaxLength=this.settings.element.xpath.idMaxLength||40,this.settings.element.xpath.attributeMaxLength=this.settings.element.xpath.attributeMaxLength||300,this.settings.element.xpath.xpathMaxLength=this.settings.element.xpath.xpathMaxLength||3e3},e.prototype.get=function(){return this.settings},e}();i.registerClass("Abra:DataCollectionSettingsWrapper",Z,"Abra:Logger, wmjQuery, Abra:StatisticsUtils");var Y=function(){function e(e,t){this.dataCollectionSettings=e,this.featuresManager=t,this.result=void 0}return e.prototype.shouldCensorUrl=function(){return void 0===this.result&&(this.result=this.checkCollectionSettings()||this.checkLegacyFlags()),this.result},e.prototype.checkCollectionSettings=function(){var e=this.dataCollectionSettings.get();return!!(e&&e.page&&e.page.censorship&&e.page.censorship.url)},e.prototype.checkLegacyFlags=function(){return this.featuresManager.isFeatureEnabled("disableWidgetOpenFullUrl")||this.featuresManager.isFeatureEnabled("dontSendPageUrl")},e}();i.registerClass("Abra:UrlCensorshipController",Y,"Abra:DataCollectionSettingsWrapper, FeaturesManager");var ee=function(){function e(e){this.storage=e}return e.prototype.getData=function(e,t,r,n){this.storage.sessionGetData(e,t,r,n)},e.prototype.saveData=function(e,t){this.storage.sessionSetData(e,t)},e}(),te=function(){function e(){}return e.prototype.getData=function(e,t,r,n){n(sessionStorage[e]||t)},e.prototype.saveData=function(e,t){sessionStorage[e]=t},e}(),re=function(){function e(e){this.walkme=e,this.isCrossDomain()?this.storage=new ee(this.walkme.getClientStorageManager()):this.storage=new te}return e.prototype.isCrossDomain=function(){var e=this.walkme.getStorageType();if(e.indexOf("crossdomain")!==-1)return!0;return!1},e.prototype.getStorage=function(){return this.storage},e}();i.registerClass("Abra:StorageManager",re,"Abra:Walkme");var ne=function(){function e(e,t){this.promiseManager=e,this.storageManager=t}return e.prototype.getStorageKey=function(){var t=this;return new this.promiseManager.Promise(function(r){B.isIframe()?t.storageManager.getStorage().getData(e.StorageNumberKey,1,void 0,function(n){t.storageManager.getStorage().saveData(e.StorageNumberKey,Number(n)+1),r("wm-dc-storage"+n)}):r("wm-dc-storage0")})},e.StorageNumberKey="__WMML_STORAGE_NUM__",e}();i.registerClass("Abra:StorageSynchronizer",ne,"PromiseManager, Abra:StorageManager");var ie=function(){function e(){}return e.Value={element:{autoQuery:500,text:500,value:120},ctx:{topTitle:512}},e}(),se=function(){function e(){this.buffer=[]}return e.prototype.append=function(e){this.buffer.push(e)},e.prototype.toString=function(){var e=this.buffer.join("");return e},e}(),oe=function(){function e(){}return e.escapeSurrogatePairs=function(t){if(!e.containsSurrogatePair(t))return t;for(var r=-1,n=t.length,i=new se;++r<n;){var s=t.charAt(r);/[\uD800-\uDBFF]/.test(s)||/[\uDC00-\uDFFF]/.test(s)?i.append(e.escapeChar(s)):i.append(s)}return i.toString()},e.containsSurrogatePair=function(e){var t=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g;return null!=t.exec(e)},e.escapeChar=function(e){var t=e.charCodeAt(0),r=t.toString(16).toUpperCase(),n=r.length>2,i="\\"+(n?"u":"x")+("0000"+r).slice(n?-4:-2);return i},e}(),ae=function(){function e(e){this.privacyUtils=e}return e.substringObject=function(t,r){if(t&&r&&"object"==typeof r)for(var n in t)if(t.hasOwnProperty(n)&&r.hasOwnProperty(n)){var i=typeof r[n];"string"===i&&"number"==typeof t[n]?r[n]=r[n].substring(0,t[n]):"object"===i&&(r[n]=e.substringObject(t[n],r[n]))}return r},e.trim=function(e,t){if(void 0!==t)return e.replace(/^[\s\uFEFF\xA0]+/g,"").substr(0,t).replace(/[\s\uFEFF\xA0]+$/g,"");return e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")},e.removeExtraSpaces=function(e){var t=/\s+/g;return e.replace(t," ").trim()},e.extractElementText=function(t){var r=t.nodeValue;return r&&(r=e.removeExtraSpaces(r),r=oe.escapeSurrogatePairs(r)),r},e.prototype.collectText=function(e,t){var r={textBuffer:[],totalLength:0,active:!0};this.collectTextInner(e,t,r);var n=r.textBuffer.join("\n");return void 0!==t.maxLength&&n.length>t.maxLength&&(n=n.substring(0,t.maxLength)),n},e.prototype.collectTextInner=function(t,r,n){if(t&&!this.privacyUtils.isPrivacyUnsafeElementType(t)){if(g.isElementTextNode(t)){var i=e.extractElementText(t);if(i&&0!==i.length){void 0!==r.maxNodeTextLength&&(i=i.substring(0,r.maxNodeTextLength));var s=!1;void 0!==r.textFilterCb&&(s=r.textFilterCb(i,t.nodeValue)!==!0),s===!1&&(n.textBuffer.push(i),n.totalLength+=i.length,(void 0!==r.maxLength&&n.totalLength>=r.maxLength||r.collectFirstOnly===!0)&&(n.active=!1))}}var o=!1;if(r.includeNonVisual!==!0&&(o=g.isVisualDomElement(t)===!1),t.childNodes&&n.active&&o===!1)for(var a=0,u=t.childNodes.length;a<u&&n.active;a++)this.collectTextInner(t.childNodes[a],r,n)}},e.escapeRegExp=function(e){return e.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")},e.escapeJQuerySelectorAttributeValue=function(e){return e.replace(this.escapeJQuerySelectorAttributeValueRegex,'\\"')},e.escapeJQuerySelectorAttributeValueRegex=/"/g,e}();i.registerClass("Abra:TextUtils",ae,"Abra:PrivacyUtils");var ue=function(){function e(e,t){this.timerManager=e,this.errorUtils=t,this.enabled=!0}return e.prototype.clearTimeout=function(e){e&&e.clear()},e.prototype.disable=function(){this.enabled=!1},e.prototype.setTimeout=function(e,t){var r=this;if(this.enabled)return this.timerManager.libSetTimeout(function(){return r.enabled&&r.errorUtils.wrapCallAndLog(e,"timeout")},t)},e.prototype.createOnNextEventLoopFunc=function(e){var t=this;return function(){t.timerManager.libSetTimeout(e,0)}},e.now=function(){return(new Date).getTime()},e.getTimingData=function(){var e=window.performance,t=e&&e.timing;if(t){var r=t.navigationStart,n=t.loadEventEnd;return{navStart:r,loadTime:n-r}}},e}();i.registerClass("Abra:TimingUtils",ue,"TimerManager, Abra:ErrorUtils");var le=function(){function e(e){this.timingUtils=e}return e.prototype.create=function(e,t){return new he(this.timingUtils,e,t)},e}();i.registerClass("Abra:ReusableTimerFactory",le,"Abra:TimingUtils");var ce,he=function(){function e(e,t,r){this.timingUtils=e,this.callback=t,this.delay=r}return e.prototype.clear=function(){this.timerHandle&&(this.timingUtils.clearTimeout(this.timerHandle),this.timerHandle=void 0)},e.prototype.set=function(){this.clear(),this.timerHandle=this.timingUtils.setTimeout(this.callback,this.delay)},e}();!function(e){e[e.Element=1]="Element",e[e.Text=3]="Text",e[e.CDATASection=4]="CDATASection",e[e.DocumentType=9]="DocumentType",e[e.Document=10]="Document",e[e.DocumentFragment=11]="DocumentFragment"}(ce||(ce={}));var pe;!function(e){e[e.TrackedEvent=1]="TrackedEvent",e[e.Sampling=2]="Sampling"}(pe||(pe={}));var ge=function(){function e(e,t){this.statisticsUtils=e,this.isEnabledFlag=!1,this.chance=0;var r,n=t.getSync();n&&n.trackedEventsWhitelist&&n.trackedEventsWhitelist.settings&&(r=n.trackedEventsWhitelist.settings.sampleRate),"number"==typeof r&&r>0&&(this.chance=1/r,this.isEnabledFlag=!0)}return e.prototype.shouldSample=function(){return this.isEnabledFlag&&this.statisticsUtils.gamble(this.chance)},e.prototype.isEnabled=function(){return this.isEnabledFlag},e}();i.registerClass("Abra:EventSampler",ge,"Abra:StatisticsUtils, Abra:InsightsConfigurationGetter");var de=function(){function e(e,t,r,n){this.jQuery=e,this.trackedElementsGetter=t,this.eventSampler=r,this.logger=n}return e.prototype.shouldSend=function(t,r,n){var i=t.getEventType();if("mousedown"!==i&&"change"!==i&&"dblclick"!==i)return e.Results.Collect;var s=this.trackedElementsGetter.get(i);if(!s&&!this.eventSampler.isEnabled())return e.Results.Collect;if(s&&this.isWhitelistConditionsApply(t,r,n,s))return e.Results.TrackedEvent;if(this.eventSampler.shouldSample())return e.Results.Sampling;return e.Results.DoNotCollect},e.prototype.isWhitelistConditionsApply=function(e,t,r,n){ve.prepareOptimizationObject(n);var i=this.logger.perf("whitelist filter");i.step("ids and classes");for(var s=r.length-1;s>=0;s--){var o=r[s];if(o.id){if(n.ids&&n.ids[o.id])return!0;n._selectorsOptimization&&n._selectorsOptimization.usedInSelectors.ids&&void 0!==n._selectorsOptimization.usedInSelectors.ids[o.id]&&(n._selectorsOptimization.existInXpath.ids[n._selectorsOptimization.usedInSelectors.ids[o.id]]=!0)}for(var a=0;a<o.classes.length;a++){if(n.classes&&n.classes[o.classes[a]])return!0;n._selectorsOptimization&&n._selectorsOptimization.usedInSelectors.classes&&void 0!==n._selectorsOptimization.usedInSelectors.classes[o.classes[a]]&&(n._selectorsOptimization.existInXpath.classes[n._selectorsOptimization.usedInSelectors.classes[o.classes[a]]]=!0)}if(n._selectorsOptimization&&n._selectorsOptimization.usedInSelectors.tags&&void 0!==n._selectorsOptimization.usedInSelectors.tags[o.tagName]&&(n._selectorsOptimization.existInXpath.tags[n._selectorsOptimization.usedInSelectors.tags[o.tagName]]=!0),n._selectorsOptimization&&n._selectorsOptimization.usedInSelectors.attributes)for(var a=0;a<o.attributes.length;a++)void 0!==n._selectorsOptimization.usedInSelectors.attributes[o.attributes[a].key]&&(n._selectorsOptimization.existInXpath.attributes[n._selectorsOptimization.usedInSelectors.attributes[o.attributes[a].key]]=!0)}if(i.step("text"),t&&t.text&&n.text&&n.text[t.text])return!0;
if(i.step("labels"),t&&t.label&&n.labels&&n.labels[t.label])return!0;if(i.step("selectors"),n.selectors)for(var u=void 0,s=0;s<n.selectors.length;s++)if(n.selectors[s]&&ve.shouldRunSelector(n,s)){u=u||this.prepareParents(e.getParents());try{for(var a=u.length-1;a>=0;a--)if(u[a].is(n.selectors[s]))return!0}catch(l){n.selectors[s]=null}}return i.stop(),!1},e.prototype.prepareParents=function(t){var r=this;return this.jQuery(t.slice(-e.SelectorsMaxParents)).map(function(e,t){return r.jQuery(t)}).get()},e.SelectorsMaxParents=50,e.Results={DoNotCollect:{result:!1},Collect:{result:!0},TrackedEvent:{result:!0,reason:pe.TrackedEvent},Sampling:{result:!0,reason:pe.Sampling}},e}();i.registerClass("Abra:TrackedElementsFilter",de,"wmjQuery, Abra:TrackedElementsGetter, Abra:EventSampler, Abra:Logger");var fe=function(){function e(e){this.insightsConfigurationGetter=e}return e.prototype.get=function(e){var t=this.insightsConfigurationGetter.getSync();if(t){var r=t.trackedEventsWhitelist;if(r)switch(e){case"change":return r.inputs||{};default:return r.clicks||{}}}return null},e}();i.registerClass("Abra:TrackedElementsGetter",fe,"Abra:InsightsConfigurationGetter");var ve=function(){function e(){}return e.prepareOptimizationObject=function(t){if(!(t&&t.selectorsComponents&&t.selectorsComponents.symbols&&t.selectorsComponents.usage))return;if(t._selectorsOptimization)for(var r=0;r<e.ComponentTypes.length;r++)e.resetArray(t._selectorsOptimization.existInXpath[e.ComponentTypes[r]]);else t._selectorsOptimization=this.createOptimizationObject(t)},e.shouldRunSelector=function(t,r){if(!t._selectorsOptimization)return!0;for(var n=0;n<e.ComponentTypes.length;n++){var i=e.ComponentTypes[n],s=t.selectorsComponents.usage[i]&&t.selectorsComponents.usage[i][r];if(s&&t._selectorsOptimization.existInXpath[i])for(var o=0;o<s.length;o++)if(!t._selectorsOptimization.existInXpath[i][s[o]])return!1}return!0},e.createOptimizationObject=function(t){for(var r={usedInSelectors:{},existInXpath:{}},n=0;n<e.ComponentTypes.length;n++){var i=e.ComponentTypes[n];t.selectorsComponents.symbols[i]&&(r.usedInSelectors[i]=V.convertArrayToValueIndexMap(t.selectorsComponents.symbols[i]),r.existInXpath[i]=this.createCompareArray(t.selectorsComponents.symbols[i].length))}return r},e.createCompareArray=function(e){for(var t=[],r=0;r<e;r++)t.push(!1);return t},e.resetArray=function(e){if(!e)return;for(var t=0;t<e.length;t++)e[t]=!1},e.ComponentTypes=["ids","classes","attributes","tags"],e}()},function(e,t,r){var n=r(6);function i(e){i.prototype.encode=function(t){var r=n.encode(e.stringify(t));return{_enc:r}}}e.exports={Encoder:i}},function(e,t){var r=31;function n(e){for(var t,n=[],i=e.length-1;i>=0;i--)t=e.charCodeAt(i),n.push(~(t&r)&r|t&~r);return String.fromCharCode.apply(null,n)}e.exports={decode:n,encode:n}},function(e,t,r){e.exports=function(e){var t=new(r(8))(e),n=new(r(9))(t,e);return n}},function(e,t){e.exports=r;function r(e){this.getJQuery=t;function t(t){if(e.jquery)return e.jquery;if(e.getJQuery)return e.getJQuery(t);var r=n(t);return r&&r.wmjQuery}function r(t){if(e.fnName)return e.fnName;if(t){if(t.getLibWrappedWindow)return"getLibWrappedWindow";if(t.getLibWindow)return"getLibWindow"}}function n(t){if(e.winProvider){var n=r(e.winProvider);return e.winProvider[n](t)}return window}}},function(e,t){e.exports=r;function r(e,t){this.isEnabled=function(){try{return t.featuresService&&t.featuresService.isEnabled("jQueryProxy")}catch(e){return!1}},this.jqProxyProp=function(t,r){if(this.isEnabled()){var n=e.getJQuery(t);if(n&&n.fnHelpers)return n.fnHelpers[r](t)}return t[r]},this.parentNode=function(e){return this.jqProxyProp(e,"parentNode")},this.firstElementChild=function(e){return this.jqProxyProp(e,"firstElementChild")},this.childNodes=function(e){return this.jqProxyProp(e,"childNodes")},this.previousSibling=function(e){return this.jqProxyProp(e,"previousSibling")}}},function(e,t,r){!function(t,r){"object"==typeof e&&"object"==typeof e.exports?e.exports=r:t.queryGenerator=r}(this,function(e,t){var n;return function(n){var i=["DIV","SPAN","HTML","BODY","TR","TD"],s=["'"],o=r(11);o.setJQuery(e);function a(t){var r=c(t),n=[t[0]].concat(r),i=e.map(n,f),s=h(i,function(e){return null!==e}),o=g(s);o=o.reverse();var a=e.map(o,p),u=a.join(" ");return l(u)?u:void 0}n.generate=a;function u(e,t,r){if(!e)return e;var n=/^((.+) )*(([^\[]+)(\[id=".*"\])?)$/,i=e.match(n),s=i[1]||"",a=i[4],u=s+a;return!t&&r&&o.isPhraseHuman(r)&&(u+='[id="'+r+'"]'),u}n.modifyAutoQuery=u;function l(e){if(!e||!e.length)return!1;for(var t=0;t<s.length;t++)if(e.indexOf(s[t])>=0)return!1;return!0}function c(e,r){for(var n=t.parentNode(e[0]),i=r&&r[0]&&t.parentNode(r[0]),s=[];n&&1==n.nodeType&&n!=i;n=t.parentNode(n))s.push(n);return s}function h(e,t){for(var r=[],n=0;n<e.length;++n){var i=e[n];t(i)&&r.push(i)}return r}function p(e){var t=e.tagName;return e.id&&(t+='[id="'+e.id+'"]'),t}function g(e){for(var t=e.length,r=0;r<e.length;r++){var n=e[r];if(n.id){t=r;break}}var i=e.slice(0,t+1);return i}function d(e){var t=e.attr("id");if(t&&o.isPhraseHuman(t))return t;return null}function f(t,r){var n=e(t),s=d(n),o=n[0].tagName,a=e.inArray(o,i)>=0,u=0===r,l=u||s||!a;if(!l)return null;var c={tagName:o,id:s};return c}}(n||(n={})),n})},function(e,t){var r;!function(e){var t,r,n=/[a-zA-Z]/,i=/[0-9]/;!function(e){e[e.Digit=0]="Digit",e[e.Alphabet=1]="Alphabet",e[e.Other=2]="Other"}(r||(r={}));function s(e){t=e}e.setJQuery=s;function o(e){var t=new h,r=new u(e),n=t.isHuman(r);return n}e.isPhraseHuman=o;function a(e){if(n.test(e))return r.Alphabet;if(i.test(e))return r.Digit;return r.Other}var u=function(){function e(e){this.words=[],this.raw=e,this.buildWords()}return e.prototype.buildWords=function(){this.splitCategories()},e.prototype.addWord=function(e){var n=this;if(e=t.trim(e),!e)return;if(a(e[0])!==r.Alphabet)this.words.push(e);else{var i=this.splitCamelCase(e);t.each(i,function(e,t){return n.words.push(t.toLowerCase())})}},e.prototype.splitCamelCase=function(e){var t=e.replace(/([a-z](?=[A-Z]))/g,"$1 "),r=t.split(" ");return r},e.prototype.splitCategories=function(){for(var e,t=a(this.raw[0]),r=0,n=0;n<this.raw.length;n++){var i=this.raw[n],s=a(i);s!=t&&(e=this.raw.substring(n,r),this.addWord(e),r=n,t=s)}e=this.raw.substring(r,n+1),this.addWord(e)},e}();e.Sentence=u;var l=5,c=function(){function e(){var e=this;this.WHITE_LIST=["html","css","btn","js","http","a"],this.VOWELS="aeiou",this.pointers={},this.pointers[r.Alphabet]=function(t){return e.alphabetPred(t)},this.pointers[r.Digit]=function(t){return e.numberPred(t)},this.pointers[r.Other]=function(t){return e.otherPred(t)}}return e.prototype.numberPred=function(e){return!1},e.prototype.otherPred=function(e){return!0},e.prototype.alphabetPred=function(e){for(var t=0,r=0;r<e.length;r++){var n=e[r];if(this.VOWELS.indexOf(n)==-1?t++:t=0,t>=l)return!1}return!0},e.prototype.isHuman=function(e){if(this.contains(this.WHITE_LIST,e))return!0;var t=a(e[0]),r=this.pointers[t],n=r(e);return n},e.prototype.contains=function(e,r){return t.inArray(r,e)!==-1},e}();e.WordClassifier=c;var h=function(){function e(){}return e.prototype.isHuman=function(e){if(e.raw.length<=2)return!1;if(this.isUrl(e))return!1;var r=new c,n=t.map(e.words,function(e,t){return r.isHuman(e)}),i=this.all(n);return i},e.prototype.all=function(e){for(var t=e.length-1;t>=0;t--)if(!e[t])return!1;return!0},e.prototype.isUrl=function(e){var t=0==e.raw.indexOf("/")||0==e.raw.indexOf("http");return t},e}();e.SentanceClassifier=h}(r||(r={})),e.exports=r},function(e,t){t.__esModule=!0;var r;!function(e){var t=/([&=\.\]\[\/\#])/g,r=/\\([&=\.\]\[\/\#\\\/])/g;function n(e){return e.replace(t,"\\$1")}e.escape=n;function i(e){return e.replace(r,"$1")}e.unescape=i}(r=t.XpathEscaper||(t.XpathEscaper={}))}])});